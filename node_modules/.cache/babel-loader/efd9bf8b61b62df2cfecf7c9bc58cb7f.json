{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\asesor\\componentes\\agenda_asesor_capacitaciones.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\asesor\\componentes\\agenda_asesor_capacitaciones.vue","mtime":1712682815521},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport _defineProperty from \"C:/laragon/www/PRY_NEW_JEYSON/LOCAL/plataformaprolipa_vue/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { CalendarView, CalendarViewHeader } from 'vue-simple-calendar';\nimport moduleCalendar from '@/store/calendario_capacitacion/moduleCalendar.js';\nrequire('vue-simple-calendar/static/css/default.css');\nimport vSelect from 'vue-select';\nimport moment from 'moment';\nimport Datepicker from 'vuejs-datepicker';\nimport flatPickr from 'vue-flatpickr-component';\nimport 'flatpickr/dist/flatpickr.css';\nimport { en, he } from 'vuejs-datepicker/src/locale';\nexport default {\n  components: {\n    CalendarView: CalendarView,\n    CalendarViewHeader: CalendarViewHeader,\n    Datepicker: Datepicker,\n    flatPickr: flatPickr,\n    'v-select': vSelect,\n    temaSolicitud: ''\n  },\n  data: function data() {\n    var _ref;\n    return _ref = {\n      popupSolicitudes: false,\n      popupSolicitarTema: false,\n      counterDanger: false,\n      ciudadSelect: '',\n      popupAddNuevaInstitucion: false,\n      seleccionadoInsitucion: false,\n      nombreInstitucion: '',\n      busquedaInstitucion: \"\",\n      instituciones: [],\n      popupaddInstitucion: false,\n      tipoCapacitacion: '0',\n      usuario: [],\n      showDate: new Date(),\n      disabledFrom: false,\n      titulo: '',\n      id: 0,\n      title: '',\n      startDate: '',\n      observacion: '',\n      capacitadores: '',\n      endDate: '',\n      labelLocal: {\n        text: 'Baja',\n        color: 'success'\n      },\n      startDate_send: '',\n      endDate_send: '',\n      langHe: he,\n      langEn: en,\n      tema: '',\n      calendarView: 'month',\n      activePromptAddEvent: false,\n      label_cancel: 'Cancelar',\n      calendarViewTypes: [{\n        label: 'Mes',\n        val: 'month'\n      }, {\n        label: 'Semana',\n        val: 'week'\n      }, {\n        label: 'Año',\n        val: 'year'\n      }],\n      time: null,\n      configdateTimePicker: {\n        enableTime: true,\n        enableSeconds: false,\n        noCalendar: true\n      },\n      hora_inicio: '',\n      hora_fin: '',\n      institucion_id: ''\n    }, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_ref, \"counterDanger\", false), \"arregloCiudad\", []), \"temporalInstitucion\", {\n      ciudad: '',\n      nombreInstitucion: '',\n      region: '2',\n      periodo: ''\n    }), \"institucion_id_temporal\", ''), \"estado_institucion_temporal\", 0), \"periodo_id_temporal\", 0), \"nombreInstitucionTemporal\", ''), \"estado\", '5'), \"temas\", []), \"longitudCapacitaciones\", 0), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_ref, \"error\", false), \"messageError\", \"\"), \"filtroInstituciones\", []), \"popupFiltroInstitucion\", false), \"txtTema\", ''), \"txtObservacion\", ''), \"arregloSolicitudes\", []), \"encontrarCapacitaciones\", []), \"arregloPeriodos\", []), \"tipo\", '1'), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_ref, \"asesores\", []), \"asesor\", null), \"asistentes\", 0), \"counter_long\", 200), \"counterDanger\", false), \"link_reunion\", '');\n  },\n  computed: {\n    simpleCalendarEvents: function simpleCalendarEvents() {\n      return this.$store.state.calendar.events;\n    },\n    disabledDatesTo: function disabledDatesTo() {\n      var hoy = new Date();\n      var fecha = moment(hoy).add(4, 'days');\n      var fechaActual = moment(hoy).add(5, 'days');\n      var obtenerFecha = new Date(fechaActual);\n      var convertir = moment(obtenerFecha, 'DD/MM/YYYY HH:mm:ss').format('YYYY-MM-DD');\n      console.log('fecha', convertir);\n      localStorage.setItem('fecha_actual', convertir);\n      return {\n        to: new Date(fecha)\n      };\n    },\n    disabledDatesFrom: function disabledDatesFrom() {\n      return {\n        from: new Date(this.endDate)\n      };\n    },\n    calendarLabels: function calendarLabels() {\n      return this.$store.state.calendar.eventLabels;\n    },\n    labelColor: function labelColor() {\n      return function (label) {\n        if (label === 'business') return 'success';else if (label === 'work') return 'warning';else if (label === 'personal') return 'danger';else if (label === 'baja') return 'primary';\n      };\n    },\n    windowWidth: function windowWidth() {\n      return this.$store.state.windowWidth;\n    }\n  },\n  methods: {\n    getPeriodos: function getPeriodos() {\n      var me = this;\n      me.arregloPeriodos = [];\n      this.$http.get(this.$server_url + 'get_periodos_pedidos').then(function (res) {\n        var datos = res.data;\n        me.arregloPeriodos = datos.filter(function (p) {\n          return p.estado == 1 && p.region_idregion == me.temporalInstitucion.region;\n        });\n      }).catch(function (error) {});\n    },\n    //instituciones creadas por el asesor\n    getInstitucionCreadasByAsesor: function getInstitucionCreadasByAsesor() {\n      var me = this;\n      me.temporalInstitucion = {\n        ciudad: '',\n        nombreInstitucion: '',\n        region: '2',\n        periodo: ''\n      };\n      me.instituciones = [];\n      this.$http.get(this.$server_url + 'listaInsitucionAsesor?temporales=yes' + '&asesor_id=' + me.usuario.idusuario).then(function (res) {\n        me.instituciones = res.data;\n        me.$vs.loading.close();\n        if (res.data.message) {\n          me.$vs.notify({\n            text: res.data.message,\n            color: 'success',\n            iconPack: 'feather',\n            icon: 'icon-user',\n            time: 8000\n          });\n        }\n      }).catch(function (error) {\n        console.log(error + ' error');\n        me.$vs.loading.close();\n      });\n    },\n    openConfirm: function openConfirm(tr) {\n      var me = this;\n      if (tr.estado == 1) {\n        me.$vs.notify({\n          color: 'primary',\n          title: 'Mensaje',\n          text: 'No se puede eliminar por que el tema ya esta creado'\n        });\n        return false;\n      }\n      me.id = tr.id;\n      me.popupSolicitudes = false;\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: \"Confirmaci\\xF3n\",\n        text: 'Estas seguro de eliminar la solicitud.',\n        accept: this.eliminarSolicitud,\n        cancel: this.cancel\n      });\n    },\n    cancel: function cancel() {\n      var me = this;\n      me.popupSolicitudes = true;\n    },\n    eliminarSolicitud: function eliminarSolicitud() {\n      var me = this;\n      me.$vs.loading();\n      this.$http.get(this.$server_url + 'solicitarTema?id=' + me.id + '&eliminar=yes').then(function (res) {\n        me.$vs.loading.close();\n        me.$vs.notify({\n          color: 'primary',\n          title: 'Mensaje',\n          text: 'Se elimino correctamente'\n        });\n        me.ListadoSolicitudes();\n      }).catch(function (error) {\n        console.log(error + ' error');\n        me.$vs.loading.close();\n      });\n    },\n    ListadoSolicitudes: function ListadoSolicitudes() {\n      var me = this;\n      me.$vs.loading();\n      this.$http.get(this.$server_url + 'solicitarTema?asesor_id=' + me.usuario.idusuario + '&listado=yes').then(function (res) {\n        me.$vs.loading.close();\n        me.popupSolicitudes = true;\n        me.arregloSolicitudes = res.data;\n      }).catch(function (error) {\n        console.log(error + ' error');\n        me.$vs.loading.close();\n      });\n    },\n    solicitarTema: function solicitarTema() {\n      var me = this;\n      if (me.txtTema == '') {\n        me.$vs.notify({\n          color: 'primary',\n          title: 'Mensaje',\n          text: \"El campo tema no puede quedar vacio\"\n        });\n        return false;\n      }\n      if (me.txtTema.length > 100) {\n        me.$vs.notify({\n          color: 'primary',\n          title: 'Mensaje',\n          text: \"El campo tema no puede ser mayor a 100 caracteres\"\n        });\n        return false;\n      }\n      me.$vs.loading();\n      this.$http.get(this.$server_url + 'solicitarTema?asesor_id=' + me.usuario.idusuario + '&tema=' + me.txtTema + '&observacion=' + me.txtObservacion).then(function (res) {\n        me.$vs.loading.close();\n        me.activePromptAddEvent = true;\n        me.popupSolicitarTema = false;\n        me.$vs.notify({\n          color: 'primary',\n          title: 'Mensaje',\n          text: res.data.message\n        });\n      }).catch(function (error) {\n        console.log(error + ' error');\n        me.$vs.loading.close();\n      });\n    },\n    //para obtener el listado de las capacitacion por institucion\n    getFiltroporInstitucion: function getFiltroporInstitucion() {\n      var me = this;\n      me.$vs.loading();\n      this.$http.get(this.$server_url + 'filtroCapacitacionInstitucion?asesor_id=' + me.usuario.idusuario).then(function (res) {\n        me.filtroInstituciones = res.data;\n        me.popupFiltroInstitucion = true;\n        me.$vs.loading.close();\n      }).catch(function (error) {\n        console.log(error + ' error');\n        me.$vs.loading.close();\n      });\n    },\n    borrar: function borrar() {\n      var me = this;\n      me.endDate = \"\";\n    },\n    getTemas: function getTemas() {\n      var me = this;\n      this.$http.get(this.$server_url + 'temasCapacitacion').then(function (res) {\n        me.temas = res.data;\n      }).catch(function (error) {\n        console.log(error + ' error');\n      });\n    },\n    agregarInstitucionTemporal: function agregarInstitucionTemporal() {\n      var me = this;\n      if (me.temporalInstitucion.nombre_institucion == \"\" || me.temporalInstitucion.nombre_institucion == null || me.temporalInstitucion.nombre_institucion == undefined) {\n        me.$vs.notify({\n          color: 'primary',\n          title: 'Mensaje',\n          text: 'Debe escribir una institución por favor'\n        });\n        return false;\n      }\n      if (me.temporalInstitucion.periodo == null || me.temporalInstitucion.periodo == \"\" || me.temporalInstitucion.periodo == undefined) {\n        me.$vs.notify({\n          color: 'primary',\n          title: 'Mensaje',\n          text: 'Debe seleccionar un período por favor'\n        });\n        return false;\n      }\n      var formData = new FormData();\n      formData.append('nombre_institucion', me.temporalInstitucion.nombre_institucion);\n      formData.append('ciudad', me.temporalInstitucion.ciudad.nombre);\n      formData.append('region', me.temporalInstitucion.region);\n      formData.append('periodo', me.temporalInstitucion.periodo);\n      formData.append('asesor_id', me.usuario.idusuario);\n      me.$vs.loading();\n      this.$http.post(this.$server_url + 'GuardarInstitucionTemporal', formData).then(function (res) {\n        me.$vs.loading.close();\n        if (res.data.status == 0) {\n          me.$vs.notify({\n            text: res.data.message,\n            color: 'warning',\n            iconPack: 'feather',\n            icon: 'icon-check'\n          });\n          return;\n        }\n        me.popupAddNuevaInstitucion = false;\n        me.activePromptAddEvent = true;\n        me.seleccionadoInsitucion = false;\n        me.nombreInstitucion = me.temporalInstitucion.nombre_institucion;\n        me.institucion_id_temporal = res.data.institucion_temporal_id;\n        me.instituciones = [];\n        me.periodo_id_temporal = res.data.periodo_id;\n        me.estado_institucion_temporal = 1;\n        me.$vs.notify({\n          text: \"Se creo la institución correctamente\",\n          color: 'success',\n          iconPack: 'feather',\n          icon: 'icon-check'\n        });\n      });\n    },\n    //lista de ciudades para usar en el select\n    listaCiudades: function listaCiudades() {\n      var me = this;\n      this.$http.get(this.$server_url + \"ciudad\").then(function (res) {\n        me.arregloCiudad = res.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    regresar: function regresar() {\n      var me = this;\n      me.seleccionadoInsitucion = false;\n      me.instituciones = [];\n    },\n    asginarInstitucion: function asginarInstitucion(tr) {\n      var me = this;\n      if (me.tipo == 1) {\n        me.institucion_id = tr.idInstitucion;\n        me.nombreInstitucion = tr.nombreInstitucion;\n        me.estado_institucion_temporal = 0;\n        me.seleccionadoInsitucion = false;\n        me.instituciones = [];\n      } else {\n        me.nombreInstitucion = tr.nombreInstitucion;\n        me.institucion_id_temporal = tr.institucion_temporal_id;\n        me.instituciones = [];\n        me.periodo_id_temporal = tr.periodo_id;\n        me.estado_institucion_temporal = 1;\n        me.seleccionadoInsitucion = false;\n      }\n    },\n    getInstitucion: function getInstitucion() {\n      var me = this;\n      me.instituciones = [];\n      if (me.busquedaInstitucion.length < 5) {\n        me.$vs.notify({\n          text: 'Minimo 5 caracteres de busqueda',\n          color: 'warning',\n          iconPack: 'feather',\n          icon: 'icon-check'\n        });\n        return false;\n      }\n      me.$vs.loading();\n      var url = this.$server_url + 'listaInsitucion?asesor=yes&busqueda=' + me.busquedaInstitucion + '&cedula=' + me.usuario.cedula;\n      this.$http.get(url)\n      // this.$http.get(this.$server_url + 'listaInsitucionAsesor?busqueda=' + me.busquedaInstitucion + '&cedula=' + me.usuario.cedula)\n      .then(function (res) {\n        // me.tmpInstituciones = res.data;\n        me.instituciones = res.data;\n        // me.filtroRegion();\n        me.$vs.loading.close();\n        if (res.data.message) {\n          me.$vs.notify({\n            text: res.data.message,\n            color: 'success',\n            iconPack: 'feather',\n            icon: 'icon-user',\n            time: 8000\n          });\n        }\n      }).catch(function (error) {\n        console.log(error + ' error');\n        me.$vs.loading.close();\n      });\n    },\n    validar: function validar() {\n      var me = this;\n      me.encontrarCapacitaciones = [];\n      if (this.tema == '' || this.tema == null || this.tema == undefined) {\n        this.$vs.notify({\n          text: 'Debe seleccionar un tema por favor.',\n          color: 'warning',\n          iconPack: 'feather',\n          icon: 'icon-alert-triangle'\n        });\n        me.endDate = \"\";\n        return;\n      }\n      var fecha = moment(this.endDate, 'DD/MM/YYYY HH:mm:ss').format('YYYY-MM-DD');\n      this.$http.get(this.$server_url + 'temasCapacitacion?validarPorFecha=yes&fecha=' + fecha + '&tema_id=' + this.tema.id).then(function (res) {\n        me.longitudCapacitaciones = res.data.length;\n      }).catch(function (error) {\n        console.log(error + ' error');\n      });\n      me.capacitacionesToday(fecha);\n    },\n    //capacitaciones de una fecha\n    capacitacionesToday: function capacitacionesToday(fecha) {\n      var me = this;\n      this.$http.get(this.$server_url + 'temasCapacitacion?encontrarCapacitaciones=yes&fecha=' + fecha).then(function (res) {\n        me.encontrarCapacitaciones = res.data;\n      }).catch(function (error) {\n        console.log(error + ' error');\n      });\n    },\n    addEvent: function addEvent() {\n      var me = this;\n      console.log(\"addEvent\");\n      if (this.endDate == \"Invalid date\" || this.endDate == \"\") {\n        me.error = true;\n        me.endDate = \"\";\n        me.startDate = \"\";\n        me.startDate_send = \"\";\n        me.endDate_send = \"\";\n        me.tema = \"\";\n        me.messageError = \"Debe seleccionar un tema y luego seleccionar la fecha por favor\";\n        me.activePromptAddEvent = true;\n        return false;\n      }\n      if (this.estado == 2) {\n        me.error = true;\n        me.messageError = \"La capacitación ya fue realizada ya no puede ser modificada\";\n        me.activePromptAddEvent = true;\n        return false;\n      }\n      if (this.estado == 0) {\n        me.error = true;\n        me.messageError = \"La capacitación fue cancelada ya no puede ser modificada\";\n        me.activePromptAddEvent = true;\n        return false;\n      }\n      if (this.institucion_id == \"\" && this.institucion_id_temporal == \"\") {\n        me.error = true;\n        me.messageError = \"Seleccione una institución por favor\";\n        me.activePromptAddEvent = true;\n        return false;\n      }\n      if (this.endDate_send == '' || this.hora_inicio == '' || this.hora_fin == '' || this.tema == '' || this.tema == null || this.tema == undefined) {\n        me.error = true;\n        me.messageError = \"Complete los campos por favor\";\n        me.activePromptAddEvent = true;\n        return false;\n      }\n      //validar la fecha que no sea menor a los 5 dias de reserva\n      var fecha = moment(this.endDate, 'DD/MM/YYYY HH:mm:ss').format('YYYY-MM-DD');\n      var fechaActual = localStorage.getItem(\"fecha_actual\");\n      if (fecha < fechaActual) {\n        me.error = true;\n        me.messageError = \"Debe seleccionar la fecha que empieze desde \" + fechaActual;\n        me.activePromptAddEvent = true;\n        return false;\n      } else {\n        console.log(me.asesor); // observer i need to parse to object\n        var asesor = me.asesor ? me.asesor.idusuario : me.usuario.idusuario;\n        console.log(asesor);\n        var obj = {\n          idusuario: this.usuario.idusuario,\n          id: this.id,\n          title: this.tema.tema,\n          observacion: this.observacion,\n          startDate: this.endDate_send,\n          endDate: this.endDate_send,\n          classes: 'event-' + this.labelLocal.color,\n          label: this.labelLocal.text,\n          capacitadores: this.capacitadores,\n          tema_id: this.tema.id,\n          capacitador: this.tema.capacitador,\n          hora_inicio: this.hora_inicio.substring(0, 5),\n          hora_fin: this.hora_fin.substring(0, 5),\n          institucion_id: this.institucion_id,\n          institucion_id_temporal: this.institucion_id_temporal,\n          estado_institucion_temporal: this.estado_institucion_temporal,\n          periodo_id_temporal: this.periodo_id_temporal,\n          nombreInstitucion: this.nombreInstitucion,\n          tipo: this.tipoCapacitacion,\n          asistentes: this.asistentes,\n          link_reunion: this.link_reunion\n        };\n        if (this.id != 0) {\n          this.$store.dispatch('calendar/editEvent', obj);\n        } else {\n          this.$store.dispatch('calendar/addEvent', obj);\n        }\n      }\n    },\n    updateMonth: function updateMonth(val) {\n      this.showDate = this.$refs.calendar.getIncrementedPeriod(val);\n    },\n    clearFields: function clearFields() {\n      this.tipoCapacitacion = '0';\n      this.title = this.endDate = null;\n      this.id = 0;\n      this.labelLocal = {\n        text: 'Baja',\n        color: 'success'\n      };\n      this.label_cancel = 'Cancelar';\n      this.institucion_id = \"\";\n      this.institucion_id_temporal = \"\";\n      this.estado = 5;\n      this.observacion = \"\";\n      this.capacitadores = \"\";\n      this.nombreInstitucion = \"\";\n      this.startDate = \"\";\n      this.endDate = \"\";\n      this.hora_inicio = \"\";\n      this.hora_fin = \"\";\n      this.url = \"\";\n      this.tema = \"\";\n      this.encontrarCapacitaciones = [];\n    },\n    promptAddNewEvent: function promptAddNewEvent(date) {\n      var me = this;\n      this.disabledFrom = false;\n      this.addNewEventDialog(date);\n      this.tema = \"\";\n      this.endDate = null;\n      me.encontrarCapacitaciones = [];\n    },\n    addNewEventDialog: function addNewEventDialog(date) {\n      this.clearFields();\n      this.startDate = date;\n      // this.endDate = date\n      this.formatoFechas();\n      this.activePromptAddEvent = true;\n    },\n    openAddNewEvent: function openAddNewEvent(date) {\n      this.disabledFrom = true;\n      this.addNewEventDialog(date);\n    },\n    openEditEvent: function openEditEvent(event) {\n      this.nombreInstitucion = \"\";\n      var e = this.$store.getters['calendar/getEvent'](event.id);\n      this.id = e.id;\n      this.title = e.title.split('(')[0];\n      this.startDate = e.startDate;\n      this.endDate = e.endDate;\n      this.labelLocal = {\n        text: e.label,\n        color: e.classes.split('-')[1]\n      };\n      this.startDate_send = this.startDate;\n      this.endDate_send = this.endDate;\n      this.hora_inicio = e.hora_inicio;\n      this.hora_fin = e.hora_fin;\n      this.label_cancel = 'Remover';\n      this.activePromptAddEvent = true;\n      this.estado = e.estado;\n      this.observacion = e.observacion;\n      this.capacitadores = e.capacitadores;\n      if (e.estado_institucion_temporal == \"1\") {\n        this.nombreInstitucion = e.nombre_institucion_temporal;\n        this.institucion_id_temporal = e.institucion_id_temporal;\n        this.periodo_id_temporal = e.periodo_id;\n        this.estado_institucion_temporal = 1;\n      } else {\n        this.nombreInstitucion = e.nombreInstitucion;\n        this.institucion_id = e.institucion_id;\n        this.estado_institucion_temporal = 0;\n      }\n      this.tipoCapacitacion = e.tipo;\n      this.tema = {\n        id: e.tema_id,\n        tema: e.title,\n        capacitador: e.capacitador\n      };\n      this.link_reunion = e.link_reunion;\n    },\n    removeEvent: function removeEvent() {\n      var me = this;\n      if (this.estado == 2) {\n        me.error = true;\n        me.messageError = \"La capacitación ya fue realizada ya no puede ser modificada\";\n        me.activePromptAddEvent = true;\n        return false;\n      }\n      if (this.label_cancel == \"Cancelar\") {\n        me.activePromptAddEvent = false;\n        return;\n      }\n      if (this.id == 0) {\n        return;\n      }\n      this.$store.dispatch('calendar/removeEvent', this.id);\n      me.activePromptAddEvent = false;\n    },\n    eventDragged: function eventDragged(event, date) {\n      var e = this.$store.getters['calendar/getEvent'](event.id);\n      this.$store.dispatch('calendar/eventDragged', {\n        event: event,\n        date: date\n      });\n    },\n    formatoFechas: function formatoFechas() {\n      this.error = false;\n      this.startDate_send = moment(this.startDate, 'DD/MM/YYYY HH:mm:ss').format('YYYY-MM-DD HH:mm:ss');\n      this.endDate_send = moment(this.endDate, 'DD/MM/YYYY HH:mm:ss').format('YYYY-MM-DD HH:mm:ss');\n    },\n    getAsesores: function getAsesores() {\n      var me = this;\n      me.$http.get(this.$server_url + 'listaAsesores').then(function (res) {\n        console.log(res.data);\n        me.asesores = res.data;\n      }).catch(function (error) {\n        console.log(error + ' error');\n      });\n    }\n  },\n  created: function created() {\n    this.usuario = JSON.parse(localStorage.getItem('usuario'));\n    console.log(this.usuario);\n    this.$store.registerModule('calendar', moduleCalendar);\n    this.$store.dispatch('calendar/fetchEvents');\n    this.$store.dispatch('calendar/fetchEventLabels');\n    this.listaCiudades();\n    this.institucion_id = \"\";\n    this.institucion_id_temporal = \"\";\n    this.getTemas();\n    this.getAsesores();\n  },\n  mounted: function mounted() {\n    var me = this;\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$store.unregisterModule('calendar');\n  }\n};",{"version":3,"names":["CalendarView","CalendarViewHeader","moduleCalendar","require","vSelect","moment","Datepicker","flatPickr","en","he","components","temaSolicitud","data","_ref","popupSolicitudes","popupSolicitarTema","counterDanger","ciudadSelect","popupAddNuevaInstitucion","seleccionadoInsitucion","nombreInstitucion","busquedaInstitucion","instituciones","popupaddInstitucion","tipoCapacitacion","usuario","showDate","Date","disabledFrom","titulo","id","title","startDate","observacion","capacitadores","endDate","labelLocal","text","color","startDate_send","endDate_send","langHe","langEn","tema","calendarView","activePromptAddEvent","label_cancel","calendarViewTypes","label","val","time","configdateTimePicker","enableTime","enableSeconds","noCalendar","hora_inicio","hora_fin","institucion_id","_defineProperty","ciudad","region","periodo","computed","simpleCalendarEvents","$store","state","calendar","events","disabledDatesTo","hoy","fecha","add","fechaActual","obtenerFecha","convertir","format","console","log","localStorage","setItem","to","disabledDatesFrom","from","calendarLabels","eventLabels","labelColor","windowWidth","methods","getPeriodos","me","arregloPeriodos","$http","get","$server_url","then","res","datos","filter","p","estado","region_idregion","temporalInstitucion","catch","error","getInstitucionCreadasByAsesor","idusuario","$vs","loading","close","message","notify","iconPack","icon","openConfirm","tr","dialog","type","accept","eliminarSolicitud","cancel","ListadoSolicitudes","arregloSolicitudes","solicitarTema","txtTema","length","txtObservacion","getFiltroporInstitucion","filtroInstituciones","popupFiltroInstitucion","borrar","getTemas","temas","agregarInstitucionTemporal","nombre_institucion","undefined","formData","FormData","append","nombre","post","status","institucion_id_temporal","institucion_temporal_id","periodo_id_temporal","periodo_id","estado_institucion_temporal","listaCiudades","arregloCiudad","regresar","asginarInstitucion","tipo","idInstitucion","getInstitucion","url","cedula","validar","encontrarCapacitaciones","longitudCapacitaciones","capacitacionesToday","addEvent","messageError","getItem","asesor","obj","classes","tema_id","capacitador","substring","asistentes","link_reunion","dispatch","updateMonth","$refs","getIncrementedPeriod","clearFields","promptAddNewEvent","date","addNewEventDialog","formatoFechas","openAddNewEvent","openEditEvent","event","e","getters","split","nombre_institucion_temporal","removeEvent","eventDragged","getAsesores","asesores","created","JSON","parse","registerModule","mounted","beforeDestroy","unregisterModule"],"sources":["src/views/asesor/componentes/agenda_asesor_capacitaciones.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div style=\"display:flex;\">\r\n      <vs-button color=\"warning\" class=\"ml-5 mt-2\" @click=\"getFiltroporInstitucion()\" icon=\"search\" type=\"filled\">Ver\r\n        capacitaciones por institución</vs-button>\r\n      <vs-button color=\"success\" class=\"ml-5 mt-2\" @click=\"ListadoSolicitudes()\" icon=\"description\"\r\n        type=\"filled\">Solicitudes de temas</vs-button>\r\n    </div>\r\n    <div id=\"simple-calendar-app\">\r\n      <div class=\"vx-card no-scroll-content\" style=\"height: 100vh;\">\r\n        <calendar-view ref=\"calendar\" :displayPeriodUom=\"calendarView\" :show-date=\"showDate\"\r\n          :events=\"simpleCalendarEvents\" :eventTop=\"windowWidth <= 400 ? '2rem' : '3rem'\" eventBorderHeight=\"0px\"\r\n          eventContentHeight=\"1.65rem\" class=\"theme-default\" @click-date=\"openAddNewEvent\" @click-event=\"openEditEvent\">\r\n          <div slot=\"header\" class=\"mb-4\">\r\n            <div class=\"vx-row no-gutter\">\r\n              <!-- Month Name -->\r\n              <div class=\"vx-col w-1/3 items-center sm:flex hidden\">\r\n                <!-- Add new event button -->\r\n                <vs-button icon-pack=\"feather\" class=\"mr-2\" color=\"dark\"\r\n                  style=\"padding: 7px 10px 7px 10px; font-size: 14px;\" icon=\"icon-plus\"\r\n                  @click=\"promptAddNewEvent(new Date())\">Solicitar Capacitación</vs-button>\r\n                <vs-button color=\"dark\" type=\"border\" style=\"padding: 7px 10px 7px 10px; font-size: 14px;\"\r\n                  @click=\"$router.go()\">Hoy</vs-button>\r\n              </div>\r\n              <!-- Current Month -->\r\n              <div class=\"vx-col sm:w-1/3 w-full sm:my-0 my-3 flex sm:justify-end justify-center order-last\">\r\n                <div class=\"flex items-center\">\r\n                  <feather-icon :icon=\"$vs.rtl ? 'ChevronRightIcon' : 'ChevronLeftIcon'\" @click=\"updateMonth(-1)\"\r\n                    svgClasses=\"w-5 h-5 m-1\" class=\"cursor-pointer bg-primary text-white rounded-full\" />\r\n\r\n                  <span class=\"mx-3 text-xl font-medium whitespace-no-wrap\">{{ showDate.toString().substring(0, 16)\r\n                  }}</span>\r\n\r\n                  <feather-icon :icon=\"$vs.rtl ? 'ChevronLeftIcon' : 'ChevronRightIcon'\" @click=\"updateMonth(1)\"\r\n                    svgClasses=\"w-5 h-5 m-1\" class=\"cursor-pointer bg-primary text-white rounded-full\" />\r\n                </div>\r\n              </div>\r\n              <div class=\"vx-col sm:w-1/3 w-full flex justify-center\">\r\n                <template v-for=\"(view, index) in calendarViewTypes\">\r\n                  <vs-button v-if=\"calendarView === view.val\" :key=\"String(view.val) + 'filled'\" type=\"filled\"\r\n                    style=\"padding: 7px 10px 7px 10px !important; font-size: 14px;\" class=\"p-3 md:px-8 md:py-3\"\r\n                    :class=\"{ 'border-l-0': index, 'rounded-r-none': calendarViewTypes.length !== index + 1 }\"\r\n                    @click=\"calendarView = view.val\">{{ view.label }}</vs-button>\r\n                  <vs-button v-else :key=\"String(view.val) + 'border'\" type=\"line\"\r\n                    style=\"padding: 7px 10px 7px 10px !important; font-size: 14px;\" class=\"p-3 md:px-8 md:py-3\"\r\n                    :class=\"{ 'border-l-0': index, 'rounded-r-none': calendarViewTypes.length !== index + 1 }\"\r\n                    @click=\"calendarView = view.val\">{{ view.label }}</vs-button>\r\n                </template>\r\n              </div>\r\n            </div>\r\n            <div class=\"vx-row sm:flex hidden mt-4\">\r\n              <div class=\"vx-col w-full flex\">\r\n                <!-- Labels -->\r\n                <!-- {{calendarLabels}} -->\r\n                <div class=\"flex flex-wrap sm:justify-start justify-center\">\r\n                  <div v-for=\"(label, index) in calendarLabels\" :key=\"index\" class=\"flex items-center mr-4 mb-2\">\r\n                    <div class=\"h-3 w-3 inline-block rounded-full mr-2\" :class=\"'bg-' + label.color\"></div>\r\n                    <span>{{ label.text }}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </calendar-view>\r\n      </div>\r\n      <!-- ADD EVENT -->\r\n      <vs-popup background-color=\"rgba(255,255,255,.6)\" fullscreen title=\"Capacitaciones\"\r\n        :active.sync=\"activePromptAddEvent\">\r\n        <!-- <vs-prompt class=\"calendar-event-dialog\" title=\"Capacitación\" accept-text=\"Guardar\" :cancel-text=\"label_cancel\" @accept=\"addEvent\" @cancel=\"removeEvent\" :active.sync=\"activePromptAddEvent\"> -->\r\n        <div class=\"calendar__label-container flex mb-6\" v-if=\"seleccionadoInsitucion == false\">\r\n          <vs-chip style=\"width: 100px;height: 30px;\" class=\"text-white\" :class=\"'bg-' + labelLocal.color\">{{\r\n            labelLocal.text }} </vs-chip>\r\n          <span v-if=\"estado == 0\" style=\"margin-top:2px;\">\r\n            <vs-chip color=\"danger\">Cancelada</vs-chip>\r\n          </span>\r\n          <span v-if=\"estado == 1\" style=\"margin-top:2px;\">\r\n            <vs-chip color=\"warning\">Pendiente</vs-chip>\r\n          </span>\r\n          <span v-if=\"estado == 2\" style=\"margin-top:2px;\">\r\n            <vs-chip color=\"success\">Realizada</vs-chip>\r\n          </span>\r\n          <vs-dropdown vs-custom-content vs-trigger-click class=\"ml-auto my-2 cursor-pointer\">\r\n            <feather-icon icon=\"TagIcon\" svgClasses=\"h-5 w-5\" class=\"cursor-pointer\" @click.prevent></feather-icon>\r\n\r\n            <vs-dropdown-menu style=\"z-index: 200001\">\r\n              <vs-dropdown-item v-for=\"(label, index) in calendarLabels\" :key=\"index\" @click=\"labelLocal = label\">\r\n                <div class=\"h-3 w-3 inline-block rounded-full mr-2\" :class=\"'bg-' + label.color\"></div>\r\n                <span>{{ label.text }}</span>\r\n              </vs-dropdown-item>\r\n            </vs-dropdown-menu>\r\n          </vs-dropdown>\r\n        </div>\r\n        <vs-row v-if=\"error == true\">\r\n          <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n            <vs-alert active=\"true\" color=\"danger\">\r\n              {{ messageError }}\r\n            </vs-alert>\r\n          </vs-col>\r\n        </vs-row>\r\n        <vs-row v-if=\"seleccionadoInsitucion == false\" class=\"mt-2\">\r\n          <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n            <p style=\"color:red;\" v-if=\"nombreInstitucion == '' || nombreInstitucion == null\">\r\n              Sin Institución\r\n            </p>\r\n            <vs-chip color=\"success\" v-else>\r\n              Institución {{ nombreInstitucion }}\r\n            </vs-chip>\r\n          </vs-col>\r\n        </vs-row>\r\n        <!--PARA LOS ASESORES AGENDA-->\r\n        <div v-if=\"usuario.id_group == 11\">\r\n          <vs-row v-if=\"seleccionadoInsitucion == true\" class=\"mt-3\">\r\n            <vs-col vs-type=\"flex\" vs-justify=\"left\" vs-align=\"left\" vs-w=\"6\">\r\n              <vs-button size=\"small\" color=\"success\" radius=\"\" @click=\"regresar()\" icon=\"reply\"\r\n                type=\"gradient\"></vs-button>\r\n              <vs-button size=\"small\" class=\"ml-3\" @click=\"popupAddNuevaInstitucion = true; activePromptAddEvent = false;\"\r\n                type=\"relief\">Añadir nueva institución</vs-button>\r\n            </vs-col>\r\n          </vs-row>\r\n\r\n          <vs-row>\r\n            <vs-col vs-type=\"flex\" vs-justify=\"left\" vs-align=\"left\" vs-w=\"10\">\r\n              <vs-button color=\"warning\" class=\"mt-2\" size=\"small\" v-if=\"seleccionadoInsitucion == false\"\r\n                @click=\"seleccionadoInsitucion = true; error = false\" type=\"relief\">\r\n                Asignar Institución\r\n              </vs-button>\r\n              <vs-button color=\"primary\" class=\"mt-2 ml-3\" icon=\"info\" v-if=\"seleccionadoInsitucion == false\" size=\"small\"\r\n                @click=\"seleccionadoInsitucion = true; getInstitucionCreadasByAsesor(); tipo = 2; getPeriodos()\"\r\n                type=\"relief\">Instituciones creadas por mi</vs-button>\r\n            </vs-col>\r\n          </vs-row>\r\n          <vs-row v-if=\"seleccionadoInsitucion == false\">\r\n            <vs-col vs-type=\"flex\" vs-justify=\"left\" vs-align=\"left\" vs-w=\"12\">\r\n            </vs-col>\r\n          </vs-row>\r\n          <div style=\"width:100%;display:flex;\" v-if=\"seleccionadoInsitucion == true && tipo == 1\" class=\"mt-5\">\r\n            <div style=\"width:80%;\">\r\n              <vs-input icon=\"search\" style=\"width:100%;\" placeholder=\"Search\" @keyup.enter=\"getInstitucion()\"\r\n                v-model=\"busquedaInstitucion\" />\r\n            </div>\r\n            <div style=\"width:20%;margin-left:15px;\">\r\n              <vs-button radius color=\"warning\" @click=\"getInstitucion()\" type=\"filled\" icon=\"search\"></vs-button>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"instituciones.length > 0\">\r\n            <vs-table stripe max-items=\"5\" search pagination :data=\"instituciones\">\r\n              <template slot=\"header\">\r\n                <div class=\"vx-row\">\r\n                  <div class=\"vx-col w-full m-3\">\r\n                    Cantidad: {{ instituciones.length }}\r\n                  </div>\r\n                </div>\r\n              </template>\r\n              <template slot=\"thead\">\r\n                <vs-th sort-key=\"nombreInstitucion\">Institución</vs-th>\r\n                <vs-th sort-key=\"nombre\">Localidad</vs-th>\r\n                <vs-th sort-key=\"nombre\">Periodo</vs-th>\r\n                <vs-th>Acciones</vs-th>\r\n              </template>\r\n              <template slot-scope=\"{data}\">\r\n                <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                  <vs-td :data=\"data[indextr].nombreInstitucion\">\r\n                    {{ data[indextr].nombreInstitucion }}<br>\r\n                  </vs-td>\r\n                  <vs-td :data=\"data[indextr].nombreregion\">\r\n                    {{ data[indextr].nombreregion }} <br>\r\n                    <small>{{ data[indextr].ciudad }}</small>\r\n                  </vs-td>\r\n                  <vs-td :data=\"data[indextr].periodo\">\r\n                    {{ data[indextr].periodo }} <br>\r\n                    <small v-if=\"tr.statusPeriodo == 1\" class=\"text-success font-bold\">{{ tr.estadoPeriodo }}</small>\r\n                    <small v-else>{{ tr.estadoPeriodo }}</small>\r\n                  </vs-td>\r\n                  <vs-td>\r\n                    <div class=\"flex\">\r\n                      <vs-button size=\"small\" type=\"relief\" style=\"border-radius: 5px;\" icon-pack=\"feather\"\r\n                        icon=\"icon-bookmark\" class=\"mr-2\" color=\"primary\" @click=\"asginarInstitucion(tr)\">\r\n                        Asignar\r\n                      </vs-button>\r\n                    </div>\r\n                  </vs-td>\r\n                </vs-tr>\r\n              </template>\r\n            </vs-table>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div v-if=\"seleccionadoInsitucion == false\">\r\n          <div style=\"display: flex;\">\r\n            <div>\r\n              <vs-button color=\"dark\" size=\"small\" class=\"mt-2\" type=\"line\"\r\n                @click=\"popupSolicitarTema = true; activePromptAddEvent = false\" icon=\"event_note\">Solicitar\r\n                tema</vs-button>\r\n            </div>\r\n            <div class=\"ml-5\">\r\n              <ul style=\"display:flex;\">\r\n                <li>\r\n                  <vs-radio color=\"primary\" v-model=\"tipoCapacitacion\" vs-name=\"radiosTipo\"\r\n                    vs-value=\"0\">Presencial</vs-radio>\r\n                </li>\r\n                <li class=\"ml-3\">\r\n                  <vs-radio color=\"success\" v-model=\"tipoCapacitacion\" vs-name=\"radiosTipo\"\r\n                    vs-value=\"1\">Virtual</vs-radio>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <br />\r\n          <span class=\"mt-5\">Seleccione primero el tema luego la fecha por favor:</span>\r\n          <v-select :options=\"temas\" :reduce=\"temas => temas\" label=\"tema\" @input=\"borrar()\" class=\"w-full mt-2\"\r\n            v-model=\"tema\" />\r\n          <br />\r\n          <div class=\"vx-row mb-3\">\r\n            <div class=\"vx-col sm:w-2/2 w-full\">\r\n              <small class=\"date-label\">Fecha Capacitacion*</small>\r\n              <datepicker class=\"w-full\" :disabledDates=\"disabledDatesTo\" @input=\"validar(); formatoFechas();\"\r\n                name=\"end-date\" v-model=\"endDate\"></datepicker>\r\n            </div>\r\n          </div>\r\n          <div class=\"vx-row mb-3\">\r\n            <div class=\"vx-col sm:w-1/2 w-full\">\r\n              <small class=\"date-label\">Hora inicio *</small>\r\n              <flat-pickr class=\"w-full\" :config=\"configdateTimePicker\" v-model=\"hora_inicio\" />\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 w-full\">\r\n              <small class=\"date-label\">Hora fin *</small>\r\n              <flat-pickr class=\"w-full\" :config=\"configdateTimePicker\" v-model=\"hora_fin\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"vx-row mb-3\">\r\n            <div class=\"vx-col sm:w-1/2 w-full\">\r\n              <small class=\"date-label\">Asistentes</small>\r\n              <vs-input class=\"w-full\" type=\"number\" v-model=\"asistentes\" />\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 w-full\">\r\n              <small class=\"date-label\">Link de la reunión</small>\r\n              <vs-input class=\"w-full\" type=\"text\" v-model=\"link_reunion\" />\r\n            </div>\r\n          </div>\r\n          <!--observacion-->\r\n          <div class=\"vx-row mb-3\">\r\n            <div class=\"vx-col w-full\">\r\n              <vs-textarea v-model=\"observacion\" :counter=\"counter_long\" label=\"observación\" height=\"100px\"\r\n              :counter-danger.sync=\"counterDanger\"></vs-textarea>\r\n            </div>\r\n          </div>\r\n          <vs-row class=\"mt-4\" v-if=\"capacitadores == null || capacitadores == ''\">\r\n          </vs-row>\r\n          <vs-row class=\"mt-4\" v-else>\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n              <vs-alert active=\"true\">\r\n                Capacitadores : {{ capacitadores }}\r\n              </vs-alert>\r\n            </vs-col>\r\n          </vs-row>\r\n          <!-- <vs-row class=\"mt-4\" v-if=\"observacion == null || observacion == ''\">\r\n          </vs-row>\r\n          <vs-row class=\"mt-4\" v-else>\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n              <vs-alert active=\"true\">\r\n                Mensaje del Administrador : {{ observacion }}\r\n              </vs-alert>\r\n            </vs-col>\r\n          </vs-row> -->\r\n          <!-- <vs-textarea   counter=\"300\" label=\"Mensaje\" :counter-danger.sync=\"counterDanger\"  name=\"event-url\" class=\"w-full mb-3 mt-4\" v-model=\"observacion\" /> -->\r\n        </div>\r\n        <div>\r\n          <vs-divider>Capacitaciones planificadas para ese día</vs-divider>\r\n          <div v-if=\"encontrarCapacitaciones.length > 0\">\r\n            <vs-table max-items=\"3\" search pagination :data=\"encontrarCapacitaciones\">\r\n              <template slot=\"header\">\r\n                Cantidad: <span style=\"font-weight: bold;\"> {{ encontrarCapacitaciones.length }}</span>\r\n              </template>\r\n              <template slot=\"thead\">\r\n                <vs-th>Tema</vs-th>\r\n                <vs-th>Institución</vs-th>\r\n                <vs-th>Hora</vs-th>\r\n              </template>\r\n              <template slot-scope=\"{data}\">\r\n                <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                  <vs-td>\r\n                    {{ tr.tema }}<br>\r\n                    Capacitador:\r\n                    <span>{{ data[indextr].capacitador }}</span> <br>\r\n                  </vs-td>\r\n                  <vs-td>\r\n                    <div v-if=\"tr.estado_institucion_temporal == '1'\">\r\n                      {{ tr.nombre_institucion_temporal }}<br>\r\n                      {{ tr.ciudad_temporal }}<br>\r\n                      Asesor:\r\n                      <span>{{ tr.vendedor }}</span>\r\n                    </div>\r\n                    <div v-else>\r\n                      {{ tr.nombreInstitucion }}<br>\r\n                      {{ tr.ciudad }}<br>\r\n                      Asesor:\r\n                      <span>{{ tr.vendedor }}</span>\r\n                    </div>\r\n                  </vs-td>\r\n\r\n                  <vs-td>\r\n                    Hora inicio:\r\n                    <span>{{ tr.hora_inicio }}</span> <br>\r\n                    Hora Fin:\r\n                    <span>{{ tr.hora_fin }}</span>\r\n                  </vs-td>\r\n                </vs-tr>\r\n              </template>\r\n            </vs-table>\r\n          </div>\r\n          <div v-else>\r\n            <p>\r\n              No hay capacitaciones para ese dia\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <vs-row class=\"mt-3\">\r\n          <vs-col vs-type=\"flex\" vs-justify=\"right\" vs-align=\"right\" vs-w=\"12\">\r\n            <vs-button @click=\"addEvent()\" type=\"relief\">Guardar *</vs-button>\r\n            <vs-button color=\"warning\" class=\"ml-2\" @click=\"removeEvent()\" type=\"relief\">{{ label_cancel }}</vs-button>\r\n          </vs-col>\r\n        </vs-row>\r\n      </vs-popup>\r\n      <!--MODAL PARA AGREGAR NUEVA INSTITUCION-->\r\n      <vs-popup background-color=\"rgba(255,255,255,.6)\" title=\"Agregar Nueva Institución\"\r\n        :active.sync=\"popupAddNuevaInstitucion\">\r\n        <vs-button size=\"small\" color=\"success\" radius=\"\"\r\n          @click=\"popupAddNuevaInstitucion = false; activePromptAddEvent = true;\" icon=\"reply\"\r\n          type=\"gradient\"></vs-button>\r\n        <vs-row class=\"mt-2\">\r\n          <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n            <ul class=\"leftx\" style=\"display:flex;flex-direction: row;\">\r\n              <li class=\"ml-2\">\r\n                <vs-radio v-model=\"temporalInstitucion.region\" @input=\"getPeriodos()\" vs-name=\"radios1\"\r\n                  vs-value=\"1\">Sierra</vs-radio>\r\n              </li>\r\n              <li class=\"ml-2\">\r\n                <vs-radio v-model=\"temporalInstitucion.region\" @input=\"getPeriodos()\" vs-name=\"radios1\"\r\n                  vs-value=\"2\">Costa</vs-radio>\r\n              </li>\r\n            </ul>\r\n          </vs-col>\r\n        </vs-row>\r\n        <vs-row>\r\n          <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n            <div class=\"vx-col w-full mt-5\">\r\n              Seleccione una ciudad:\r\n              <v-select :options=\"arregloCiudad\" :reduce=\"arregloCiudad => arregloCiudad\" label=\"nombre\" class=\"w-full\"\r\n                v-model=\"temporalInstitucion.ciudad\" />\r\n            </div>\r\n          </vs-col>\r\n        </vs-row>\r\n        <vs-row>\r\n          <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n            <div class=\"vx-col w-full mt-5\">\r\n              Seleccione un período:\r\n              <v-select :options=\"arregloPeriodos\" :reduce=\"arregloPeriodos => arregloPeriodos.idperiodoescolar\"\r\n                label=\"periodoescolar\" class=\"w-full\" v-model=\"temporalInstitucion.periodo\" />\r\n            </div>\r\n          </vs-col>\r\n        </vs-row>\r\n        <vs-row class=\"mt-2\">\r\n          <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n            <vs-input label=\"Escriba un nombre para la institución\" class=\"w-full\"\r\n              v-model=\"temporalInstitucion.nombre_institucion\" placeholder=\"Institución\" />\r\n          </vs-col>\r\n        </vs-row>\r\n        <vs-row class=\"mt-5\">\r\n          <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n            <vs-button @click=\"agregarInstitucionTemporal()\" type=\"gradient\">Agregar Institución</vs-button>\r\n          </vs-col>\r\n        </vs-row>\r\n      </vs-popup>\r\n    </div>\r\n    <vs-popup class=\"holamundo\" fullscreen title=\"Listado de Capacitaciones\" :active.sync=\"popupFiltroInstitucion\">\r\n      <vs-table max-items=\"10\" stripe search pagination :data=\"filtroInstituciones\">\r\n        <template slot=\"header\">\r\n          <vs-chip color=\"primary\">Cantidad: {{ filtroInstituciones.length }}</vs-chip>\r\n        </template>\r\n        <template slot=\"thead\">\r\n          <vs-th>Titulo</vs-th>\r\n          <vs-th>Fecha inicio</vs-th>\r\n          <vs-th>Fecha Fin</vs-th>\r\n          <vs-th>Hora</vs-th>\r\n          <vs-th>Institución</vs-th>\r\n          <vs-th>Estado</vs-th>\r\n        </template>\r\n        <template slot-scope=\"{data}\">\r\n          <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n            <vs-td>\r\n              {{ data[indextr].nombre }}<br>\r\n            </vs-td>\r\n            <vs-td>\r\n              {{ data[indextr].fecha_inicio }}<br>\r\n            </vs-td>\r\n            <vs-td>\r\n              {{ data[indextr].fecha_fin }}<br>\r\n            </vs-td>\r\n            <vs-td>\r\n              {{ data[indextr].hora_inicio }}<br>\r\n              {{ tr.hora_fin }}\r\n            </vs-td>\r\n            <vs-td>\r\n              <div v-if=\"tr.estado_institucion_temporal == '1'\">\r\n                {{ tr.nombre_institucion_temporal }}<br>\r\n                {{ tr.periodoescolar }}\r\n              </div>\r\n              <div v-else>\r\n                {{ tr.nombreInstitucion }}<br>\r\n                {{ tr.periodoescolar }}\r\n              </div>\r\n            </vs-td>\r\n            <vs-td>\r\n              <span v-if=\"data[indextr].estado_capacitacion == 0\"><br>\r\n                <vs-chip color=\"danger\">Cancelada</vs-chip>\r\n              </span>\r\n              <span v-if=\"data[indextr].estado_capacitacion == 1\"><br>\r\n                <vs-chip color=\"warning\">Pendiente</vs-chip>\r\n              </span>\r\n              <span v-if=\"data[indextr].estado_capacitacion == 2\"><br>\r\n                <vs-chip color=\"success\">Realizada</vs-chip>\r\n              </span>\r\n            </vs-td>\r\n          </vs-tr>\r\n        </template>\r\n      </vs-table>\r\n    </vs-popup>\r\n    <!--SOLICITAR NUEVO TEMA-->\r\n    <vs-popup class=\"holamundo\" title=\"Solicitud de nuevo tema\" :active.sync=\"popupSolicitarTema\"\r\n      @close=\"activePromptAddEvent = true;\">\r\n      <vs-button radius color=\"success\" @click=\"popupSolicitarTema = false; activePromptAddEvent = true\" type=\"filled\"\r\n        icon=\"reply\"></vs-button>\r\n      <vs-row class=\"mt-2\">\r\n        <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n          <vs-input label=\"Tema\" placeholder=\"Escriba el tema que solicita\" class=\"w-full\" v-model=\"txtTema\" />\r\n        </vs-col>\r\n      </vs-row>\r\n      <vs-row>\r\n        <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\" class=\"mt-2\">\r\n          <vs-input label=\"observación\" placeholder=\"Comentario\" class=\"w-full\" v-model=\"txtObservacion\" />\r\n        </vs-col>\r\n      </vs-row>\r\n      <vs-row class=\"mt-4\">\r\n        <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n          <vs-button color=\"rgb(200, 100, 120)\" @click=\"solicitarTema()\" type=\"relief\">Solicitar Tema</vs-button>\r\n        </vs-col>\r\n      </vs-row>\r\n    </vs-popup>\r\n    <!--POPUP DE LISTADO DE SOLICITUDES-->\r\n    <vs-popup class=\"holamundo\" fullscreen title=\"Solicitudes\" :active.sync=\"popupSolicitudes\">\r\n      <vs-table max-items=\"10\" stripe search pagination :data=\"arregloSolicitudes\">\r\n        <template slot=\"thead\">\r\n          <vs-th>Tema</vs-th>\r\n          <vs-th>Observacion</vs-th>\r\n          <vs-th>Comentario Admin</vs-th>\r\n          <vs-th>Estado</vs-th>\r\n          <vs-th>Acciones</vs-th>\r\n        </template>\r\n        <template slot-scope=\"{data}\">\r\n          <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n            <vs-td>\r\n              {{ data[indextr].tema }}<br>\r\n            </vs-td>\r\n            <vs-td>\r\n              {{ data[indextr].observacion }}<br>\r\n            </vs-td>\r\n            <vs-td>\r\n              {{ data[indextr].comentario_admin }}<br>\r\n            </vs-td>\r\n            <vs-td>\r\n              <span v-if=\"data[indextr].estado == 0\"><br>\r\n                <vs-chip color=\"danger\">Generado</vs-chip>\r\n              </span>\r\n              <span v-if=\"data[indextr].estado == 1\"><br>\r\n                <vs-chip color=\"warning\">Tema Creado</vs-chip>\r\n              </span>\r\n              <span v-if=\"data[indextr].estado == 2\"><br>\r\n                <vs-chip color=\"success\">No se pudo crear</vs-chip>\r\n              </span>\r\n            </vs-td>\r\n            <vs-td>\r\n              <vs-button line-position=\"top\" size=\"small\" icon=\"delete\" line-origin=\"left\" @click=\"openConfirm(tr)\"\r\n                color=\"danger\" type=\"relief\">Eliminar</vs-button>\r\n            </vs-td>\r\n          </vs-tr>\r\n        </template>\r\n      </vs-table>\r\n    </vs-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  CalendarView,\r\n  CalendarViewHeader\r\n} from 'vue-simple-calendar'\r\nimport moduleCalendar from '@/store/calendario_capacitacion/moduleCalendar.js'\r\nrequire('vue-simple-calendar/static/css/default.css')\r\nimport vSelect from 'vue-select'\r\nimport moment from 'moment'\r\nimport Datepicker from 'vuejs-datepicker'\r\nimport flatPickr from 'vue-flatpickr-component';\r\nimport 'flatpickr/dist/flatpickr.css';\r\nimport {\r\n  en,\r\n  he\r\n} from 'vuejs-datepicker/src/locale'\r\nexport default {\r\n  components: {\r\n    CalendarView,\r\n    CalendarViewHeader,\r\n    Datepicker,\r\n    flatPickr,\r\n    'v-select': vSelect,\r\n    temaSolicitud: '',\r\n  },\r\n  data() {\r\n    return {\r\n      popupSolicitudes: false,\r\n      popupSolicitarTema: false,\r\n      counterDanger: false,\r\n      ciudadSelect: '',\r\n      popupAddNuevaInstitucion: false,\r\n      seleccionadoInsitucion: false,\r\n      nombreInstitucion: '',\r\n      busquedaInstitucion: \"\",\r\n      instituciones: [],\r\n      popupaddInstitucion: false,\r\n      tipoCapacitacion: '0',\r\n      usuario: [],\r\n      showDate: new Date(),\r\n      disabledFrom: false,\r\n      titulo: '',\r\n      id: 0,\r\n      title: '',\r\n      startDate: '',\r\n      observacion: '',\r\n      capacitadores:'',\r\n      endDate: '',\r\n      labelLocal: {\r\n        text: 'Baja',\r\n        color: 'success'\r\n      },\r\n      startDate_send: '',\r\n      endDate_send: '',\r\n      langHe: he,\r\n      langEn: en,\r\n\r\n      tema: '',\r\n      calendarView: 'month',\r\n\r\n      activePromptAddEvent: false,\r\n      label_cancel: 'Cancelar',\r\n      calendarViewTypes: [{\r\n        label: 'Mes',\r\n        val: 'month'\r\n      },\r\n      {\r\n        label: 'Semana',\r\n        val: 'week'\r\n      },\r\n      {\r\n        label: 'Año',\r\n        val: 'year'\r\n      }\r\n      ],\r\n      time: null,\r\n      configdateTimePicker: {\r\n        enableTime: true,\r\n        enableSeconds: false,\r\n        noCalendar: true\r\n      },\r\n      hora_inicio: '',\r\n      hora_fin: '',\r\n      institucion_id: '',\r\n      counterDanger: false,\r\n      arregloCiudad: [],\r\n      temporalInstitucion: {\r\n        ciudad: '',\r\n        nombreInstitucion: '',\r\n        region: '2',\r\n        periodo: ''\r\n      },\r\n      institucion_id_temporal: '',\r\n      estado_institucion_temporal: 0,\r\n      periodo_id_temporal: 0,\r\n      nombreInstitucionTemporal: '',\r\n      estado: '5',\r\n      temas: [],\r\n      longitudCapacitaciones: 0,\r\n      error: false,\r\n      messageError: \"\",\r\n      filtroInstituciones: [],\r\n      popupFiltroInstitucion: false,\r\n      txtTema: '',\r\n      txtObservacion: '',\r\n      arregloSolicitudes: [],\r\n      encontrarCapacitaciones: [],\r\n      arregloPeriodos: [],\r\n      tipo: '1',\r\n      asesores: [],\r\n      asesor: null,\r\n      asistentes: 0,\r\n      counter_long: 200,\r\n      counterDanger: false,\r\n      link_reunion:'',\r\n    }\r\n  },\r\n  computed: {\r\n    simpleCalendarEvents() {\r\n      return this.$store.state.calendar.events\r\n    },\r\n    disabledDatesTo() {\r\n      const hoy = new Date();\r\n      let fecha = moment(hoy).add(4, 'days');\r\n      let fechaActual = moment(hoy).add(5, 'days');\r\n      let obtenerFecha = new Date(fechaActual)\r\n      let convertir = moment(obtenerFecha, 'DD/MM/YYYY HH:mm:ss').format('YYYY-MM-DD');\r\n      console.log('fecha', convertir)\r\n      localStorage.setItem('fecha_actual', convertir)\r\n      return {\r\n        to: new Date(fecha)\r\n      }\r\n    },\r\n    disabledDatesFrom() {\r\n      return {\r\n        from: new Date(this.endDate)\r\n      }\r\n    },\r\n    calendarLabels() {\r\n      return this.$store.state.calendar.eventLabels\r\n    },\r\n    labelColor() {\r\n      return (label) => {\r\n        if (label === 'business') return 'success'\r\n        else if (label === 'work') return 'warning'\r\n        else if (label === 'personal') return 'danger'\r\n        else if (label === 'baja') return 'primary'\r\n      }\r\n    },\r\n    windowWidth() {\r\n      return this.$store.state.windowWidth\r\n    }\r\n  },\r\n  methods: {\r\n    getPeriodos() {\r\n      let me = this\r\n      me.arregloPeriodos = []\r\n      this.$http.get(this.$server_url + 'get_periodos_pedidos')\r\n        .then(res => {\r\n          let datos = res.data\r\n          me.arregloPeriodos = datos.filter(p => p.estado == 1 && p.region_idregion == me.temporalInstitucion.region)\r\n        })\r\n        .catch(function (error) {\r\n        })\r\n    },\r\n    //instituciones creadas por el asesor\r\n    getInstitucionCreadasByAsesor() {\r\n      let me = this;\r\n      me.temporalInstitucion = {\r\n        ciudad: '',\r\n        nombreInstitucion: '',\r\n        region: '2',\r\n        periodo: ''\r\n      }\r\n      me.instituciones = [];\r\n      this.$http.get(this.$server_url + 'listaInsitucionAsesor?temporales=yes' + '&asesor_id=' + me.usuario.idusuario)\r\n        .then(function (res) {\r\n          me.instituciones = res.data;\r\n          me.$vs.loading.close()\r\n          if (res.data.message) {\r\n            me.$vs.notify({\r\n              text: res.data.message,\r\n              color: 'success',\r\n              iconPack: 'feather',\r\n              icon: 'icon-user',\r\n              time: 8000\r\n            })\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n          me.$vs.loading.close()\r\n        })\r\n    },\r\n    openConfirm(tr) {\r\n      let me = this;\r\n      if (tr.estado == 1) {\r\n        me.$vs.notify({\r\n          color: 'primary',\r\n          title: 'Mensaje',\r\n          text: 'No se puede eliminar por que el tema ya esta creado'\r\n        })\r\n        return false\r\n      }\r\n      me.id = tr.id\r\n      me.popupSolicitudes = false\r\n      this.$vs.dialog({\r\n        type: 'confirm',\r\n        color: 'danger',\r\n        title: `Confirmación`,\r\n        text: 'Estas seguro de eliminar la solicitud.',\r\n        accept: this.eliminarSolicitud,\r\n        cancel: this.cancel\r\n      })\r\n    },\r\n    cancel() {\r\n      let me = this;\r\n      me.popupSolicitudes = true\r\n    },\r\n    eliminarSolicitud() {\r\n      let me = this;\r\n      me.$vs.loading();\r\n      this.$http.get(this.$server_url + 'solicitarTema?id=' + me.id + '&eliminar=yes')\r\n        .then(function (res) {\r\n          me.$vs.loading.close()\r\n          me.$vs.notify({\r\n            color: 'primary',\r\n            title: 'Mensaje',\r\n            text: 'Se elimino correctamente'\r\n          })\r\n          me.ListadoSolicitudes()\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n          me.$vs.loading.close()\r\n        })\r\n    },\r\n    ListadoSolicitudes() {\r\n      let me = this;\r\n      me.$vs.loading();\r\n      this.$http.get(this.$server_url + 'solicitarTema?asesor_id=' + me.usuario.idusuario + '&listado=yes')\r\n        .then(function (res) {\r\n          me.$vs.loading.close()\r\n          me.popupSolicitudes = true\r\n          me.arregloSolicitudes = res.data;\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n          me.$vs.loading.close()\r\n        })\r\n    },\r\n    solicitarTema() {\r\n      let me = this;\r\n      if (me.txtTema == '') {\r\n        me.$vs.notify({\r\n          color: 'primary',\r\n          title: 'Mensaje',\r\n          text: \"El campo tema no puede quedar vacio\"\r\n        })\r\n        return false\r\n      }\r\n      if (me.txtTema.length > 100) {\r\n        me.$vs.notify({\r\n          color: 'primary',\r\n          title: 'Mensaje',\r\n          text: \"El campo tema no puede ser mayor a 100 caracteres\"\r\n        })\r\n        return false\r\n      }\r\n      me.$vs.loading();\r\n      this.$http.get(this.$server_url + 'solicitarTema?asesor_id=' + me.usuario.idusuario + '&tema=' + me.txtTema + '&observacion=' + me.txtObservacion)\r\n        .then(function (res) {\r\n          me.$vs.loading.close()\r\n          me.activePromptAddEvent = true;\r\n          me.popupSolicitarTema = false\r\n          me.$vs.notify({\r\n            color: 'primary',\r\n            title: 'Mensaje',\r\n            text: res.data.message\r\n          })\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n          me.$vs.loading.close()\r\n        })\r\n    },\r\n    //para obtener el listado de las capacitacion por institucion\r\n    getFiltroporInstitucion() {\r\n      let me = this;\r\n      me.$vs.loading();\r\n      this.$http.get(this.$server_url + 'filtroCapacitacionInstitucion?asesor_id=' + me.usuario.idusuario)\r\n        .then(function (res) {\r\n          me.filtroInstituciones = res.data\r\n          me.popupFiltroInstitucion = true\r\n          me.$vs.loading.close()\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n          me.$vs.loading.close()\r\n        })\r\n    },\r\n    borrar() {\r\n      let me = this;\r\n      me.endDate = \"\"\r\n    },\r\n    getTemas() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'temasCapacitacion')\r\n        .then(function (res) {\r\n          me.temas = res.data\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n        })\r\n    },\r\n    agregarInstitucionTemporal() {\r\n      let me = this;\r\n      if (me.temporalInstitucion.nombre_institucion == \"\" || me.temporalInstitucion.nombre_institucion == null || me.temporalInstitucion.nombre_institucion == undefined) {\r\n        me.$vs.notify({\r\n          color: 'primary',\r\n          title: 'Mensaje',\r\n          text: 'Debe escribir una institución por favor'\r\n        })\r\n        return false;\r\n      }\r\n      if (me.temporalInstitucion.periodo == null || me.temporalInstitucion.periodo == \"\" || me.temporalInstitucion.periodo == undefined) {\r\n        me.$vs.notify({\r\n          color: 'primary',\r\n          title: 'Mensaje',\r\n          text: 'Debe seleccionar un período por favor'\r\n        })\r\n        return false;\r\n      }\r\n      let formData = new FormData();\r\n      formData.append('nombre_institucion', me.temporalInstitucion.nombre_institucion);\r\n      formData.append('ciudad', me.temporalInstitucion.ciudad.nombre);\r\n      formData.append('region', me.temporalInstitucion.region);\r\n      formData.append('periodo', me.temporalInstitucion.periodo);\r\n      formData.append('asesor_id', me.usuario.idusuario);\r\n      me.$vs.loading()\r\n      this.$http.post(this.$server_url + 'GuardarInstitucionTemporal', formData)\r\n        .then(res => {\r\n          me.$vs.loading.close()\r\n          if (res.data.status == 0) {\r\n            me.$vs.notify({\r\n              text: res.data.message,\r\n              color: 'warning',\r\n              iconPack: 'feather',\r\n              icon: 'icon-check'\r\n            })\r\n            return\r\n          }\r\n          me.popupAddNuevaInstitucion = false;\r\n          me.activePromptAddEvent = true\r\n          me.seleccionadoInsitucion = false;\r\n          me.nombreInstitucion = me.temporalInstitucion.nombre_institucion\r\n          me.institucion_id_temporal = res.data.institucion_temporal_id\r\n          me.instituciones = []\r\n          me.periodo_id_temporal = res.data.periodo_id\r\n          me.estado_institucion_temporal = 1;\r\n\r\n          me.$vs.notify({\r\n            text: \"Se creo la institución correctamente\",\r\n            color: 'success',\r\n            iconPack: 'feather',\r\n            icon: 'icon-check'\r\n          })\r\n        })\r\n    },\r\n    //lista de ciudades para usar en el select\r\n    listaCiudades() {\r\n      let me = this\r\n      this.$http.get(this.$server_url + `ciudad`).then(res => {\r\n        me.arregloCiudad = res.data;\r\n      })\r\n        .catch(function (error) {\r\n          console.log(error)\r\n        })\r\n    },\r\n    regresar() {\r\n      let me = this;\r\n      me.seleccionadoInsitucion = false;\r\n      me.instituciones = []\r\n    },\r\n    asginarInstitucion(tr) {\r\n      let me = this;\r\n      if (me.tipo == 1) {\r\n        me.institucion_id = tr.idInstitucion\r\n        me.nombreInstitucion = tr.nombreInstitucion\r\n        me.estado_institucion_temporal = 0;\r\n        me.seleccionadoInsitucion = false;\r\n        me.instituciones = []\r\n      } else {\r\n        me.nombreInstitucion = tr.nombreInstitucion\r\n        me.institucion_id_temporal = tr.institucion_temporal_id\r\n        me.instituciones = []\r\n        me.periodo_id_temporal = tr.periodo_id\r\n        me.estado_institucion_temporal = 1;\r\n        me.seleccionadoInsitucion = false;\r\n      }\r\n    },\r\n    getInstitucion() {\r\n      let me = this;\r\n      me.instituciones = [];\r\n      if (me.busquedaInstitucion.length < 5) {\r\n        me.$vs.notify({\r\n          text: 'Minimo 5 caracteres de busqueda',\r\n          color: 'warning',\r\n          iconPack: 'feather',\r\n          icon: 'icon-check'\r\n        })\r\n        return false;\r\n      }\r\n      me.$vs.loading()\r\n      var url = this.$server_url + 'listaInsitucion?asesor=yes&busqueda=' + me.busquedaInstitucion + '&cedula=' + me.usuario.cedula\r\n      this.$http.get(url)\r\n        // this.$http.get(this.$server_url + 'listaInsitucionAsesor?busqueda=' + me.busquedaInstitucion + '&cedula=' + me.usuario.cedula)\r\n        .then(function (res) {\r\n          // me.tmpInstituciones = res.data;\r\n          me.instituciones = res.data;\r\n          // me.filtroRegion();\r\n          me.$vs.loading.close()\r\n          if (res.data.message) {\r\n            me.$vs.notify({\r\n              text: res.data.message,\r\n              color: 'success',\r\n              iconPack: 'feather',\r\n              icon: 'icon-user',\r\n              time: 8000\r\n            })\r\n          }\r\n\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n          me.$vs.loading.close()\r\n        })\r\n    },\r\n    validar() {\r\n      let me = this\r\n      me.encontrarCapacitaciones = []\r\n      if (this.tema == '' || this.tema == null || this.tema == undefined) {\r\n        this.$vs.notify({\r\n          text: 'Debe seleccionar un tema por favor.',\r\n          color: 'warning',\r\n          iconPack: 'feather',\r\n          icon: 'icon-alert-triangle'\r\n        })\r\n        me.endDate = \"\"\r\n        return\r\n      }\r\n      let fecha = moment(this.endDate, 'DD/MM/YYYY HH:mm:ss').format('YYYY-MM-DD');\r\n      this.$http.get(this.$server_url + 'temasCapacitacion?validarPorFecha=yes&fecha=' + fecha + '&tema_id=' + this.tema.id)\r\n        .then(function (res) {\r\n          me.longitudCapacitaciones = res.data.length\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n        })\r\n      me.capacitacionesToday(fecha)\r\n    },\r\n    //capacitaciones de una fecha\r\n    capacitacionesToday(fecha) {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'temasCapacitacion?encontrarCapacitaciones=yes&fecha=' + fecha)\r\n        .then(function (res) {\r\n          me.encontrarCapacitaciones = res.data\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n        })\r\n    },\r\n    addEvent() {\r\n      let me = this;\r\n      console.log(\"addEvent\");\r\n      if (this.endDate == \"Invalid date\" || this.endDate == \"\") {\r\n        me.error = true\r\n        me.endDate = \"\"\r\n        me.startDate = \"\"\r\n        me.startDate_send = \"\"\r\n        me.endDate_send = \"\"\r\n        me.tema = \"\"\r\n        me.messageError = \"Debe seleccionar un tema y luego seleccionar la fecha por favor\"\r\n        me.activePromptAddEvent = true\r\n        return false\r\n      }\r\n      if (this.estado == 2) {\r\n        me.error = true\r\n        me.messageError = \"La capacitación ya fue realizada ya no puede ser modificada\"\r\n        me.activePromptAddEvent = true\r\n        return false\r\n      }\r\n      if (this.estado == 0) {\r\n        me.error = true\r\n        me.messageError = \"La capacitación fue cancelada ya no puede ser modificada\"\r\n        me.activePromptAddEvent = true\r\n        return false\r\n      }\r\n\r\n      if (this.institucion_id == \"\" && this.institucion_id_temporal == \"\") {\r\n        me.error = true;\r\n        me.messageError = \"Seleccione una institución por favor\";\r\n        me.activePromptAddEvent = true\r\n        return false;\r\n      }\r\n      if (this.endDate_send == '' || this.hora_inicio == '' || this.hora_fin == '' || this.tema == '' || this.tema == null || this.tema == undefined) {\r\n        me.error = true;\r\n        me.messageError = \"Complete los campos por favor\";\r\n        me.activePromptAddEvent = true\r\n        return false;\r\n      }\r\n      //validar la fecha que no sea menor a los 5 dias de reserva\r\n      let fecha = moment(this.endDate, 'DD/MM/YYYY HH:mm:ss').format('YYYY-MM-DD');\r\n      let fechaActual = localStorage.getItem(\"fecha_actual\")\r\n      if (fecha < fechaActual) {\r\n        me.error = true\r\n        me.messageError = \"Debe seleccionar la fecha que empieze desde \" + fechaActual\r\n        me.activePromptAddEvent = true\r\n        return false\r\n      } else {\r\n        console.log(me.asesor) // observer i need to parse to object\r\n        let asesor = me.asesor ? me.asesor.idusuario : me.usuario.idusuario\r\n        console.log(asesor)\r\n        const obj = {\r\n          idusuario: this.usuario.idusuario,\r\n          id: this.id,\r\n          title: this.tema.tema,\r\n          observacion: this.observacion,\r\n          startDate: this.endDate_send,\r\n          endDate: this.endDate_send,\r\n          classes: 'event-' + this.labelLocal.color,\r\n          label: this.labelLocal.text,\r\n          capacitadores:this.capacitadores,\r\n          tema_id: this.tema.id,\r\n          capacitador: this.tema.capacitador,\r\n          hora_inicio: this.hora_inicio.substring(0, 5),\r\n          hora_fin: this.hora_fin.substring(0, 5),\r\n          institucion_id: this.institucion_id,\r\n          institucion_id_temporal: this.institucion_id_temporal,\r\n          estado_institucion_temporal: this.estado_institucion_temporal,\r\n          periodo_id_temporal: this.periodo_id_temporal,\r\n          nombreInstitucion: this.nombreInstitucion,\r\n          tipo: this.tipoCapacitacion,\r\n          asistentes: this.asistentes,\r\n          link_reunion: this.link_reunion,\r\n        }\r\n        if (this.id != 0) {\r\n          this.$store.dispatch('calendar/editEvent', obj)\r\n        } else {\r\n          this.$store.dispatch('calendar/addEvent', obj)\r\n        }\r\n      }\r\n    },\r\n    updateMonth(val) {\r\n      this.showDate = this.$refs.calendar.getIncrementedPeriod(val)\r\n    },\r\n    clearFields() {\r\n      this.tipoCapacitacion = '0'\r\n      this.title = this.endDate = null\r\n      this.id = 0\r\n      this.labelLocal = {\r\n        text: 'Baja',\r\n        color: 'success'\r\n      }\r\n      this.label_cancel = 'Cancelar'\r\n      this.institucion_id = \"\"\r\n      this.institucion_id_temporal = \"\"\r\n      this.estado = 5;\r\n      this.observacion = \"\"\r\n      this.capacitadores = \"\"\r\n      this.nombreInstitucion = \"\"\r\n      this.startDate = \"\"\r\n      this.endDate = \"\"\r\n      this.hora_inicio = \"\"\r\n      this.hora_fin = \"\"\r\n      this.url = \"\"\r\n      this.tema = \"\"\r\n      this.encontrarCapacitaciones = []\r\n    },\r\n    promptAddNewEvent(date) {\r\n      let me = this;\r\n      this.disabledFrom = false\r\n      this.addNewEventDialog(date)\r\n      this.tema = \"\"\r\n      this.endDate = null\r\n      me.encontrarCapacitaciones = []\r\n    },\r\n    addNewEventDialog(date) {\r\n      this.clearFields()\r\n      this.startDate = date\r\n      // this.endDate = date\r\n      this.formatoFechas()\r\n      this.activePromptAddEvent = true\r\n    },\r\n    openAddNewEvent(date) {\r\n      this.disabledFrom = true\r\n      this.addNewEventDialog(date)\r\n    },\r\n    openEditEvent(event) {\r\n      this.nombreInstitucion = \"\"\r\n      const e = this.$store.getters['calendar/getEvent'](event.id)\r\n      this.id = e.id\r\n      this.title = e.title.split('(')[0]\r\n      this.startDate = e.startDate\r\n      this.endDate = e.endDate\r\n      this.labelLocal = {\r\n        text: e.label,\r\n        color: e.classes.split('-')[1]\r\n      }\r\n      this.startDate_send = this.startDate\r\n      this.endDate_send = this.endDate\r\n      this.hora_inicio = e.hora_inicio\r\n      this.hora_fin = e.hora_fin\r\n      this.label_cancel = 'Remover'\r\n      this.activePromptAddEvent = true\r\n      this.estado = e.estado\r\n      this.observacion = e.observacion\r\n      this.capacitadores = e.capacitadores\r\n      if (e.estado_institucion_temporal == \"1\") {\r\n        this.nombreInstitucion = e.nombre_institucion_temporal\r\n        this.institucion_id_temporal = e.institucion_id_temporal\r\n        this.periodo_id_temporal = e.periodo_id\r\n        this.estado_institucion_temporal = 1\r\n      } else {\r\n        this.nombreInstitucion = e.nombreInstitucion\r\n        this.institucion_id = e.institucion_id\r\n        this.estado_institucion_temporal = 0\r\n      }\r\n      this.tipoCapacitacion = e.tipo\r\n      this.tema = {\r\n        id: e.tema_id,\r\n        tema: e.title,\r\n        capacitador: e.capacitador\r\n      }\r\n      this.link_reunion = e.link_reunion\r\n    },\r\n    removeEvent() {\r\n      let me = this;\r\n      if (this.estado == 2) {\r\n        me.error = true\r\n        me.messageError = \"La capacitación ya fue realizada ya no puede ser modificada\"\r\n        me.activePromptAddEvent = true\r\n        return false\r\n      }\r\n      if (this.label_cancel == \"Cancelar\") {\r\n        me.activePromptAddEvent = false\r\n        return\r\n      }\r\n      if (this.id == 0) {\r\n        return\r\n      }\r\n      this.$store.dispatch('calendar/removeEvent', this.id)\r\n      me.activePromptAddEvent = false\r\n    },\r\n    eventDragged(event, date) {\r\n      const e = this.$store.getters['calendar/getEvent'](event.id)\r\n      this.$store.dispatch('calendar/eventDragged', {\r\n        event,\r\n        date\r\n      })\r\n    },\r\n    formatoFechas() {\r\n      this.error = false\r\n      this.startDate_send = moment(this.startDate, 'DD/MM/YYYY HH:mm:ss').format('YYYY-MM-DD HH:mm:ss');\r\n      this.endDate_send = moment(this.endDate, 'DD/MM/YYYY HH:mm:ss').format('YYYY-MM-DD HH:mm:ss');\r\n    },\r\n    getAsesores() {\r\n      const me = this;\r\n      me.$http.get(this.$server_url + 'listaAsesores')\r\n        .then(function (res) {\r\n          console.log(res.data);\r\n          me.asesores = res.data\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n        })\r\n    }\r\n  },\r\n  created() {\r\n    this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n    console.log(this.usuario)\r\n    this.$store.registerModule('calendar', moduleCalendar)\r\n    this.$store.dispatch('calendar/fetchEvents')\r\n    this.$store.dispatch('calendar/fetchEventLabels')\r\n    this.listaCiudades()\r\n    this.institucion_id = \"\"\r\n    this.institucion_id_temporal = \"\"\r\n    this.getTemas()\r\n    this.getAsesores()\r\n  },\r\n  mounted() {\r\n    let me = this;\r\n  },\r\n  beforeDestroy() {\r\n    this.$store.unregisterModule('calendar')\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"@/assets/scss/vuexy/apps/simple-calendar.scss\";\r\n</style>\r\n"],"mappings":";;AA2eA,SACAA,YAAA,EACAC,kBAAA,QACA;AACA,OAAAC,cAAA;AACAC,OAAA;AACA,OAAAC,OAAA;AACA,OAAAC,MAAA;AACA,OAAAC,UAAA;AACA,OAAAC,SAAA;AACA;AACA,SACAC,EAAA,EACAC,EAAA,QACA;AACA;EACAC,UAAA;IACAV,YAAA,EAAAA,YAAA;IACAC,kBAAA,EAAAA,kBAAA;IACAK,UAAA,EAAAA,UAAA;IACAC,SAAA,EAAAA,SAAA;IACA,YAAAH,OAAA;IACAO,aAAA;EACA;EACAC,IAAA,WAAAA,KAAA;IAAA,IAAAC,IAAA;IACA,OAAAA,IAAA;MACAC,gBAAA;MACAC,kBAAA;MACAC,aAAA;MACAC,YAAA;MACAC,wBAAA;MACAC,sBAAA;MACAC,iBAAA;MACAC,mBAAA;MACAC,aAAA;MACAC,mBAAA;MACAC,gBAAA;MACAC,OAAA;MACAC,QAAA,MAAAC,IAAA;MACAC,YAAA;MACAC,MAAA;MACAC,EAAA;MACAC,KAAA;MACAC,SAAA;MACAC,WAAA;MACAC,aAAA;MACAC,OAAA;MACAC,UAAA;QACAC,IAAA;QACAC,KAAA;MACA;MACAC,cAAA;MACAC,YAAA;MACAC,MAAA,EAAAhC,EAAA;MACAiC,MAAA,EAAAlC,EAAA;MAEAmC,IAAA;MACAC,YAAA;MAEAC,oBAAA;MACAC,YAAA;MACAC,iBAAA;QACAC,KAAA;QACAC,GAAA;MACA,GACA;QACAD,KAAA;QACAC,GAAA;MACA,GACA;QACAD,KAAA;QACAC,GAAA;MACA,EACA;MACAC,IAAA;MACAC,oBAAA;QACAC,UAAA;QACAC,aAAA;QACAC,UAAA;MACA;MACAC,WAAA;MACAC,QAAA;MACAC,cAAA;IAAA,GAAAC,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAA7C,IAAA,mBACA,yBACA,4BACA;MACA8C,MAAA;MACAvC,iBAAA;MACAwC,MAAA;MACAC,OAAA;IACA,+BACA,oCACA,2BACA,iCACA,eACA,eACA,+BACA,IAAAH,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAA7C,IAAA,WACA,wBACA,4BACA,+BACA,mBACA,uBACA,2BACA,gCACA,wBACA,aACA,MAAA6C,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAAA,eAAA,CAAA7C,IAAA,cACA,eACA,qBACA,oBACA,uBACA,wBACA;EAEA;EACAiD,QAAA;IACAC,oBAAA,WAAAA,qBAAA;MACA,YAAAC,MAAA,CAAAC,KAAA,CAAAC,QAAA,CAAAC,MAAA;IACA;IACAC,eAAA,WAAAA,gBAAA;MACA,IAAAC,GAAA,OAAA1C,IAAA;MACA,IAAA2C,KAAA,GAAAjE,MAAA,CAAAgE,GAAA,EAAAE,GAAA;MACA,IAAAC,WAAA,GAAAnE,MAAA,CAAAgE,GAAA,EAAAE,GAAA;MACA,IAAAE,YAAA,OAAA9C,IAAA,CAAA6C,WAAA;MACA,IAAAE,SAAA,GAAArE,MAAA,CAAAoE,YAAA,yBAAAE,MAAA;MACAC,OAAA,CAAAC,GAAA,UAAAH,SAAA;MACAI,YAAA,CAAAC,OAAA,iBAAAL,SAAA;MACA;QACAM,EAAA,MAAArD,IAAA,CAAA2C,KAAA;MACA;IACA;IACAW,iBAAA,WAAAA,kBAAA;MACA;QACAC,IAAA,MAAAvD,IAAA,MAAAQ,OAAA;MACA;IACA;IACAgD,cAAA,WAAAA,eAAA;MACA,YAAAnB,MAAA,CAAAC,KAAA,CAAAC,QAAA,CAAAkB,WAAA;IACA;IACAC,UAAA,WAAAA,WAAA;MACA,iBAAArC,KAAA;QACA,IAAAA,KAAA,uCACA,IAAAA,KAAA,mCACA,IAAAA,KAAA,sCACA,IAAAA,KAAA;MACA;IACA;IACAsC,WAAA,WAAAA,YAAA;MACA,YAAAtB,MAAA,CAAAC,KAAA,CAAAqB,WAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAA,WAAAA,YAAA;MACA,IAAAC,EAAA;MACAA,EAAA,CAAAC,eAAA;MACA,KAAAC,KAAA,CAAAC,GAAA,MAAAC,WAAA,2BACAC,IAAA,WAAAC,GAAA;QACA,IAAAC,KAAA,GAAAD,GAAA,CAAAnF,IAAA;QACA6E,EAAA,CAAAC,eAAA,GAAAM,KAAA,CAAAC,MAAA,WAAAC,CAAA;UAAA,OAAAA,CAAA,CAAAC,MAAA,SAAAD,CAAA,CAAAE,eAAA,IAAAX,EAAA,CAAAY,mBAAA,CAAAzC,MAAA;QAAA;MACA,GACA0C,KAAA,WAAAC,KAAA,GACA;IACA;IACA;IACAC,6BAAA,WAAAA,8BAAA;MACA,IAAAf,EAAA;MACAA,EAAA,CAAAY,mBAAA;QACA1C,MAAA;QACAvC,iBAAA;QACAwC,MAAA;QACAC,OAAA;MACA;MACA4B,EAAA,CAAAnE,aAAA;MACA,KAAAqE,KAAA,CAAAC,GAAA,MAAAC,WAAA,4DAAAJ,EAAA,CAAAhE,OAAA,CAAAgF,SAAA,EACAX,IAAA,WAAAC,GAAA;QACAN,EAAA,CAAAnE,aAAA,GAAAyE,GAAA,CAAAnF,IAAA;QACA6E,EAAA,CAAAiB,GAAA,CAAAC,OAAA,CAAAC,KAAA;QACA,IAAAb,GAAA,CAAAnF,IAAA,CAAAiG,OAAA;UACApB,EAAA,CAAAiB,GAAA,CAAAI,MAAA;YACAzE,IAAA,EAAA0D,GAAA,CAAAnF,IAAA,CAAAiG,OAAA;YACAvE,KAAA;YACAyE,QAAA;YACAC,IAAA;YACA9D,IAAA;UACA;QACA;MACA,GACAoD,KAAA,WAAAC,KAAA;QACA3B,OAAA,CAAAC,GAAA,CAAA0B,KAAA;QACAd,EAAA,CAAAiB,GAAA,CAAAC,OAAA,CAAAC,KAAA;MACA;IACA;IACAK,WAAA,WAAAA,YAAAC,EAAA;MACA,IAAAzB,EAAA;MACA,IAAAyB,EAAA,CAAAf,MAAA;QACAV,EAAA,CAAAiB,GAAA,CAAAI,MAAA;UACAxE,KAAA;UACAP,KAAA;UACAM,IAAA;QACA;QACA;MACA;MACAoD,EAAA,CAAA3D,EAAA,GAAAoF,EAAA,CAAApF,EAAA;MACA2D,EAAA,CAAA3E,gBAAA;MACA,KAAA4F,GAAA,CAAAS,MAAA;QACAC,IAAA;QACA9E,KAAA;QACAP,KAAA;QACAM,IAAA;QACAgF,MAAA,OAAAC,iBAAA;QACAC,MAAA,OAAAA;MACA;IACA;IACAA,MAAA,WAAAA,OAAA;MACA,IAAA9B,EAAA;MACAA,EAAA,CAAA3E,gBAAA;IACA;IACAwG,iBAAA,WAAAA,kBAAA;MACA,IAAA7B,EAAA;MACAA,EAAA,CAAAiB,GAAA,CAAAC,OAAA;MACA,KAAAhB,KAAA,CAAAC,GAAA,MAAAC,WAAA,yBAAAJ,EAAA,CAAA3D,EAAA,oBACAgE,IAAA,WAAAC,GAAA;QACAN,EAAA,CAAAiB,GAAA,CAAAC,OAAA,CAAAC,KAAA;QACAnB,EAAA,CAAAiB,GAAA,CAAAI,MAAA;UACAxE,KAAA;UACAP,KAAA;UACAM,IAAA;QACA;QACAoD,EAAA,CAAA+B,kBAAA;MACA,GACAlB,KAAA,WAAAC,KAAA;QACA3B,OAAA,CAAAC,GAAA,CAAA0B,KAAA;QACAd,EAAA,CAAAiB,GAAA,CAAAC,OAAA,CAAAC,KAAA;MACA;IACA;IACAY,kBAAA,WAAAA,mBAAA;MACA,IAAA/B,EAAA;MACAA,EAAA,CAAAiB,GAAA,CAAAC,OAAA;MACA,KAAAhB,KAAA,CAAAC,GAAA,MAAAC,WAAA,gCAAAJ,EAAA,CAAAhE,OAAA,CAAAgF,SAAA,mBACAX,IAAA,WAAAC,GAAA;QACAN,EAAA,CAAAiB,GAAA,CAAAC,OAAA,CAAAC,KAAA;QACAnB,EAAA,CAAA3E,gBAAA;QACA2E,EAAA,CAAAgC,kBAAA,GAAA1B,GAAA,CAAAnF,IAAA;MACA,GACA0F,KAAA,WAAAC,KAAA;QACA3B,OAAA,CAAAC,GAAA,CAAA0B,KAAA;QACAd,EAAA,CAAAiB,GAAA,CAAAC,OAAA,CAAAC,KAAA;MACA;IACA;IACAc,aAAA,WAAAA,cAAA;MACA,IAAAjC,EAAA;MACA,IAAAA,EAAA,CAAAkC,OAAA;QACAlC,EAAA,CAAAiB,GAAA,CAAAI,MAAA;UACAxE,KAAA;UACAP,KAAA;UACAM,IAAA;QACA;QACA;MACA;MACA,IAAAoD,EAAA,CAAAkC,OAAA,CAAAC,MAAA;QACAnC,EAAA,CAAAiB,GAAA,CAAAI,MAAA;UACAxE,KAAA;UACAP,KAAA;UACAM,IAAA;QACA;QACA;MACA;MACAoD,EAAA,CAAAiB,GAAA,CAAAC,OAAA;MACA,KAAAhB,KAAA,CAAAC,GAAA,MAAAC,WAAA,gCAAAJ,EAAA,CAAAhE,OAAA,CAAAgF,SAAA,cAAAhB,EAAA,CAAAkC,OAAA,qBAAAlC,EAAA,CAAAoC,cAAA,EACA/B,IAAA,WAAAC,GAAA;QACAN,EAAA,CAAAiB,GAAA,CAAAC,OAAA,CAAAC,KAAA;QACAnB,EAAA,CAAA5C,oBAAA;QACA4C,EAAA,CAAA1E,kBAAA;QACA0E,EAAA,CAAAiB,GAAA,CAAAI,MAAA;UACAxE,KAAA;UACAP,KAAA;UACAM,IAAA,EAAA0D,GAAA,CAAAnF,IAAA,CAAAiG;QACA;MACA,GACAP,KAAA,WAAAC,KAAA;QACA3B,OAAA,CAAAC,GAAA,CAAA0B,KAAA;QACAd,EAAA,CAAAiB,GAAA,CAAAC,OAAA,CAAAC,KAAA;MACA;IACA;IACA;IACAkB,uBAAA,WAAAA,wBAAA;MACA,IAAArC,EAAA;MACAA,EAAA,CAAAiB,GAAA,CAAAC,OAAA;MACA,KAAAhB,KAAA,CAAAC,GAAA,MAAAC,WAAA,gDAAAJ,EAAA,CAAAhE,OAAA,CAAAgF,SAAA,EACAX,IAAA,WAAAC,GAAA;QACAN,EAAA,CAAAsC,mBAAA,GAAAhC,GAAA,CAAAnF,IAAA;QACA6E,EAAA,CAAAuC,sBAAA;QACAvC,EAAA,CAAAiB,GAAA,CAAAC,OAAA,CAAAC,KAAA;MACA,GACAN,KAAA,WAAAC,KAAA;QACA3B,OAAA,CAAAC,GAAA,CAAA0B,KAAA;QACAd,EAAA,CAAAiB,GAAA,CAAAC,OAAA,CAAAC,KAAA;MACA;IACA;IACAqB,MAAA,WAAAA,OAAA;MACA,IAAAxC,EAAA;MACAA,EAAA,CAAAtD,OAAA;IACA;IACA+F,QAAA,WAAAA,SAAA;MACA,IAAAzC,EAAA;MACA,KAAAE,KAAA,CAAAC,GAAA,MAAAC,WAAA,wBACAC,IAAA,WAAAC,GAAA;QACAN,EAAA,CAAA0C,KAAA,GAAApC,GAAA,CAAAnF,IAAA;MACA,GACA0F,KAAA,WAAAC,KAAA;QACA3B,OAAA,CAAAC,GAAA,CAAA0B,KAAA;MACA;IACA;IACA6B,0BAAA,WAAAA,2BAAA;MACA,IAAA3C,EAAA;MACA,IAAAA,EAAA,CAAAY,mBAAA,CAAAgC,kBAAA,UAAA5C,EAAA,CAAAY,mBAAA,CAAAgC,kBAAA,YAAA5C,EAAA,CAAAY,mBAAA,CAAAgC,kBAAA,IAAAC,SAAA;QACA7C,EAAA,CAAAiB,GAAA,CAAAI,MAAA;UACAxE,KAAA;UACAP,KAAA;UACAM,IAAA;QACA;QACA;MACA;MACA,IAAAoD,EAAA,CAAAY,mBAAA,CAAAxC,OAAA,YAAA4B,EAAA,CAAAY,mBAAA,CAAAxC,OAAA,UAAA4B,EAAA,CAAAY,mBAAA,CAAAxC,OAAA,IAAAyE,SAAA;QACA7C,EAAA,CAAAiB,GAAA,CAAAI,MAAA;UACAxE,KAAA;UACAP,KAAA;UACAM,IAAA;QACA;QACA;MACA;MACA,IAAAkG,QAAA,OAAAC,QAAA;MACAD,QAAA,CAAAE,MAAA,uBAAAhD,EAAA,CAAAY,mBAAA,CAAAgC,kBAAA;MACAE,QAAA,CAAAE,MAAA,WAAAhD,EAAA,CAAAY,mBAAA,CAAA1C,MAAA,CAAA+E,MAAA;MACAH,QAAA,CAAAE,MAAA,WAAAhD,EAAA,CAAAY,mBAAA,CAAAzC,MAAA;MACA2E,QAAA,CAAAE,MAAA,YAAAhD,EAAA,CAAAY,mBAAA,CAAAxC,OAAA;MACA0E,QAAA,CAAAE,MAAA,cAAAhD,EAAA,CAAAhE,OAAA,CAAAgF,SAAA;MACAhB,EAAA,CAAAiB,GAAA,CAAAC,OAAA;MACA,KAAAhB,KAAA,CAAAgD,IAAA,MAAA9C,WAAA,iCAAA0C,QAAA,EACAzC,IAAA,WAAAC,GAAA;QACAN,EAAA,CAAAiB,GAAA,CAAAC,OAAA,CAAAC,KAAA;QACA,IAAAb,GAAA,CAAAnF,IAAA,CAAAgI,MAAA;UACAnD,EAAA,CAAAiB,GAAA,CAAAI,MAAA;YACAzE,IAAA,EAAA0D,GAAA,CAAAnF,IAAA,CAAAiG,OAAA;YACAvE,KAAA;YACAyE,QAAA;YACAC,IAAA;UACA;UACA;QACA;QACAvB,EAAA,CAAAvE,wBAAA;QACAuE,EAAA,CAAA5C,oBAAA;QACA4C,EAAA,CAAAtE,sBAAA;QACAsE,EAAA,CAAArE,iBAAA,GAAAqE,EAAA,CAAAY,mBAAA,CAAAgC,kBAAA;QACA5C,EAAA,CAAAoD,uBAAA,GAAA9C,GAAA,CAAAnF,IAAA,CAAAkI,uBAAA;QACArD,EAAA,CAAAnE,aAAA;QACAmE,EAAA,CAAAsD,mBAAA,GAAAhD,GAAA,CAAAnF,IAAA,CAAAoI,UAAA;QACAvD,EAAA,CAAAwD,2BAAA;QAEAxD,EAAA,CAAAiB,GAAA,CAAAI,MAAA;UACAzE,IAAA;UACAC,KAAA;UACAyE,QAAA;UACAC,IAAA;QACA;MACA;IACA;IACA;IACAkC,aAAA,WAAAA,cAAA;MACA,IAAAzD,EAAA;MACA,KAAAE,KAAA,CAAAC,GAAA,MAAAC,WAAA,aAAAC,IAAA,WAAAC,GAAA;QACAN,EAAA,CAAA0D,aAAA,GAAApD,GAAA,CAAAnF,IAAA;MACA,GACA0F,KAAA,WAAAC,KAAA;QACA3B,OAAA,CAAAC,GAAA,CAAA0B,KAAA;MACA;IACA;IACA6C,QAAA,WAAAA,SAAA;MACA,IAAA3D,EAAA;MACAA,EAAA,CAAAtE,sBAAA;MACAsE,EAAA,CAAAnE,aAAA;IACA;IACA+H,kBAAA,WAAAA,mBAAAnC,EAAA;MACA,IAAAzB,EAAA;MACA,IAAAA,EAAA,CAAA6D,IAAA;QACA7D,EAAA,CAAAhC,cAAA,GAAAyD,EAAA,CAAAqC,aAAA;QACA9D,EAAA,CAAArE,iBAAA,GAAA8F,EAAA,CAAA9F,iBAAA;QACAqE,EAAA,CAAAwD,2BAAA;QACAxD,EAAA,CAAAtE,sBAAA;QACAsE,EAAA,CAAAnE,aAAA;MACA;QACAmE,EAAA,CAAArE,iBAAA,GAAA8F,EAAA,CAAA9F,iBAAA;QACAqE,EAAA,CAAAoD,uBAAA,GAAA3B,EAAA,CAAA4B,uBAAA;QACArD,EAAA,CAAAnE,aAAA;QACAmE,EAAA,CAAAsD,mBAAA,GAAA7B,EAAA,CAAA8B,UAAA;QACAvD,EAAA,CAAAwD,2BAAA;QACAxD,EAAA,CAAAtE,sBAAA;MACA;IACA;IACAqI,cAAA,WAAAA,eAAA;MACA,IAAA/D,EAAA;MACAA,EAAA,CAAAnE,aAAA;MACA,IAAAmE,EAAA,CAAApE,mBAAA,CAAAuG,MAAA;QACAnC,EAAA,CAAAiB,GAAA,CAAAI,MAAA;UACAzE,IAAA;UACAC,KAAA;UACAyE,QAAA;UACAC,IAAA;QACA;QACA;MACA;MACAvB,EAAA,CAAAiB,GAAA,CAAAC,OAAA;MACA,IAAA8C,GAAA,QAAA5D,WAAA,4CAAAJ,EAAA,CAAApE,mBAAA,gBAAAoE,EAAA,CAAAhE,OAAA,CAAAiI,MAAA;MACA,KAAA/D,KAAA,CAAAC,GAAA,CAAA6D,GAAA;MACA;MAAA,CACA3D,IAAA,WAAAC,GAAA;QACA;QACAN,EAAA,CAAAnE,aAAA,GAAAyE,GAAA,CAAAnF,IAAA;QACA;QACA6E,EAAA,CAAAiB,GAAA,CAAAC,OAAA,CAAAC,KAAA;QACA,IAAAb,GAAA,CAAAnF,IAAA,CAAAiG,OAAA;UACApB,EAAA,CAAAiB,GAAA,CAAAI,MAAA;YACAzE,IAAA,EAAA0D,GAAA,CAAAnF,IAAA,CAAAiG,OAAA;YACAvE,KAAA;YACAyE,QAAA;YACAC,IAAA;YACA9D,IAAA;UACA;QACA;MAEA,GACAoD,KAAA,WAAAC,KAAA;QACA3B,OAAA,CAAAC,GAAA,CAAA0B,KAAA;QACAd,EAAA,CAAAiB,GAAA,CAAAC,OAAA,CAAAC,KAAA;MACA;IACA;IACA+C,OAAA,WAAAA,QAAA;MACA,IAAAlE,EAAA;MACAA,EAAA,CAAAmE,uBAAA;MACA,SAAAjH,IAAA,eAAAA,IAAA,iBAAAA,IAAA,IAAA2F,SAAA;QACA,KAAA5B,GAAA,CAAAI,MAAA;UACAzE,IAAA;UACAC,KAAA;UACAyE,QAAA;UACAC,IAAA;QACA;QACAvB,EAAA,CAAAtD,OAAA;QACA;MACA;MACA,IAAAmC,KAAA,GAAAjE,MAAA,MAAA8B,OAAA,yBAAAwC,MAAA;MACA,KAAAgB,KAAA,CAAAC,GAAA,MAAAC,WAAA,oDAAAvB,KAAA,sBAAA3B,IAAA,CAAAb,EAAA,EACAgE,IAAA,WAAAC,GAAA;QACAN,EAAA,CAAAoE,sBAAA,GAAA9D,GAAA,CAAAnF,IAAA,CAAAgH,MAAA;MACA,GACAtB,KAAA,WAAAC,KAAA;QACA3B,OAAA,CAAAC,GAAA,CAAA0B,KAAA;MACA;MACAd,EAAA,CAAAqE,mBAAA,CAAAxF,KAAA;IACA;IACA;IACAwF,mBAAA,WAAAA,oBAAAxF,KAAA;MACA,IAAAmB,EAAA;MACA,KAAAE,KAAA,CAAAC,GAAA,MAAAC,WAAA,4DAAAvB,KAAA,EACAwB,IAAA,WAAAC,GAAA;QACAN,EAAA,CAAAmE,uBAAA,GAAA7D,GAAA,CAAAnF,IAAA;MACA,GACA0F,KAAA,WAAAC,KAAA;QACA3B,OAAA,CAAAC,GAAA,CAAA0B,KAAA;MACA;IACA;IACAwD,QAAA,WAAAA,SAAA;MACA,IAAAtE,EAAA;MACAb,OAAA,CAAAC,GAAA;MACA,SAAA1C,OAAA,2BAAAA,OAAA;QACAsD,EAAA,CAAAc,KAAA;QACAd,EAAA,CAAAtD,OAAA;QACAsD,EAAA,CAAAzD,SAAA;QACAyD,EAAA,CAAAlD,cAAA;QACAkD,EAAA,CAAAjD,YAAA;QACAiD,EAAA,CAAA9C,IAAA;QACA8C,EAAA,CAAAuE,YAAA;QACAvE,EAAA,CAAA5C,oBAAA;QACA;MACA;MACA,SAAAsD,MAAA;QACAV,EAAA,CAAAc,KAAA;QACAd,EAAA,CAAAuE,YAAA;QACAvE,EAAA,CAAA5C,oBAAA;QACA;MACA;MACA,SAAAsD,MAAA;QACAV,EAAA,CAAAc,KAAA;QACAd,EAAA,CAAAuE,YAAA;QACAvE,EAAA,CAAA5C,oBAAA;QACA;MACA;MAEA,SAAAY,cAAA,eAAAoF,uBAAA;QACApD,EAAA,CAAAc,KAAA;QACAd,EAAA,CAAAuE,YAAA;QACAvE,EAAA,CAAA5C,oBAAA;QACA;MACA;MACA,SAAAL,YAAA,eAAAe,WAAA,eAAAC,QAAA,eAAAb,IAAA,eAAAA,IAAA,iBAAAA,IAAA,IAAA2F,SAAA;QACA7C,EAAA,CAAAc,KAAA;QACAd,EAAA,CAAAuE,YAAA;QACAvE,EAAA,CAAA5C,oBAAA;QACA;MACA;MACA;MACA,IAAAyB,KAAA,GAAAjE,MAAA,MAAA8B,OAAA,yBAAAwC,MAAA;MACA,IAAAH,WAAA,GAAAM,YAAA,CAAAmF,OAAA;MACA,IAAA3F,KAAA,GAAAE,WAAA;QACAiB,EAAA,CAAAc,KAAA;QACAd,EAAA,CAAAuE,YAAA,oDAAAxF,WAAA;QACAiB,EAAA,CAAA5C,oBAAA;QACA;MACA;QACA+B,OAAA,CAAAC,GAAA,CAAAY,EAAA,CAAAyE,MAAA;QACA,IAAAA,MAAA,GAAAzE,EAAA,CAAAyE,MAAA,GAAAzE,EAAA,CAAAyE,MAAA,CAAAzD,SAAA,GAAAhB,EAAA,CAAAhE,OAAA,CAAAgF,SAAA;QACA7B,OAAA,CAAAC,GAAA,CAAAqF,MAAA;QACA,IAAAC,GAAA;UACA1D,SAAA,OAAAhF,OAAA,CAAAgF,SAAA;UACA3E,EAAA,OAAAA,EAAA;UACAC,KAAA,OAAAY,IAAA,CAAAA,IAAA;UACAV,WAAA,OAAAA,WAAA;UACAD,SAAA,OAAAQ,YAAA;UACAL,OAAA,OAAAK,YAAA;UACA4H,OAAA,kBAAAhI,UAAA,CAAAE,KAAA;UACAU,KAAA,OAAAZ,UAAA,CAAAC,IAAA;UACAH,aAAA,OAAAA,aAAA;UACAmI,OAAA,OAAA1H,IAAA,CAAAb,EAAA;UACAwI,WAAA,OAAA3H,IAAA,CAAA2H,WAAA;UACA/G,WAAA,OAAAA,WAAA,CAAAgH,SAAA;UACA/G,QAAA,OAAAA,QAAA,CAAA+G,SAAA;UACA9G,cAAA,OAAAA,cAAA;UACAoF,uBAAA,OAAAA,uBAAA;UACAI,2BAAA,OAAAA,2BAAA;UACAF,mBAAA,OAAAA,mBAAA;UACA3H,iBAAA,OAAAA,iBAAA;UACAkI,IAAA,OAAA9H,gBAAA;UACAgJ,UAAA,OAAAA,UAAA;UACAC,YAAA,OAAAA;QACA;QACA,SAAA3I,EAAA;UACA,KAAAkC,MAAA,CAAA0G,QAAA,uBAAAP,GAAA;QACA;UACA,KAAAnG,MAAA,CAAA0G,QAAA,sBAAAP,GAAA;QACA;MACA;IACA;IACAQ,WAAA,WAAAA,YAAA1H,GAAA;MACA,KAAAvB,QAAA,QAAAkJ,KAAA,CAAA1G,QAAA,CAAA2G,oBAAA,CAAA5H,GAAA;IACA;IACA6H,WAAA,WAAAA,YAAA;MACA,KAAAtJ,gBAAA;MACA,KAAAO,KAAA,QAAAI,OAAA;MACA,KAAAL,EAAA;MACA,KAAAM,UAAA;QACAC,IAAA;QACAC,KAAA;MACA;MACA,KAAAQ,YAAA;MACA,KAAAW,cAAA;MACA,KAAAoF,uBAAA;MACA,KAAA1C,MAAA;MACA,KAAAlE,WAAA;MACA,KAAAC,aAAA;MACA,KAAAd,iBAAA;MACA,KAAAY,SAAA;MACA,KAAAG,OAAA;MACA,KAAAoB,WAAA;MACA,KAAAC,QAAA;MACA,KAAAiG,GAAA;MACA,KAAA9G,IAAA;MACA,KAAAiH,uBAAA;IACA;IACAmB,iBAAA,WAAAA,kBAAAC,IAAA;MACA,IAAAvF,EAAA;MACA,KAAA7D,YAAA;MACA,KAAAqJ,iBAAA,CAAAD,IAAA;MACA,KAAArI,IAAA;MACA,KAAAR,OAAA;MACAsD,EAAA,CAAAmE,uBAAA;IACA;IACAqB,iBAAA,WAAAA,kBAAAD,IAAA;MACA,KAAAF,WAAA;MACA,KAAA9I,SAAA,GAAAgJ,IAAA;MACA;MACA,KAAAE,aAAA;MACA,KAAArI,oBAAA;IACA;IACAsI,eAAA,WAAAA,gBAAAH,IAAA;MACA,KAAApJ,YAAA;MACA,KAAAqJ,iBAAA,CAAAD,IAAA;IACA;IACAI,aAAA,WAAAA,cAAAC,KAAA;MACA,KAAAjK,iBAAA;MACA,IAAAkK,CAAA,QAAAtH,MAAA,CAAAuH,OAAA,sBAAAF,KAAA,CAAAvJ,EAAA;MACA,KAAAA,EAAA,GAAAwJ,CAAA,CAAAxJ,EAAA;MACA,KAAAC,KAAA,GAAAuJ,CAAA,CAAAvJ,KAAA,CAAAyJ,KAAA;MACA,KAAAxJ,SAAA,GAAAsJ,CAAA,CAAAtJ,SAAA;MACA,KAAAG,OAAA,GAAAmJ,CAAA,CAAAnJ,OAAA;MACA,KAAAC,UAAA;QACAC,IAAA,EAAAiJ,CAAA,CAAAtI,KAAA;QACAV,KAAA,EAAAgJ,CAAA,CAAAlB,OAAA,CAAAoB,KAAA;MACA;MACA,KAAAjJ,cAAA,QAAAP,SAAA;MACA,KAAAQ,YAAA,QAAAL,OAAA;MACA,KAAAoB,WAAA,GAAA+H,CAAA,CAAA/H,WAAA;MACA,KAAAC,QAAA,GAAA8H,CAAA,CAAA9H,QAAA;MACA,KAAAV,YAAA;MACA,KAAAD,oBAAA;MACA,KAAAsD,MAAA,GAAAmF,CAAA,CAAAnF,MAAA;MACA,KAAAlE,WAAA,GAAAqJ,CAAA,CAAArJ,WAAA;MACA,KAAAC,aAAA,GAAAoJ,CAAA,CAAApJ,aAAA;MACA,IAAAoJ,CAAA,CAAArC,2BAAA;QACA,KAAA7H,iBAAA,GAAAkK,CAAA,CAAAG,2BAAA;QACA,KAAA5C,uBAAA,GAAAyC,CAAA,CAAAzC,uBAAA;QACA,KAAAE,mBAAA,GAAAuC,CAAA,CAAAtC,UAAA;QACA,KAAAC,2BAAA;MACA;QACA,KAAA7H,iBAAA,GAAAkK,CAAA,CAAAlK,iBAAA;QACA,KAAAqC,cAAA,GAAA6H,CAAA,CAAA7H,cAAA;QACA,KAAAwF,2BAAA;MACA;MACA,KAAAzH,gBAAA,GAAA8J,CAAA,CAAAhC,IAAA;MACA,KAAA3G,IAAA;QACAb,EAAA,EAAAwJ,CAAA,CAAAjB,OAAA;QACA1H,IAAA,EAAA2I,CAAA,CAAAvJ,KAAA;QACAuI,WAAA,EAAAgB,CAAA,CAAAhB;MACA;MACA,KAAAG,YAAA,GAAAa,CAAA,CAAAb,YAAA;IACA;IACAiB,WAAA,WAAAA,YAAA;MACA,IAAAjG,EAAA;MACA,SAAAU,MAAA;QACAV,EAAA,CAAAc,KAAA;QACAd,EAAA,CAAAuE,YAAA;QACAvE,EAAA,CAAA5C,oBAAA;QACA;MACA;MACA,SAAAC,YAAA;QACA2C,EAAA,CAAA5C,oBAAA;QACA;MACA;MACA,SAAAf,EAAA;QACA;MACA;MACA,KAAAkC,MAAA,CAAA0G,QAAA,8BAAA5I,EAAA;MACA2D,EAAA,CAAA5C,oBAAA;IACA;IACA8I,YAAA,WAAAA,aAAAN,KAAA,EAAAL,IAAA;MACA,IAAAM,CAAA,QAAAtH,MAAA,CAAAuH,OAAA,sBAAAF,KAAA,CAAAvJ,EAAA;MACA,KAAAkC,MAAA,CAAA0G,QAAA;QACAW,KAAA,EAAAA,KAAA;QACAL,IAAA,EAAAA;MACA;IACA;IACAE,aAAA,WAAAA,cAAA;MACA,KAAA3E,KAAA;MACA,KAAAhE,cAAA,GAAAlC,MAAA,MAAA2B,SAAA,yBAAA2C,MAAA;MACA,KAAAnC,YAAA,GAAAnC,MAAA,MAAA8B,OAAA,yBAAAwC,MAAA;IACA;IACAiH,WAAA,WAAAA,YAAA;MACA,IAAAnG,EAAA;MACAA,EAAA,CAAAE,KAAA,CAAAC,GAAA,MAAAC,WAAA,oBACAC,IAAA,WAAAC,GAAA;QACAnB,OAAA,CAAAC,GAAA,CAAAkB,GAAA,CAAAnF,IAAA;QACA6E,EAAA,CAAAoG,QAAA,GAAA9F,GAAA,CAAAnF,IAAA;MACA,GACA0F,KAAA,WAAAC,KAAA;QACA3B,OAAA,CAAAC,GAAA,CAAA0B,KAAA;MACA;IACA;EACA;EACAuF,OAAA,WAAAA,QAAA;IACA,KAAArK,OAAA,GAAAsK,IAAA,CAAAC,KAAA,CAAAlH,YAAA,CAAAmF,OAAA;IACArF,OAAA,CAAAC,GAAA,MAAApD,OAAA;IACA,KAAAuC,MAAA,CAAAiI,cAAA,aAAA/L,cAAA;IACA,KAAA8D,MAAA,CAAA0G,QAAA;IACA,KAAA1G,MAAA,CAAA0G,QAAA;IACA,KAAAxB,aAAA;IACA,KAAAzF,cAAA;IACA,KAAAoF,uBAAA;IACA,KAAAX,QAAA;IACA,KAAA0D,WAAA;EACA;EACAM,OAAA,WAAAA,QAAA;IACA,IAAAzG,EAAA;EACA;EACA0G,aAAA,WAAAA,cAAA;IACA,KAAAnI,MAAA,CAAAoI,gBAAA;EACA;AACA","ignoreList":[]}]}