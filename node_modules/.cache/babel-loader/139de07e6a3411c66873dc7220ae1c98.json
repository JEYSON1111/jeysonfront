{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\components\\distribuidores\\AsignarValorDistribuidor.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\components\\distribuidores\\AsignarValorDistribuidor.vue","mtime":1712682816290},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport vSelect from 'vue-select';\nexport default {\n  components: {\n    vSelect: vSelect\n  },\n  data: function data() {\n    return {\n      arregloPeriodos: [],\n      asignar: {\n        id: 0,\n        asesor: '',\n        saldo_inicial: 0,\n        periodo: ''\n      }\n    };\n  },\n  props: {\n    usuario: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    arregloDistribuidores: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    distribuidorSelect: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    editar: {\n      type: Number,\n      default: 0\n    }\n  },\n  created: function created() {\n    var me = this;\n    me.getPeriodos();\n  },\n  mounted: function mounted() {\n    var me = this;\n    if (me.editar == 0) me.limpiar();else me.setEdit();\n  },\n  methods: {\n    getPeriodos: function getPeriodos() {\n      var me = this;\n      me.arregloPeriodos = [];\n      this.$http.get(this.$server_url + 'get_periodos_pedidos').then(function (res) {\n        var datos = res.data;\n        me.arregloPeriodos = datos.filter(function (p) {\n          return p.estado == 1;\n        });\n      }).catch(function (error) {});\n    },\n    save_distribuidor: function save_distribuidor() {\n      var me = this;\n      if (me.asignar.asesor == \"\" || me.asignar.asesor == null || me.asignar.asesor == undefined) {\n        me.$vs.notify({\n          color: 'danger',\n          title: 'Error',\n          text: \"Debe completar seleccionar un asesor\",\n          time: 4000\n        });\n        return;\n      }\n      if (me.asignar.periodo == \"\" || me.asignar.periodo == null || me.asignar.periodo == undefined) {\n        me.$vs.notify({\n          color: 'danger',\n          title: 'Error',\n          text: \"Debe Seleccionar un período\",\n          time: 4000\n        });\n        return;\n      }\n      var formData = new FormData();\n      formData.append('save_distribuidorTemporada', 'yes');\n      formData.append('id', me.asignar.id);\n      formData.append('user_created', me.usuario.idusuario);\n      formData.append('idusuario', me.asignar.asesor);\n      formData.append('saldo_inicial', me.asignar.saldo_inicial);\n      formData.append('periodo_id', me.asignar.periodo);\n      me.$vs.loading();\n      this.$http.post(this.$server_url + 'distribuidor', formData).then(function (res) {\n        me.$vs.loading.close();\n        if (res.data.status == 0) {\n          me.$vs.notify({\n            color: 'danger',\n            title: 'Exito',\n            text: res.data.message,\n            time: 4000\n          });\n          return;\n        }\n        me.$vs.notify({\n          color: 'success',\n          title: 'Exito',\n          text: res.data.message,\n          time: 4000\n        });\n        me.$emit('recharge', 2);\n      }).catch(function (error) {\n        me.$vs.loading.close();\n      });\n    },\n    limpiar: function limpiar() {\n      var me = this;\n      me.asignar = {\n        id: 0,\n        asesor: '',\n        saldo_inicial: 0,\n        periodo: ''\n      };\n    },\n    setEdit: function setEdit() {\n      var me = this;\n      me.asignar.id = me.distribuidorSelect.id;\n      me.asignar.asesor = me.distribuidorSelect.idusuario;\n      me.asignar.saldo_inicial = me.distribuidorSelect.saldo_inicial;\n      me.asignar.periodo = me.distribuidorSelect.periodo_id;\n    }\n  }\n};",{"version":3,"names":["vSelect","components","data","arregloPeriodos","asignar","id","asesor","saldo_inicial","periodo","props","usuario","type","Object","default","_default","arregloDistribuidores","Array","distribuidorSelect","editar","Number","created","me","getPeriodos","mounted","limpiar","setEdit","methods","$http","get","$server_url","then","res","datos","filter","p","estado","catch","error","save_distribuidor","undefined","$vs","notify","color","title","text","time","formData","FormData","append","idusuario","loading","post","close","status","message","$emit","periodo_id"],"sources":["src/views/pedidos/components/distribuidores/AsignarValorDistribuidor.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div> \r\n            <!---ASIGNAR COMO DISTRIBUIDOR-->\r\n            <div class=\"vx-row mb-6\" >\r\n                <div class=\"vx-col sm:w-1/3 w-full\">\r\n                    <span>Distribuidor:</span>\r\n                </div>\r\n                <div class=\"vx-col sm:w-2/3 w-full\">\r\n                    <v-select :options=\"arregloDistribuidores\" :reduce=\"arregloDistribuidores => arregloDistribuidores.idusuario\" label=\"distribuidorUser\" class=\"w-full\" v-model=\"asignar.asesor\" />\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"vx-row mb-6\" v-if=\"asignar.asesor\">\r\n                <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Cédula</span>\r\n                </div>\r\n                <div class=\"vx-col sm:w-2/3 w-full\">\r\n                    <div v-for=\"(item,key) in arregloDistribuidores\">\r\n                        <span v-if=\"item.idusuario == asignar.asesor\">{{ item.cedula }}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n               <div class=\"vx-row mb-6\" >\r\n                <div class=\"vx-col sm:w-1/3 w-full\">\r\n                    <span>Período:</span>\r\n                </div>\r\n                <div class=\"vx-col sm:w-2/3 w-full\">\r\n                    <v-select :disabled=\"editar == 1 ? true:false\" :options=\"arregloPeriodos\" :reduce=\"arregloPeriodos => arregloPeriodos.idperiodoescolar\" label=\"periodoescolar\" class=\"w-full\" v-model=\"asignar.periodo\" />\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"vx-row mb-6\">\r\n                <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Saldo inicial</span>\r\n                </div>\r\n                <div class=\"vx-col sm:w-2/3 w-full\">\r\n                    <vs-input class=\"w-full\" icon-pack=\"feather\" icon=\"icon-dollar-sign\" icon-no-border  v-model=\"asignar.saldo_inicial\" />\r\n                </div>\r\n            </div>\r\n            <div class=\"flex justify-center\">\r\n                <vs-button color=\"success\" class=\"mr-3\" type=\"gradient\" @click=\"save_distribuidor()\">{{ editar == 1 ? 'Editar' : 'Asignar'}} Valores de Distribuidor</vs-button>\r\n            </div> \r\n        </div>\r\n        <br><br><br><br>\r\n    </div>\r\n</template>\r\n<script>\r\nimport vSelect from 'vue-select'\r\nexport default{\r\n    components:{\r\n        vSelect,\r\n    },\r\n    data(){\r\n        return{\r\n            arregloPeriodos:[],\r\n            asignar:{\r\n                id:0,\r\n                asesor:'',\r\n                saldo_inicial:0,\r\n                periodo:'',\r\n            },\r\n        }\r\n    },\r\n    props:{\r\n        usuario:{\r\n            type:Object,\r\n            default:function(){\r\n                return {}\r\n            }\r\n        },\r\n        arregloDistribuidores:{\r\n            type:Array,\r\n            default:function(){\r\n                return []\r\n            }\r\n        },\r\n        distribuidorSelect:{\r\n            type:Object,\r\n            default:function(){\r\n                return {}\r\n            }\r\n        },\r\n        editar:{\r\n            type:Number,\r\n            default:0\r\n        },\r\n    },\r\n    created(){\r\n        let me = this\r\n        me.getPeriodos()\r\n    },\r\n    mounted(){\r\n        let me = this;\r\n        if(me.editar == 0) me.limpiar()\r\n        else               me.setEdit()\r\n    },\r\n    methods:{\r\n        getPeriodos(){\r\n            let me = this\r\n            me.arregloPeriodos = []\r\n            this.$http.get(this.$server_url+'get_periodos_pedidos')\r\n            .then(res => {\r\n                let datos = res.data\r\n                me.arregloPeriodos = datos.filter(p => p.estado == 1)\r\n            })\r\n            .catch(function (error) {\r\n            })\r\n        },\r\n        save_distribuidor(){\r\n            let me  = this;\r\n            if(me.asignar.asesor == \"\" || me.asignar.asesor == null || me.asignar.asesor == undefined){\r\n                me.$vs.notify({ color: 'danger', title:'Error' , text: \"Debe completar seleccionar un asesor\", time:4000})\r\n                return\r\n            }\r\n            if(me.asignar.periodo == \"\" || me.asignar.periodo == null || me.asignar.periodo == undefined){\r\n                me.$vs.notify({ color: 'danger', title:'Error' , text: \"Debe Seleccionar un período\", time:4000})\r\n                return\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('save_distribuidorTemporada',   'yes')\r\n            formData.append('id',                           me.asignar.id);\r\n            formData.append('user_created',                 me.usuario.idusuario);\r\n            formData.append('idusuario',                    me.asignar.asesor );\r\n            formData.append('saldo_inicial',                me.asignar.saldo_inicial);\r\n            formData.append('periodo_id',                   me.asignar.periodo)\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'distribuidor', formData)\r\n            .then(res => {\r\n            me.$vs.loading.close()\r\n            if(res.data.status == 0){\r\n                me.$vs.notify({ color: 'danger', title:'Exito' , text: res.data.message, time:4000})\r\n                return\r\n            }\r\n            me.$vs.notify({ color: 'success', title:'Exito' , text: res.data.message, time:4000})\r\n            me.$emit('recharge',2)\r\n            })\r\n            .catch(function (error) {\r\n              me.$vs.loading.close()\r\n            })\r\n        },\r\n        limpiar(){\r\n            let me = this\r\n            me.asignar={\r\n                id:0,\r\n                asesor:'',\r\n                saldo_inicial:0,\r\n                periodo:''\r\n            }\r\n        },\r\n        setEdit(){\r\n            let me = this;\r\n            me.asignar.id               = me.distribuidorSelect.id\r\n            me.asignar.asesor           = me.distribuidorSelect.idusuario\r\n            me.asignar.saldo_inicial    = me.distribuidorSelect.saldo_inicial\r\n            me.asignar.periodo          = me.distribuidorSelect.periodo_id\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":"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","ignoreList":[]}]}