{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\formatos_pedidos.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\formatos_pedidos.vue","mtime":1712682816333},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import flatPickr from 'vue-flatpickr-component';\nimport 'flatpickr/dist/flatpickr.css';\nimport vSelect from 'vue-select';\nimport Vue from 'vue';\n\n//Imports\nvar seriesBasicasVue = function seriesBasicasVue() {\n  return import(\"./components/seriesBasicas.vue\");\n};\nvar listadoGuiasFacturadorVue = function listadoGuiasFacturadorVue() {\n  return import(\"./components/Guias/guiasFacturador/listadoGuiasFacturador.vue\");\n};\nvar ScreenPedidosVue = function ScreenPedidosVue() {\n  return import(\"./ScreenPedidos.vue\");\n};\nvar ScreenObsequiosFacturadorVue = function ScreenObsequiosFacturadorVue() {\n  return import(\"./obsequios/ScreenObsequiosFacturador.vue\");\n};\nvar HistoricoSolicitudVerificacionesVue = function HistoricoSolicitudVerificacionesVue() {\n  return import(\"../temporadas/HistoricoSolicitudVerificaciones.vue\");\n};\n// const listadoContratosVue                 = () => import(\"./asesor/contratos/listadoContratos.vue\");\nvar ScreenDistribuidorVue = function ScreenDistribuidorVue() {\n  return import(\"./components/distribuidores/ScreenDistribuidor.vue\");\n};\n//Components\nexport default {\n  components: {\n    flatPickr: flatPickr,\n    'v-select': vSelect,\n    seriesBasicasVue: seriesBasicasVue,\n    listadoGuiasFacturadorVue: listadoGuiasFacturadorVue,\n    ScreenPedidosVue: ScreenPedidosVue,\n    ScreenObsequiosFacturadorVue: ScreenObsequiosFacturadorVue,\n    HistoricoSolicitudVerificacionesVue: HistoricoSolicitudVerificacionesVue,\n    // listadoContratosVue,\n    ScreenDistribuidorVue: ScreenDistribuidorVue\n  },\n  data: function data() {\n    return {\n      menu: 0,\n      tituloMenu: 'Pedidos',\n      usuario: [],\n      popupPedido: false,\n      popupFacturador: false,\n      facturadores: [],\n      asesores_facturador: [],\n      arregloGuias: [],\n      alert_formato: true,\n      libro_search: '',\n      facturador_selected: '',\n      porcentaje_pedido: 0,\n      userRoot: false,\n      //contador pedidos\n      cont_obsequios: 0,\n      cont_guias: 0,\n      cont_obsequios_aprobados: 0,\n      obsequios_autorizado: 0,\n      //fin contador pedidos\n      //VARIABLES PARA VER CONTRATOS FACTURACION\n      arregloPeriodos: [],\n      arregloAsesores: [],\n      asesorSelect: '',\n      periodoSelect: ''\n      //FIN VARIABLES PARA VER CONTRATOS FACTURACION\n    };\n  },\n  mounted: function mounted() {\n    var me = this;\n    this.usuario = JSON.parse(localStorage.getItem('usuario'));\n    this.usuario_id = this.usuario.idusuario;\n    me.getUserRoot(me.usuario);\n    me.getGuias();\n    me.getContadorPedidos();\n    me.periodoSelect = \"\";\n    me.asesorSelect = \"\";\n  },\n  methods: {\n    getPeriodos: function getPeriodos() {\n      var me = this;\n      me.$vs.loading();\n      this.$http.get(this.$server_url + 'get_periodos_pedidos').then(function (res) {\n        me.$vs.loading.close();\n        var datos = res.data;\n        me.arregloPeriodos = datos;\n      }).catch(function (error) {\n        me.$vs.loading.close();\n      });\n    },\n    f_lista_Asesores: function f_lista_Asesores() {\n      var me = this;\n      if (me.periodoSelect == null || me.periodoSelect == \"\" || me.periodoSelect == undefined) {\n        me.periodoSelect = '';\n        me.asesorSelect = '';\n        return;\n      }\n      this.$http.get(this.$server_url + 'listaAsesores').then(function (res) {\n        me.arregloAsesores = res.data;\n        me.$vs.loading.close();\n      }).catch(function (error) {\n        console.log(error + ' error');\n        me.$vs.loading.close();\n      });\n    },\n    getContadorPedidos: function getContadorPedidos() {\n      var me = this;\n      this.$http.get(this.$server_url + 'getContadorPedidos?grupo=' + me.usuario.id_group + '&idusuario=' + me.usuario.idusuario).then(function (res) {\n        me.cont_obsequios = res.data.cont_obsequios;\n        me.cont_obsequios_aprobados = res.data.cont_obsequios_aprobados;\n        me.cont_guias = res.data.cont_guias;\n        if (me.usuario.id_group == 22 || me.usuario.id_group == 23) {\n          me.$vs.notify({\n            text: \"\\n              Guias pendientes:   \".concat(me.cont_guias, \" <br>\\n              Obsequios Pendientes: \").concat(me.cont_obsequios, \"\\n\\n              \"),\n            color: 'success',\n            iconPack: 'feather',\n            icon: 'icon-check',\n            time: 10000\n          });\n        }\n        if (res.data.root == 1) {\n          me.$vs.notify({\n            text: \"\\n              Guias pendientes:   \".concat(me.cont_guias, \"<br>\\n              Obsequios Pendientes: \").concat(me.cont_obsequios, \" <br>\\n              Obsequios Aprobados: \").concat(me.cont_obsequios_aprobados, \" <br>\\n              Obsequios Autorizados: \").concat(me.obsequios_autorizado, \" <br>\\n              \"),\n            color: 'success',\n            iconPack: 'feather',\n            icon: 'icon-check',\n            time: 10000\n          });\n        }\n        //admin no root\n        if (res.data.root == 0 && me.usuario.id_group == 1) {\n          me.$vs.notify({\n            text: \"\\n              Obsequios Aprobados: \".concat(me.cont_obsequios_aprobados, \" <br>\\n              Obsequios Autorizados: \").concat(me.obsequios_autorizado, \" <br\\n              \"),\n            color: 'success',\n            iconPack: 'feather',\n            icon: 'icon-check',\n            time: 10000\n          });\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    changeHandleRecarga: function changeHandleRecarga(e) {\n      var me = this;\n      me.getGuias();\n    },\n    getGuias: function getGuias() {\n      var me = this;\n      me.arregloGuias = [];\n      me.$vs.loading();\n      this.$http.get(this.$server_url + 'get_pedidos_guias').then(function (res) {\n        me.$vs.loading.close();\n        var datos = res.data;\n        if (datos.length == 0) {\n          me.arregloGuias = [];\n          return;\n        }\n        // if(me.usuario.idusuario == 68990){\n        //   me.arregloGuias = datos\n        //   return\n        // }\n        if (me.usuario.id_group == 22 || me.usuario.id_group == 23 || me.usuario.id_group == 1) {\n          me.arregloGuias = datos.filter(function (p) {\n            return p.pedido_facturacion == 1;\n          });\n          return;\n        }\n        if (me.usuario.id_group == 17 || me.usuario.id_group == 27) {\n          me.arregloGuias = datos.filter(function (p) {\n            return p.pedido_bodega == 1;\n          });\n          return;\n        }\n        if (me.usuario.id_group == 11 || me.usuario.id_group == 11) {\n          me.arregloGuias = datos.filter(function (p) {\n            return p.pedido_asesor == 1;\n          });\n          return;\n        }\n      }).catch(function (e) {\n        me.$vs.loading.close();\n      });\n    },\n    getUserRoot: function getUserRoot(dato) {\n      var me = this;\n      this.$http.get(this.$server_url + 'permisos/' + dato.idusuario).then(function (result) {\n        if (result.data.length > 0) {\n          me.userRoot = true;\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    },\n    get_facturadores: function get_facturadores() {\n      var me = this;\n      this.$http.get(this.$server_url + 'get_facturadores_pedido').then(function (res) {\n        me.facturadores = res.data;\n      });\n    },\n    editar_facturador: function editar_facturador(item) {\n      var me = this;\n      me.facturador_selected = item.idusuario;\n      this.$http.get(this.$server_url + 'get_asesores_factuador/' + item.idusuario).then(function (res) {\n        me.asesores_facturador = res.data;\n        me.popupFacturador = true;\n      });\n    },\n    asignar_asesor: function asignar_asesor(item) {\n      var me = this;\n      me.$vs.loading();\n      this.$http.get(this.$server_url + 'asignar_asesor_fact/' + me.facturador_selected + '/' + item.idusuario + '/' + item.asignado).then(function (res) {\n        me.get_facturadores();\n        me.$vs.loading.close();\n      });\n    }\n  }\n};",{"version":3,"names":["flatPickr","vSelect","Vue","seriesBasicasVue","listadoGuiasFacturadorVue","ScreenPedidosVue","ScreenObsequiosFacturadorVue","HistoricoSolicitudVerificacionesVue","ScreenDistribuidorVue","components","data","menu","tituloMenu","usuario","popupPedido","popupFacturador","facturadores","asesores_facturador","arregloGuias","alert_formato","libro_search","facturador_selected","porcentaje_pedido","userRoot","cont_obsequios","cont_guias","cont_obsequios_aprobados","obsequios_autorizado","arregloPeriodos","arregloAsesores","asesorSelect","periodoSelect","mounted","me","JSON","parse","localStorage","getItem","usuario_id","idusuario","getUserRoot","getGuias","getContadorPedidos","methods","getPeriodos","$vs","loading","$http","get","$server_url","then","res","close","datos","catch","error","f_lista_Asesores","undefined","console","log","id_group","notify","text","concat","color","iconPack","icon","time","root","err","changeHandleRecarga","e","length","filter","p","pedido_facturacion","pedido_bodega","pedido_asesor","dato","result","get_facturadores","editar_facturador","item","asignar_asesor","asignado"],"sources":["src/views/pedidos/formatos_pedidos.vue"],"sourcesContent":["<template>\r\n<vx-card>\r\n  <vs-popup title=\"Asesores del facturador seleccionado\" :active.sync=\"popupFacturador\">\r\n    <div class=\"flex flex-wrap gap-6\">\r\n      <vs-switch  color=\"dark\" class=\"text-xl p-0\" style=\"width: 45%;\" :key=\"index\" v-for=\"(item, index) in asesores_facturador\" v-model=\"item.asignado\" @input=\"asignar_asesor(item)\">\r\n        <span slot=\"on\">{{item.asesor.toUpperCase()}}</span>\r\n        <span slot=\"off\">{{item.asesor.toUpperCase()}}</span>\r\n      </vs-switch>\r\n    </div>\r\n  </vs-popup>\r\n  <!-- fin popup series -->\r\n  <!--MENU-->\r\n  <!-- HTML !-->\r\n  <div v-if=\"userRoot\">\r\n    <button class=\"button-8 mr-2\" @click=\"menu = 0;tituloMenu = 'Pedidos'\" role=\"button\">Pedidos</button>\r\n    <button class=\"button-8 mr-2\" @click=\"menu = 1;tituloMenu = 'Listado de Guias';getGuias()\" role=\"button\">Listado de Guias</button>\r\n    <button class=\"button-8 mr-2\" @click=\"menu = 2;tituloMenu = 'Obsequios'\" role=\"button\">Obsequios</button>\r\n    <button class=\"button-8 mr-2\" @click=\"menu = 3;tituloMenu = 'Facturadores';get_facturadores()\" role=\"button\">Facturadores</button>\r\n    <button class=\"button-8 mr-2\" @click=\"menu = 4;tituloMenu = 'Solicitud Verificaciones'\" role=\"button\">Solicitud Verificaciones</button>\r\n    <button class=\"button-8 mr-2\" @click=\"menu = 5;tituloMenu = 'Contratos Facturación';getPeriodos();\" role=\"button\">Contratos Facturación</button>\r\n  </div>\r\n  <!-- HTML !-->\r\n  <button class=\"button-33 mt-5\" v-if=\"userRoot\" role=\"button\"><ion-icon class=\"mt-1\" name=\"checkmark-outline\"></ion-icon> {{ tituloMenu }}</button>\r\n  <br><br>\r\n  <!--FIN MENU-->\r\n  <!--===============MENU SELECT========-->\r\n  <!--PEDIDOS-->\r\n  <div v-if=\"userRoot\">\r\n    <div v-if=\"menu == 0\">\r\n      <div>\r\n        <ScreenPedidosVue/>\r\n      </div>\r\n    </div>\r\n    <!--LISTADO DE GUIAS-->\r\n    <div v-if=\"menu == 1\">\r\n      <div>\r\n        <listadoGuiasFacturadorVue :pedidos = \"arregloGuias\" @changeRecarge=\"changeHandleRecarga\"/>\r\n      </div>\r\n    </div>\r\n    <!--OBSEQUIOS-->\r\n    <div v-if=\"menu == 2\">\r\n      <div>\r\n        <ScreenObsequiosFacturadorVue/>\r\n      </div>\r\n    </div>\r\n    <!--FACTURADORES-->\r\n    <div v-if=\"menu == 3\">\r\n      <div>\r\n        <vs-table search :data=\"facturadores\">\r\n          <template slot=\"header\">\r\n            <h5>Facturadores</h5>\r\n          </template>\r\n          <template slot=\"thead\">\r\n            <vs-th>#</vs-th>\r\n            <vs-th sort-key=\"facturador\">Facturador</vs-th>\r\n            <vs-th >Asesores</vs-th>\r\n            <vs-th style=\"width: 350px;\">Acciones</vs-th>\r\n          </template>\r\n          <template slot-scope=\"{data}\">\r\n            <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n              <vs-td> {{ tr.idusuario }} </vs-td>\r\n              <vs-td :data=\"tr.facturador\"> {{ tr.facturador }} </vs-td>\r\n              <vs-td>\r\n                <div :key=\"index_as\" v-for=\"(tr_as, index_as) in tr.asesores\"> <b>-</b> {{tr_as.asesor.toUpperCase()}} </div>\r\n              </vs-td>\r\n              <vs-td align=\"center\">\r\n                <vs-button color=\"primary\" type=\"gradient\" size=\"small\" class=\"m-1 p-2\" @click=\"editar_facturador(tr)\">Editar facturador</vs-button>\r\n              </vs-td>\r\n            </vs-tr>\r\n          </template>\r\n        </vs-table>\r\n      </div>\r\n    </div>\r\n    <!--SOLICITUD DE VERIFICACIONES-->\r\n    <div v-if=\"menu == 4\">\r\n      <div>\r\n        <HistoricoSolicitudVerificacionesVue/>\r\n      </div>\r\n    </div>\r\n    <!--CONTRATOS FACTURACION-->\r\n    <div v-if=\"menu == 5\">\r\n      <div>\r\n        <div class=\"flex mt-5\">\r\n          <div style=\"width: 40%;\">\r\n            <p> <ion-icon name=\"contract-outline\"></ion-icon>  Seleccione un período</p>\r\n          </div>\r\n          <div style=\"width: 60%;\">\r\n            <v-select :options=\"arregloPeriodos\" @input=\"f_lista_Asesores()\" :reduce=\"arregloPeriodos => arregloPeriodos.idperiodoescolar\" label=\"periodoescolar\" class=\"w-full\" v-model=\"periodoSelect\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"flex mt-5\" v-if=\"periodoSelect\">\r\n          <div style=\"width: 40%;\">\r\n            <p> <ion-icon name=\"accessibility-outline\"></ion-icon> Seleccione un asesor</p>\r\n          </div>\r\n          <div style=\"width: 60%;\">\r\n            <v-select :options=\"arregloAsesores\" :reduce=\"arregloAsesores => arregloAsesores.idusuario\" label=\"nombres\" class=\"w-full\" v-model=\"asesorSelect\" />\r\n          </div>\r\n        </div>\r\n        <listadoContratosVue v-if=\"asesorSelect\" :id_periodo=\"periodoSelect\" :asesorSelect=\"asesorSelect\" desdeAdmin=\"1\"/>\r\n        <br><br><br><br><br><br><br><br><br><br>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!--===============FIN MENU SELECT======-->\r\n  <vs-tabs alignment=\"fixed\" v-if=\"!userRoot\">\r\n    <vs-tab label=\"Pedidos\" v-if=\"usuario.id_group == 23  || usuario.id_group == 22\">\r\n        <ScreenPedidosVue/>\r\n    </vs-tab>\r\n    <vs-tab :label=\"'Listado de guias'\" v-if=\"usuario.id_group == 23 || usuario.id_group == 22 || usuario.id_group == 17 || usuario.id_group == 27\"  @click=\"getGuias()\">\r\n      <div>\r\n        <listadoGuiasFacturadorVue :pedidos = \"arregloGuias\" @changeRecarge=\"changeHandleRecarga\"/>\r\n      </div>\r\n    </vs-tab>\r\n    <vs-tab :label=\"'Obsequios'\">\r\n      <br>\r\n      <ScreenObsequiosFacturadorVue/>\r\n    </vs-tab>\r\n    <vs-tab v-if=\"usuario.id_group == 23\" label=\"Facturadores\" @click=\"get_facturadores()\">\r\n      <vs-table search :data=\"facturadores\">\r\n        <template slot=\"header\">\r\n          <h5>Facturadores</h5>\r\n        </template>\r\n        <template slot=\"thead\">\r\n          <vs-th>#</vs-th>\r\n          <vs-th sort-key=\"facturador\">Facturador</vs-th>\r\n          <vs-th >Asesores</vs-th>\r\n          <vs-th style=\"width: 350px;\">Acciones</vs-th>\r\n        </template>\r\n        <template slot-scope=\"{data}\">\r\n          <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n            <vs-td> {{ tr.idusuario }} </vs-td>\r\n            <vs-td :data=\"tr.facturador\"> {{ tr.facturador }} </vs-td>\r\n            <vs-td>\r\n              <div :key=\"index_as\" v-for=\"(tr_as, index_as) in tr.asesores\"> <b>-</b> {{tr_as.asesor.toUpperCase()}} </div>\r\n            </vs-td>\r\n            <vs-td align=\"center\">\r\n              <vs-button color=\"primary\" type=\"gradient\" size=\"small\" class=\"m-1 p-2\" @click=\"editar_facturador(tr)\">Editar facturador</vs-button>\r\n            </vs-td>\r\n          </vs-tr>\r\n        </template>\r\n      </vs-table>\r\n    </vs-tab>\r\n    <!-- <vs-tab :label=\"'Distribuidores'\" v-if=\"usuario.id_group == 23  || usuario.id_group == 22\">\r\n      <br>\r\n      <ScreenDistribuidorVue/>\r\n    </vs-tab> -->\r\n    <vs-tab :label=\"'Solicitud verificaciones'\" v-if=\"userRoot\">\r\n      <HistoricoSolicitudVerificacionesVue/>\r\n    </vs-tab>\r\n    <vs-tab label=\"Contratos Facturación\" @click=\"getPeriodos();\" v-if=\"userRoot\">\r\n      <div class=\"flex mt-5\">\r\n        <div style=\"width: 40%;\">\r\n          <p> <ion-icon name=\"contract-outline\"></ion-icon>  Seleccione un período</p>\r\n        </div>\r\n        <div style=\"width: 60%;\">\r\n          <v-select :options=\"arregloPeriodos\" @input=\"f_lista_Asesores()\" :reduce=\"arregloPeriodos => arregloPeriodos.idperiodoescolar\" label=\"periodoescolar\" class=\"w-full\" v-model=\"periodoSelect\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"flex mt-5\" v-if=\"periodoSelect\">\r\n        <div style=\"width: 40%;\">\r\n          <p> <ion-icon name=\"accessibility-outline\"></ion-icon> Seleccione un asesor</p>\r\n        </div>\r\n        <div style=\"width: 60%;\">\r\n          <v-select :options=\"arregloAsesores\" :reduce=\"arregloAsesores => arregloAsesores.idusuario\" label=\"nombres\" class=\"w-full\" v-model=\"asesorSelect\" />\r\n        </div>\r\n      </div>\r\n      <listadoContratosVue v-if=\"asesorSelect\" :id_periodo=\"periodoSelect\" :asesorSelect=\"asesorSelect\" desdeAdmin=\"1\"/>\r\n      <br><br><br><br><br><br><br><br><br><br>\r\n    </vs-tab>\r\n  </vs-tabs>\r\n  <br><br><br><br>\r\n</vx-card>\r\n</template>\r\n<script>\r\nimport flatPickr from 'vue-flatpickr-component';\r\nimport 'flatpickr/dist/flatpickr.css';\r\nimport vSelect from 'vue-select';\r\nimport Vue from 'vue';\r\n\r\n//Imports\r\nconst seriesBasicasVue                    = () => import(\"./components/seriesBasicas.vue\");\r\nconst listadoGuiasFacturadorVue           = () => import(\"./components/Guias/guiasFacturador/listadoGuiasFacturador.vue\");\r\nconst ScreenPedidosVue                    = () => import(\"./ScreenPedidos.vue\");\r\nconst ScreenObsequiosFacturadorVue        = () => import(\"./obsequios/ScreenObsequiosFacturador.vue\");\r\nconst HistoricoSolicitudVerificacionesVue = () => import(\"../temporadas/HistoricoSolicitudVerificaciones.vue\");\r\n// const listadoContratosVue                 = () => import(\"./asesor/contratos/listadoContratos.vue\");\r\nconst ScreenDistribuidorVue               = () => import(\"./components/distribuidores/ScreenDistribuidor.vue\");\r\n//Components\r\nexport default {\r\n    components:{\r\n      flatPickr,\r\n      'v-select': vSelect,\r\n      seriesBasicasVue,\r\n      listadoGuiasFacturadorVue,\r\n      ScreenPedidosVue,\r\n      ScreenObsequiosFacturadorVue,\r\n      HistoricoSolicitudVerificacionesVue,\r\n      // listadoContratosVue,\r\n      ScreenDistribuidorVue,\r\n    },\r\n    data: () => ({\r\n      menu:0,\r\n      tituloMenu:'Pedidos',\r\n      usuario:[],\r\n      popupPedido: false,\r\n      popupFacturador: false,\r\n      facturadores: [],\r\n      asesores_facturador: [],\r\n      arregloGuias:[],\r\n      alert_formato: true,\r\n      libro_search: '',\r\n      facturador_selected: '',\r\n      porcentaje_pedido:0,\r\n      userRoot:false,\r\n      //contador pedidos\r\n      cont_obsequios:0,\r\n      cont_guias:0,\r\n      cont_obsequios_aprobados:0,\r\n      obsequios_autorizado:0,\r\n      //fin contador pedidos\r\n      //VARIABLES PARA VER CONTRATOS FACTURACION\r\n      arregloPeriodos:[],\r\n      arregloAsesores:[],\r\n      asesorSelect:'',\r\n      periodoSelect:'',\r\n      //FIN VARIABLES PARA VER CONTRATOS FACTURACION\r\n    }),\r\n    mounted() {\r\n      let me = this\r\n      this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n      this.usuario_id = this.usuario.idusuario\r\n      me.getUserRoot(me.usuario);\r\n      me.getGuias()\r\n      me.getContadorPedidos()\r\n      me.periodoSelect = \"\"\r\n      me.asesorSelect  = \"\"\r\n    },\r\n    methods: {\r\n      getPeriodos(){\r\n        let me = this\r\n        me.$vs.loading();\r\n        this.$http.get(this.$server_url+'get_periodos_pedidos')\r\n        .then(res => {\r\n          me.$vs.loading.close();\r\n          let datos = res.data\r\n          me.arregloPeriodos = datos\r\n        })\r\n        .catch(function (error) {\r\n          me.$vs.loading.close();\r\n        })\r\n      },\r\n      f_lista_Asesores() {\r\n        let me = this;\r\n        if(me.periodoSelect == null || me.periodoSelect == \"\" || me.periodoSelect == undefined){\r\n          me.periodoSelect = ''\r\n          me.asesorSelect  = ''\r\n          return\r\n        }\r\n        this.$http.get(this.$server_url + 'listaAsesores')\r\n          .then(function (res) {\r\n            me.arregloAsesores = res.data\r\n            me.$vs.loading.close()\r\n          })\r\n          .catch(function (error) {\r\n              console.log(error + ' error');\r\n              me.$vs.loading.close()\r\n          })\r\n      },\r\n      getContadorPedidos() {\r\n        let me = this;\r\n        this.$http.get(this.$server_url + 'getContadorPedidos?grupo='+me.usuario.id_group+'&idusuario='+me.usuario.idusuario)\r\n          .then((res) => {\r\n            me.cont_obsequios           = res.data.cont_obsequios\r\n            me.cont_obsequios_aprobados = res.data.cont_obsequios_aprobados\r\n            me.cont_guias               = res.data.cont_guias\r\n            if(me.usuario.id_group == 22 || me.usuario.id_group == 23){\r\n              me.$vs.notify({\r\n              text:`\r\n              Guias pendientes:   ${me.cont_guias} <br>\r\n              Obsequios Pendientes: ${me.cont_obsequios}\r\n\r\n              `,\r\n              color:'success',\r\n              iconPack: 'feather',\r\n              icon:'icon-check',\r\n              time:10000\r\n              })\r\n            }\r\n            if(res.data.root == 1){\r\n              me.$vs.notify({\r\n              text:`\r\n              Guias pendientes:   ${me.cont_guias}<br>\r\n              Obsequios Pendientes: ${me.cont_obsequios} <br>\r\n              Obsequios Aprobados: ${me.cont_obsequios_aprobados} <br>\r\n              Obsequios Autorizados: ${me.obsequios_autorizado} <br>\r\n              `,\r\n              color:'success',\r\n              iconPack: 'feather',\r\n              icon:'icon-check',\r\n              time:10000\r\n              })\r\n            }\r\n            //admin no root\r\n            if(res.data.root == 0 && me.usuario.id_group == 1){\r\n              me.$vs.notify({\r\n              text:`\r\n              Obsequios Aprobados: ${me.cont_obsequios_aprobados} <br>\r\n              Obsequios Autorizados: ${me.obsequios_autorizado} <br\r\n              `,\r\n              color:'success',\r\n              iconPack: 'feather',\r\n              icon:'icon-check',\r\n              time:10000\r\n              })\r\n            }\r\n\r\n          })\r\n          .catch((err) => {\r\n            console.log(err)\r\n          })\r\n      },\r\n      changeHandleRecarga(e){\r\n        let me = this;\r\n        me.getGuias()\r\n      },\r\n      getGuias(){\r\n        let me = this;\r\n        me.arregloGuias = []\r\n        me.$vs.loading()\r\n        this.$http.get(this.$server_url+'get_pedidos_guias')\r\n        .then(res => {\r\n          me.$vs.loading.close()\r\n          let datos = res.data\r\n          if(datos.length == 0){\r\n            me.arregloGuias = []\r\n            return\r\n          }\r\n          // if(me.usuario.idusuario == 68990){\r\n          //   me.arregloGuias = datos\r\n          //   return\r\n          // }\r\n          if( me.usuario.id_group == 22 || me.usuario.id_group == 23 || me.usuario.id_group == 1 ){\r\n            me.arregloGuias = datos.filter(p => p.pedido_facturacion == 1)\r\n            return\r\n          }\r\n          if( me.usuario.id_group == 17 || me.usuario.id_group == 27 ){\r\n            me.arregloGuias = datos.filter(p => p.pedido_bodega == 1)\r\n            return\r\n          }\r\n          if( me.usuario.id_group == 11 || me.usuario.id_group == 11 ){\r\n            me.arregloGuias = datos.filter(p => p.pedido_asesor == 1)\r\n            return\r\n          }\r\n        })\r\n        .catch((e) =>{\r\n          me.$vs.loading.close()\r\n        })\r\n      },\r\n      getUserRoot(dato) {\r\n        let me = this;\r\n        this.$http.get(this.$server_url + 'permisos/' + dato.idusuario)\r\n          .then((result) => {\r\n            if (result.data.length > 0) {\r\n              me.userRoot = true;\r\n            }\r\n          })\r\n          .catch((err) => {\r\n              console.log(err)\r\n          })\r\n      },\r\n\r\n      get_facturadores(){\r\n        let me = this\r\n        this.$http.get(this.$server_url+'get_facturadores_pedido')\r\n        .then(res => {\r\n            me.facturadores = res.data\r\n        })\r\n      },\r\n      editar_facturador(item){\r\n        let me = this\r\n        me.facturador_selected = item.idusuario\r\n        this.$http.get(this.$server_url+'get_asesores_factuador/'+item.idusuario)\r\n        .then(res => {\r\n            me.asesores_facturador = res.data\r\n            me.popupFacturador = true\r\n        })\r\n      },\r\n      asignar_asesor(item){\r\n        let me = this\r\n        me.$vs.loading()\r\n        this.$http.get(this.$server_url+'asignar_asesor_fact/'+me.facturador_selected+'/'+item.idusuario+'/'+item.asignado)\r\n        .then(res => {\r\n            me.get_facturadores()\r\n            me.$vs.loading.close()\r\n        })\r\n      },\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n.label_inputs{\r\n  font-size: 12px;\r\n  color: rgb(143, 143, 143);\r\n  margin-top: 4px;\r\n  padding-left: 4px;\r\n}\r\n\r\n.alerta_formato{\r\n  font-size: 15px;\r\n  background-color: rgb(255, 222, 195);\r\n  color: rgba(255, 132, 0, 0.867);\r\n  padding: 8px;\r\n  border-radius: 7px;\r\n  width: 90%;\r\n  min-width: 350px;\r\n}\r\n\r\n.card_pvp{\r\n  border-radius: 10px;\r\n  padding: 10px 5px 10px 5px;\r\n  background-color: rgba(235, 242, 255, 0.59);\r\n}\r\n\r\ninput[type=number].input_pvp::-webkit-inner-spin-button,\r\ninput[type=number].input_pvp::-webkit-outer-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n    }\r\ninput[type=number].input_pvp { -moz-appearance:textfield; }\r\n\r\ninput[type=number].input_pvp {\r\n  font-size: 18px !important;\r\n  text-align: center;\r\n  color: rgb(60, 108, 192);\r\n  border-radius: 5px;\r\n  border: 2px solid rgb(183, 183, 183);\r\n  width: 100%;\r\n}\r\n/*ESTILOS BTN*/\r\n/* CSS */\r\n.button-8 {\r\n  background-color: #e1ecf4;\r\n  border-radius: 3px;\r\n  border: 1px solid #7aa7c7;\r\n  box-shadow: rgba(255, 255, 255, .7) 0 1px 0 0 inset;\r\n  box-sizing: border-box;\r\n  color: #39739d;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  font-family: -apple-system,system-ui,\"Segoe UI\",\"Liberation Sans\",sans-serif;\r\n  font-size: 13px;\r\n  font-weight: 400;\r\n  line-height: 1.15385;\r\n  margin: 0;\r\n  outline: none;\r\n  padding: 8px .8em;\r\n  position: relative;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n  touch-action: manipulation;\r\n  vertical-align: baseline;\r\n  white-space: nowrap;\r\n}\r\n\r\n.button-8:hover,\r\n.button-8:focus {\r\n  background-color: #b3d3ea;\r\n  color: #2c5777;\r\n}\r\n\r\n.button-8:focus {\r\n  box-shadow: 0 0 0 4px rgba(0, 149, 255, .15);\r\n}\r\n\r\n.button-8:active {\r\n  background-color: #a0c7e4;\r\n  box-shadow: none;\r\n  color: #2c5777;\r\n}\r\n/**BOTON SELECCIONADO */\r\n/* CSS */\r\n.button-33 {\r\n  background-color: #c2fbd7;\r\n  border-radius: 100px;\r\n  box-shadow: rgba(44, 187, 99, .2) 0 -25px 18px -14px inset,rgba(44, 187, 99, .15) 0 1px 2px,rgba(44, 187, 99, .15) 0 2px 4px,rgba(44, 187, 99, .15) 0 4px 8px,rgba(44, 187, 99, .15) 0 8px 16px,rgba(44, 187, 99, .15) 0 16px 32px;\r\n  color: green;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  font-family: CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;\r\n  padding: 7px 20px;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  transition: all 250ms;\r\n  border: 0;\r\n  font-size: 16px;\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n  touch-action: manipulation;\r\n}\r\n\r\n.button-33:hover {\r\n  box-shadow: rgba(44,187,99,.35) 0 -25px 18px -14px inset,rgba(44,187,99,.25) 0 1px 2px,rgba(44,187,99,.25) 0 2px 4px,rgba(44,187,99,.25) 0 4px 8px,rgba(44,187,99,.25) 0 8px 16px,rgba(44,187,99,.25) 0 16px 32px;\r\n  transform: scale(1.05) rotate(-1deg);\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}