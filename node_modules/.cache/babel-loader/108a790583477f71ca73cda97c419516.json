{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\Estadisticas\\instituciones.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\Estadisticas\\instituciones.vue","mtime":1712682815345},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/laragon/www/PRY_NEW_JEYSON/LOCAL/plataformaprolipa_vue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/web.dom.iterable\";\nimport Vue from 'vue';\nimport axios from 'axios';\nimport \"vue-select/dist/vue-select.css\";\nimport vSelect from \"vue-select\";\nVue.use(axios);\nVue.component(\"v-select\", vSelect);\nexport default {\n  data: function data() {\n    return {\n      usuario: [],\n      users: [],\n      docentes: [],\n      data: [],\n      instituciones: []\n    };\n  },\n  created: function created() {\n    this.usuario = JSON.parse(localStorage.getItem(\"usuario\"));\n  },\n  mounted: function mounted() {\n    this.getInstituciones();\n  },\n  methods: {\n    getInstituciones: function getInstituciones() {\n      var _this = this;\n      var me = this;\n      this.$http.get(this.$server_url + \"director-instituciones?idusuario=\" + me.usuario.idusuario).then(function (res) {\n        console.log(res);\n        res.data.forEach(function (element) {\n          _this.$http.get(_this.$server_url + \"institucion/\" + element.idinstitucion).then(function (response) {\n            console.log(response.data);\n            me.instituciones.push(response.data);\n          }).catch(function (error) {});\n        });\n      }).catch(function (err) {\n        console.error(err);\n      });\n    },\n    getDatos: function () {\n      var _getDatos = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(item) {\n        var me, conaccesos, sinaccesos;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              me = this;\n              me.$vs.loading({\n                color: '#046AE7'\n              });\n              conaccesos = 0;\n              sinaccesos = 0;\n              _context2.next = 6;\n              return this.$http.get(this.$server_url + \"docentes?idInstitucion=\" + item.idInstitucion).then(function (response) {\n                var _this2 = this;\n                response.data.forEach( /*#__PURE__*/function () {\n                  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(element) {\n                    var usuario;\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) switch (_context.prev = _context.next) {\n                        case 0:\n                          usuario = new Object();\n                          usuario.idusuario = element.idusuario;\n                          usuario.cedula = element.cedula;\n                          usuario.nombres = element.nombres;\n                          usuario.apellidos = element.apellidos;\n                          _context.next = 7;\n                          return _this2.$http.get(_this2.$server_url + \"estudiantes?idusuario=\" + element.idusuario).then(function (res) {\n                            if (res.data.length > 0) {\n                              conaccesos++;\n                              usuario.accesos = res.data.length;\n                              var aux = res.data.length;\n                              me.data.push([element.nombres + \" \" + element.apellidos, res.data.length, element.idusuario, element.cedula]);\n                            } else {\n                              sinaccesos++;\n                              me.data.push([element.nombres + \" \" + element.apellidos, 0, element.idusuario, element.cedula]);\n                              usuario.accesos = 0;\n                            }\n                            localStorage.setItem('data', JSON.stringify(me.data));\n                          }).catch(function (err) {\n                            console.error(err);\n                          });\n                        case 7:\n                          me.docentes.push(usuario);\n                        case 8:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }, _callee);\n                  }));\n                  return function (_x2) {\n                    return _ref.apply(this, arguments);\n                  };\n                }());\n              }).catch(function (error) {});\n            case 6:\n              _context2.next = 8;\n              return this.$http.get(this.$server_url + \"contenidos?idinstitucion=\" + item.idInstitucion).then(function (res) {\n                localStorage.setItem('contenidos', JSON.stringify(res.data));\n              }).catch(function (err) {\n                console.error(err);\n              });\n            case 8:\n              setTimeout(function () {\n                localStorage.sinaccesos = sinaccesos;\n                localStorage.conaccesos = conaccesos;\n                localStorage.setItem('docentes', JSON.stringify(me.docentes));\n                localStorage.setItem('institucion', JSON.stringify(item));\n                me.$vs.loading.close();\n                me.$router.push('/estadisticas');\n              }, 5000);\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function getDatos(_x) {\n        return _getDatos.apply(this, arguments);\n      }\n      return getDatos;\n    }(),\n    getDate: function getDate(date) {\n      var d = new Date(date);\n      var datestring = d.getFullYear() + \"-\" + (d.getMonth() + 1) + \"-\" + d.getDate();\n      return datestring;\n    }\n  }\n};",{"version":3,"names":["Vue","axios","vSelect","use","component","data","usuario","users","docentes","instituciones","created","JSON","parse","localStorage","getItem","mounted","getInstituciones","methods","_this","me","$http","get","$server_url","idusuario","then","res","console","log","forEach","element","idinstitucion","response","push","catch","error","err","getDatos","_getDatos","_asyncToGenerator","regeneratorRuntime","mark","_callee2","item","conaccesos","sinaccesos","wrap","_callee2$","_context2","prev","next","$vs","loading","color","idInstitucion","_this2","_ref","_callee","_callee$","_context","Object","cedula","nombres","apellidos","length","accesos","aux","setItem","stringify","stop","_x2","apply","arguments","setTimeout","close","$router","_x","getDate","date","d","Date","datestring","getFullYear","getMonth"],"sources":["src/views/Estadisticas/instituciones.vue"],"sourcesContent":["<template>\r\n<div>\r\n    <div class=\"vx-row\">\r\n        <div class=\"vx-col w-full lg:w-1/4 sm:w-1/2 mb-base\" v-for=\"(item,$index) in instituciones\" :key=\"$index\">\r\n            <vx-card class=\"p-2\" @click=\"getDatos(item)\">\r\n                <div class=\"text-center divinst\">\r\n                    <span class=\"textinst\">{{ item.nombreInstitucion }}</span>\r\n                </div>\r\n                <vs-avatar class=\"mx-auto my-6 block\" size=\"80px\" :src=\"$server_url+'uploads/pngtree_bankinstitutionmoneyireland_abstract_circle_background_fla_png_image_1484516_482e7303de.jpg'\" />\r\n            </vx-card>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport \"vue-select/dist/vue-select.css\";\r\nimport vSelect from \"vue-select\";\r\nVue.use(axios)\r\nVue.component(\"v-select\", vSelect);\r\nexport default {\r\n    data() {\r\n        return {\r\n            usuario: [],\r\n            users: [],\r\n            docentes: [],\r\n            data: [],\r\n            instituciones: [],\r\n        }\r\n    },\r\n    created() {\r\n        this.usuario = JSON.parse(localStorage.getItem(\"usuario\"));\r\n    },\r\n    mounted() {\r\n        this.getInstituciones();\r\n    },\r\n    methods: {\r\n        getInstituciones() {\r\n            let me = this;\r\n            this.$http.get(this.$server_url+\"director-instituciones?idusuario=\" + me.usuario.idusuario)\r\n                .then(res => {\r\n                    console.log(res)\r\n                    res.data.forEach(element => {\r\n                        this.$http.get(this.$server_url+\"institucion/\" + element.idinstitucion)\r\n                            .then(function (response) {\r\n                                console.log(response.data)\r\n                                me.instituciones.push(response.data)\r\n                            })\r\n                            .catch(function (error) {})\r\n                    });\r\n                })\r\n                .catch(err => {\r\n                    console.error(err);\r\n                })\r\n        },\r\n        async getDatos(item) {\r\n            let me = this;\r\n            me.$vs.loading({\r\n                color: '#046AE7'\r\n            })\r\n            var conaccesos = 0;\r\n            var sinaccesos = 0;\r\n            await this.$http.get(this.$server_url+\"docentes?idInstitucion=\" + item.idInstitucion)\r\n                .then(function (response) {\r\n                    response.data.forEach(async (element) => {\r\n                        var usuario = new Object();\r\n                        usuario.idusuario = element.idusuario;\r\n                        usuario.cedula = element.cedula;\r\n                        usuario.nombres = element.nombres;\r\n                        usuario.apellidos = element.apellidos;\r\n                        await this.$http.get(this.$server_url+\"estudiantes?idusuario=\" + element.idusuario)\r\n                            .then(res => {\r\n                                if (res.data.length > 0) {\r\n                                    conaccesos++;\r\n                                    usuario.accesos = res.data.length;\r\n                                    var aux = res.data.length\r\n                                    me.data.push([element.nombres + \" \" + element.apellidos, res.data.length, element.idusuario, element.cedula])\r\n                                } else {\r\n                                    sinaccesos++;\r\n                                    me.data.push([element.nombres + \" \" + element.apellidos, 0, element.idusuario, element.cedula])\r\n                                    usuario.accesos = 0;\r\n                                }\r\n                                localStorage.setItem('data', JSON.stringify(me.data));\r\n                            })\r\n                            .catch(err => {\r\n                                console.error(err);\r\n                            })\r\n                        me.docentes.push(usuario);\r\n                    });\r\n                })\r\n                .catch(function (error) {})\r\n            await this.$http.get(this.$server_url+\"contenidos?idinstitucion=\" + item.idInstitucion)\r\n            .then(res => {\r\n                localStorage.setItem('contenidos', JSON.stringify(res.data));\r\n            })\r\n            .catch(err => {\r\n                console.error(err); \r\n            })\r\n            setTimeout(function () {\r\n                localStorage.sinaccesos = sinaccesos;\r\n                localStorage.conaccesos = conaccesos;\r\n                localStorage.setItem('docentes', JSON.stringify(me.docentes));\r\n                localStorage.setItem('institucion', JSON.stringify(item))\r\n                me.$vs.loading.close()\r\n                me.$router.push('/estadisticas');\r\n            }, 5000);\r\n        },\r\n        getDate(date) {\r\n            var d = new Date(date);\r\n            var datestring = d.getFullYear() + \"-\" + (d.getMonth() + 1) + \"-\" + d.getDate();\r\n            return datestring;\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n.textinst {\r\n    font-size: 13px;\r\n}\r\n\r\n.divinst {\r\n    height: 60px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}