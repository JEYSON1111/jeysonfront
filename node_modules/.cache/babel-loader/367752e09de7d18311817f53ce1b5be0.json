{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\temporadas\\components\\exportActaGuiasBodegaDevolucion.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\temporadas\\components\\exportActaGuiasBodegaDevolucion.vue","mtime":1712682816603},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import moment from \"moment\";\nimport html2pdf from \"html2pdf.js\";\nexport default {\n  data: function data() {\n    return {\n      arregloContrato: [],\n      arregloLibros: [],\n      day: '',\n      mes: '',\n      mesd: '',\n      year: '',\n      anio: '',\n      fecha: '',\n      telefono: '',\n      nombrearchivo: ''\n    };\n  },\n  props: {\n    pedido: {\n      type: Array,\n      default: {}\n    }\n  },\n  created: function created() {\n    var me = this;\n    moment.lang(\"es\");\n    me.day = moment().format('DD');\n    me.mes = moment().format('MMMM');\n    me.mesd = moment().format('dddd');\n    me.year = moment().format('YYYY');\n    me.fecha = me.day + '-' + me.mes.substring(0, 3) + '-' + me.year;\n    me.nombrearchivo = me.pedido.ven_codigo + \".pdf\";\n    // me.contrato = me.$route.params.id\n  },\n  mounted: function mounted() {\n    var me = this;\n    me.getLibros();\n  },\n  methods: {\n    //funcion para obtener el dia de 365\n    getDay: function getDay() {\n      var hoy = new Date(); // Crear una instancia del objeto Date\n      var año = hoy.getFullYear(); // Obtener el año actual\n      var diaDelAño = Math.ceil((hoy - new Date(año, 0, 1)) / 86400000); // Obtener el número del día del año actual (86400000 = número de milisegundos en un día)\n      return diaDelAño;\n      //console.log(\"Hoy es el día número \" + diaDelAño + \" del año \" + año); // Mostrar el número del día del año actual en la consola\n    },\n    getLibros: function getLibros(id_pedido) {\n      var me = this;\n      me.$vs.loading();\n      this.$http.get(this.$server_url + 'get_val_pedidoInfo/' + me.pedido.id_pedido).then(function (res) {\n        me.$vs.loading.close();\n        me.$vs.notify({\n          text: \"Espere mientras se va generando el archivo...\",\n          color: 'primary',\n          iconPack: 'feather',\n          icon: 'icon-file',\n          time: 3000\n        });\n        var datos = res.data;\n        me.arregloLibros = datos.filter(function (p) {\n          return p.valor > 0;\n        });\n        setTimeout(function () {\n          me.imprimirEval();\n        }, 1000);\n      }).catch(function (e) {\n        me.$vs.loading.close();\n      });\n    },\n    imprimirEval: function imprimirEval() {\n      var me = this;\n      var element = document.getElementById('seccionImprimir2');\n      var opt = {\n        margin: 0.5,\n        // margin:         [1.5, 0.5, 1, 1],\n        filename: me.nombrearchivo,\n        image: {\n          type: 'jpeg',\n          quality: 0.98\n        },\n        html2canvas: {\n          scale: 2\n        },\n        pagebreak: {\n          mode: 'avoid-all',\n          inside: \"avoid\",\n          before: '#page2el'\n        },\n        // jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }\n        jsPDF: {\n          unit: 'in',\n          format: 'letter',\n          orientation: 'portrait'\n        }\n        //jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }  \n      };\n      html2pdf().from(element).set(opt).save();\n      me.arregloContrato = [];\n      me.arregloLibros = [];\n      me.$vs.notify({\n        text: \"Archivo descargado correctamente\",\n        color: 'success',\n        iconPack: 'feather',\n        icon: 'icon-file',\n        time: 2000\n      });\n      me.$emit('change', true);\n    }\n  }\n};",{"version":3,"names":["moment","html2pdf","data","arregloContrato","arregloLibros","day","mes","mesd","year","anio","fecha","telefono","nombrearchivo","props","pedido","type","Array","default","created","me","lang","format","substring","ven_codigo","mounted","getLibros","methods","getDay","hoy","Date","año","getFullYear","diaDelAño","Math","ceil","id_pedido","$vs","loading","$http","get","$server_url","then","res","close","notify","text","color","iconPack","icon","time","datos","filter","p","valor","setTimeout","imprimirEval","catch","e","element","document","getElementById","opt","margin","filename","image","quality","html2canvas","scale","pagebreak","mode","inside","before","jsPDF","unit","orientation","from","set","save","$emit"],"sources":["src/views/temporadas/components/exportActaGuiasBodegaDevolucion.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <vx-card id=\"seccionImprimir2\">\r\n            <h5 class=\"text-center font-bold\">ACTA DE DEVOLUCIÓN</h5>\r\n            <h5 class=\"text-center font-bold mt-2\">BODEGA</h5>\r\n            <h6 class=\"text-right font-bold -mt20\">{{ pedido.ven_codigo }}</h6>\r\n            <div class=\"flex sp55\" style=\"width: 100%;\">\r\n                <div style=\"width: 50%;\">\r\n                    <p class=\"letra2\">Quito, {{ mesd }}, {{ day }} de {{ mes }} del {{ year }}</p>\r\n                </div>\r\n                <div style=\"width: 33%;\" class=\"flex justify-end\">\r\n                    <p class=\"letra2 font-bold\">Ref:</p>\r\n                </div>\r\n            </div>\r\n            <br>\r\n            <div clas=\"flex\">\r\n                <div style=\"width: 100%;\" class=\"flex letra2\">\r\n                    <div style=\"width: 30%;\">\r\n                        <b>RESPONSABLE:</b>\r\n                    </div>\r\n                    <div style=\"width: 50%;\">\r\n                        <p>{{ pedido.asesor.toUpperCase() }}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div clas=\"flex\">\r\n                <div style=\"width: 100%;\" class=\"flex letra2\">\r\n                    <div style=\"width: 30%;\">\r\n                        <b>CI:</b>\r\n                    </div>\r\n                    <div style=\"width: 40%;\">\r\n                        <p>{{ pedido.cedula }}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <p></p>\r\n            <p class=\"sp25 letra2\">\r\n                Con esta fecha, se procede a la suscripción de la presente Acta de Devolución - Recepción de guias que se\r\n                otorgarón en calidad de <b>OBSEQUIOS SIN COSTO,</b> como parte de la PROMOCIÓN DE VENTAS.\r\n            </p>\r\n            <br>\r\n            <div  v-for=\"(tr,key) in arregloLibros\" :key=\"key\">\r\n                <div  class=\"flex letra2\">\r\n                    <div style=\"width: 17%;\">\r\n                        <p class=\"text-right mr-3\">{{ tr.valor}} </p>\r\n                    </div>\r\n                    <div style=\"width: 80%;\">\r\n                        {{ tr.nombrelibro.toUpperCase() }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"flex letra2\" style=\"justify-content: space-between;margin-top: 30px;\">\r\n                <div style=\"width: 50%;\">\r\n                    <p class=\"font-bold\">ENTREGUÉ CONFORME</p>\r\n                </div>\r\n                <div style=\"width: 50%;\">\r\n                    <p class=\"font-bold\">RECIBÍ CONFORME</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"flex letra2\" style=\"justify-content: space-between;margin-top: 90px;\">\r\n                <div style=\"width: 50%;\">\r\n                    <p>{{ pedido.asesor.toUpperCase() }}</p>\r\n                    <p class=\"font-bold\">VENDEDOR</p>\r\n                </div>\r\n                <div style=\"width: 50%;\">\r\n                    <p class=\"font-bold\">BODEGA</p>\r\n                </div>\r\n            </div>\r\n            <div id=\"ultimo-elemento\" style=\"font-size: 10px;\">\r\n                <p v-if=\"pedido.facturador !=null\">Por: {{ pedido.facturador.toUpperCase() }}</p>\r\n            </div>\r\n        </vx-card>\r\n        <div class=\"w-full p-2 bg-gray-400 text-center\">\r\n            <vs-button color=\"primary\" @click=\"imprimirEval()\" type=\"border\">Imprimir</vs-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport moment from \"moment\";\r\nimport html2pdf from \"html2pdf.js\"\r\nexport default{\r\n    data(){\r\n        return{\r\n            arregloContrato:[],\r\n            arregloLibros:[],\r\n            day:'',\r\n            mes:'',\r\n            mesd:'',\r\n            year:'',\r\n            anio:'',\r\n            fecha:'',\r\n            telefono:'',\r\n            nombrearchivo:'',\r\n        }\r\n    },\r\n    props:{\r\n        pedido:{\r\n            type:Array,\r\n            default:{},\r\n        },\r\n    },\r\n    created(){\r\n        let me = this;\r\n        moment.lang(\"es\")\r\n        me.day = moment().format('DD'); \r\n        me.mes = moment().format('MMMM');\r\n        me.mesd = moment().format('dddd');  \r\n        me.year = moment().format('YYYY')\r\n        me.fecha = me.day+'-'+me.mes.substring(0,3)+'-'+me.year\r\n        me.nombrearchivo = me.pedido.ven_codigo+\".pdf\"\r\n        // me.contrato = me.$route.params.id\r\n    },\r\n    mounted(){\r\n        let me = this\r\n        me.getLibros()\r\n    },\r\n    methods:{\r\n        //funcion para obtener el dia de 365\r\n        getDay(){\r\n            const hoy = new Date(); // Crear una instancia del objeto Date\r\n            const año = hoy.getFullYear(); // Obtener el año actual\r\n            const diaDelAño = Math.ceil((hoy - new Date(año, 0, 1)) / 86400000); // Obtener el número del día del año actual (86400000 = número de milisegundos en un día)\r\n            return diaDelAño;\r\n            //console.log(\"Hoy es el día número \" + diaDelAño + \" del año \" + año); // Mostrar el número del día del año actual en la consola\r\n        },\r\n        getLibros(id_pedido){\r\n            let me = this\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url+'get_val_pedidoInfo/'+me.pedido.id_pedido)\r\n            .then(res => {\r\n                me.$vs.loading.close()\r\n                me.$vs.notify({\r\n                text: \"Espere mientras se va generando el archivo...\",\r\n                color: 'primary',\r\n                iconPack: 'feather',\r\n                icon: 'icon-file',\r\n                time:3000\r\n                })\r\n                let datos = res.data\r\n                me.arregloLibros = datos.filter(p => p.valor > 0)\r\n                setTimeout(function() {me.imprimirEval()}, 1000);\r\n            })\r\n            .catch((e) => {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n        imprimirEval(){\r\n            let me = this\r\n            var element = document.getElementById('seccionImprimir2');\r\n            var opt = {\r\n                margin:       0.5,\r\n                // margin:         [1.5, 0.5, 1, 1],\r\n                filename:     me.nombrearchivo,\r\n                image:        { type: 'jpeg', quality: 0.98 },\r\n                html2canvas:    {scale: 2},\r\n                pagebreak: { mode: 'avoid-all', inside: \"avoid\", before: '#page2el' }  ,\r\n                // jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }\r\n                jsPDF: {unit: 'in', format: 'letter', orientation: 'portrait'} \r\n                //jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }  \r\n            };\r\n            html2pdf().from(element).set(opt).save();\r\n            me.arregloContrato = []\r\n            me.arregloLibros   = []\r\n            me.$vs.notify({\r\n                text: \"Archivo descargado correctamente\",\r\n                color: 'success',\r\n                iconPack: 'feather',\r\n                icon: 'icon-file',\r\n                time:2000\r\n            })\r\n            me.$emit('change',true)\r\n        },\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.html2canvas-container { width: 3000px !important; height: 3000px !important; }\r\n*{\r\n    font-family: Arial;\r\n}\r\n#ultimo-elemento {\r\n    margin-top: 300px;\r\n}\r\n.letra{\r\n    padding:0px 60px 0px 0px;\r\n    font-size: 11px;\r\n    margin-left: 35px;\r\n}\r\n.letra2{\r\n    font-size: 12px;\r\n}\r\n.letra3{\r\n    display: flex;\r\n    font-size: 11px;\r\n    margin-left: 35px;\r\n}\r\n.letra4{\r\n    margin-top: 15px;\r\n    margin-left: 55px;\r\n    font-size: 11px;\r\n}\r\n.letra5{\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n    width: 90%;\r\n    margin-left: 35px;\r\n    font-size: 11px;\r\n    margin-top: 105px;\r\n}\r\n.tabla1 {\r\n  table-layout: fixed;\r\n  width: 95%;\r\n  border-collapse: collapse;\r\n  border: none;\r\n  margin-left: 15px;\r\n}\r\n.tabla2{\r\n    table-layout: fixed;\r\n    width: 90%;\r\n    border-collapse: collapse;\r\n    border: none;\r\n    font-size: 11px;\r\n    margin-top: 15px;\r\n    \r\n}\r\n.sp25{\r\n    margin-top: 25px;\r\n}\r\n.sp55{\r\n    margin-top: 55px;\r\n}\r\n.-mt20{\r\n    margin-top: -20px;\r\n}\r\n@media print {\r\n    td {page-break-before: always;}\r\n    p  {page-break-before: always;}\r\n}\r\n.encabezado ,td,th {\r\n    border: 1px solid rgb(227, 227, 227);\r\n    text-align: center;\r\n    border-spacing: 0;\r\n}\r\n.rotar{\r\n    font-size: 8px;\r\n    /* writing-mode: vertical-lr;\r\n     transform: rotate(180deg); */\r\n}\r\n.font1{\r\n    font-size: 8px;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]}]}