{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\obsequios\\ScreenObsequiosFacturador.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\obsequios\\ScreenObsequiosFacturador.vue","mtime":1712682816356},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"C:/laragon/www/PRY_NEW_JEYSON/LOCAL/plataformaprolipa_vue/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { mapState } from \"vuex\";\nimport vSelect from 'vue-select';\nimport crearPedidoVue from \"./asesor/mantenimiento/crearPedido.vue\";\nimport listadoObsequioVue from \"./asesor/mantenimiento/listadoObsequio\";\nexport default {\n  components: {\n    crearPedidoVue: crearPedidoVue,\n    listadoObsequioVue: listadoObsequioVue,\n    vSelect: vSelect\n  },\n  data: function data() {\n    return {\n      id: 0,\n      tipo: 0,\n      periodo_id: 0,\n      usuario: [],\n      arregloObsequios: [],\n      arregloPeriodo: [],\n      pedido: {},\n      periodoSelect: '',\n      changePeriodo: false,\n      userAdmin: false,\n      userFacturador: false\n    };\n  },\n  watch: {\n    periodoSelect: function periodoSelect(results) {\n      var me = this;\n      if (results == null || results == null || results == undefined) {\n        me.changePeriodo = false;\n        localStorage.removeItem('oid');\n        localStorage.removeItem('onombre');\n      } else {\n        me.changePeriodo = true;\n        localStorage.setItem('oid', results.idperiodoescolar);\n        localStorage.setItem('onombre', results.periodoescolar);\n        me.getObsequios();\n        me.getInfoPeriodo();\n      }\n    }\n  },\n  props: {\n    arregloPeriodos: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  computed: _objectSpread({}, mapState([\"auth\", \"userRoot\", \"susuario\", \"groupFacturador\", \"groupBodega\", \"userAsesor\", \"ObjectGuia\"])),\n  created: function created() {\n    var me = this;\n    me.usuario = JSON.parse(localStorage.getItem(\"usuario\"));\n  },\n  mounted: function mounted() {\n    var me = this;\n    me.getObsequios();\n    //mantener el periodo seleccionado aunque recarge la pagina\n    var searchPeriodoActive = localStorage.oid;\n    var searchPeriodoName = localStorage.onombre;\n    if (searchPeriodoActive) {\n      me.periodoSelect = {\n        idperiodoescolar: searchPeriodoActive,\n        periodoescolar: searchPeriodoName\n      };\n    }\n    if (me.usuario.id_group == 1) {\n      me.userAdmin = true;\n    }\n    //user facturador\n    if (me.usuario.id_group == 22 || me.usuario.id_group == 23) {\n      me.userFacturador = true;\n    }\n  },\n  methods: {\n    changeEdit: function changeEdit(e) {\n      var me = this;\n      me.pedido = {};\n      me.id = e.id;\n      me.pedido = e;\n      me.tipo = 1;\n    },\n    changeRecharge: function changeRecharge(e) {\n      var me = this;\n      me.tipo = 0;\n      me.getObsequios();\n    },\n    getObsequios: function getObsequios() {\n      var me = this;\n      me.$vs.loading();\n      this.$http.get(this.$server_url + 'obsequio?listadoObsequioAsesor=yes&periodo_id=' + me.periodoSelect.idperiodoescolar).then(function (res) {\n        var datos = res.data;\n        if (me.userAsesor) {\n          me.arregloObsequios = datos.filter(function (p) {\n            return p.asesor_id == me.usuario.idusuario;\n          });\n        } else {\n          me.arregloObsequios = datos;\n        }\n        me.$vs.loading.close();\n      }).catch(function (error) {\n        console.log(error + ' error');\n        me.$vs.loading.close();\n      });\n    },\n    getInfoPeriodo: function getInfoPeriodo() {\n      var me = this;\n      me.arregloPeriodo = '';\n      this.$http.get(this.$server_url + 'periodo/' + me.periodoSelect.idperiodoescolar).then(function (res) {\n        me.arregloPeriodo = res.data;\n      }).catch(function (error) {\n        console.log(error + ' error');\n      });\n    }\n  }\n};",{"version":3,"names":["mapState","vSelect","crearPedidoVue","listadoObsequioVue","components","data","id","tipo","periodo_id","usuario","arregloObsequios","arregloPeriodo","pedido","periodoSelect","changePeriodo","userAdmin","userFacturador","watch","results","me","undefined","localStorage","removeItem","setItem","idperiodoescolar","periodoescolar","getObsequios","getInfoPeriodo","props","arregloPeriodos","type","Array","default","_default","computed","_objectSpread","created","JSON","parse","getItem","mounted","searchPeriodoActive","oid","searchPeriodoName","onombre","id_group","methods","changeEdit","e","changeRecharge","$vs","loading","$http","get","$server_url","then","res","datos","userAsesor","filter","p","asesor_id","idusuario","close","catch","error","console","log"],"sources":["src/views/pedidos/obsequios/ScreenObsequiosFacturador.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"flex mt-5\">\r\n            <div style=\"width: 40%;\">\r\n                <p> <ion-icon name=\"contract-outline\"></ion-icon>  Filtro de pedidos por período</p>\r\n            </div>\r\n            <div style=\"width: 60%;\">\r\n                <!-- idperiodoescolar -->\r\n                <v-select :options=\"arregloPeriodos\" :reduce=\"arregloPeriodos => arregloPeriodos\" label=\"periodoescolar\" class=\"w-full\" v-model=\"periodoSelect\" />\r\n            </div>\r\n        </div>\r\n        <vs-divider>\r\n            <vs-button color=\"warning\" v-if=\"changePeriodo == false\" type=\"flat\" icon=\"star\">Ningun período Seleccionado</vs-button>\r\n            <vs-button  v-else color=\"success\" type=\"flat\" icon=\"star\">Periodo seleccionado: <b>{{ periodoSelect.periodoescolar }}</b></vs-button>\r\n        </vs-divider>\r\n        <div v-if=\"changePeriodo\">\r\n            <div v-if=\"tipo != 0\">\r\n                <vs-button color=\"primary\" type=\"border\" @click=\"tipo = 0;getObsequios()\">← Regresar</vs-button>\r\n            </div>\r\n            <div v-if=\"tipo == 1\"><crearPedidoVue :userRoot=\"userRoot\" :userAdmin=\"userAdmin\" :userAsesor=\"userAsesor\" :userFacturador=\"userFacturador\" :arregloPeriodo=\"arregloPeriodo\" :periodo_id=\"periodoSelect.idperiodoescolar\" @changeRecharge=\"changeRecharge\" :id=\"id\" :pedido=\"pedido\"/></div>\r\n            <div v-if=\"tipo == 0\">\r\n                <vs-button class=\"btn_lg p-2 ml-1\" @click=\"tipo = 1;id = 0; pedido={};\" color=\"warning\" type=\"line\" icon-pack=\"feather\" icon=\"icon-plus\" icon-after>Solicitar obsequios</vs-button>\r\n                <listadoObsequioVue :userRoot=\"userRoot\" :userAdmin=\"userAdmin\" :periodo_id=\"periodoSelect.idperiodoescolar\" :arregloObsequios=\"arregloObsequios\" @changeRecharge=\"changeRecharge\" @changeEdit=\"changeEdit\"/>\r\n            </div>\r\n        </div>\r\n        <br><br><br>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport vSelect from 'vue-select';\r\nimport crearPedidoVue from './asesor/mantenimiento/crearPedido.vue';\r\nimport listadoObsequioVue from './asesor/mantenimiento/listadoObsequio'\r\nexport default{\r\n    components:{\r\n        crearPedidoVue,\r\n        listadoObsequioVue,\r\n        vSelect,\r\n    },\r\n    data(){\r\n        return{\r\n            id:0,\r\n            tipo:0,\r\n            periodo_id:0,\r\n            usuario:[],\r\n            arregloObsequios:[],\r\n            arregloPeriodo:[],\r\n            pedido:{},\r\n            periodoSelect:'',\r\n            changePeriodo:false,\r\n            userAdmin:false,\r\n            userFacturador:false,\r\n        }\r\n    },\r\n    watch:{\r\n        periodoSelect(results){\r\n            let me = this;\r\n            if(results == null || results == null || results == undefined){\r\n                me.changePeriodo = false\r\n                localStorage.removeItem('oid')\r\n                localStorage.removeItem('onombre')\r\n            }else{\r\n                me.changePeriodo = true\r\n                localStorage.setItem('oid',    results.idperiodoescolar)\r\n                localStorage.setItem('onombre',results.periodoescolar)\r\n                me.getObsequios()\r\n                me.getInfoPeriodo()\r\n            }\r\n        }\r\n    },\r\n    props:{\r\n        arregloPeriodos:{\r\n            type:Array,\r\n            default:function(){\r\n                return []\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n      ...mapState([\"auth\", \"userRoot\", \"susuario\", \"groupFacturador\", \"groupBodega\",\"userAsesor\",\"ObjectGuia\"]),\r\n    },\r\n    created(){\r\n        let me = this;\r\n        me.usuario = JSON.parse(localStorage.getItem(\"usuario\"))\r\n    },\r\n    mounted(){\r\n        let me = this;\r\n        me.getObsequios();\r\n        //mantener el periodo seleccionado aunque recarge la pagina\r\n        let searchPeriodoActive = localStorage.oid\r\n        let searchPeriodoName   = localStorage.onombre\r\n        if(searchPeriodoActive){\r\n        me.periodoSelect = { idperiodoescolar:searchPeriodoActive, periodoescolar:searchPeriodoName }\r\n        }\r\n        if(me.usuario.id_group == 1) { me.userAdmin = true }\r\n        //user facturador\r\n        if(me.usuario.id_group == 22 || me.usuario.id_group == 23){ me.userFacturador = true }\r\n    },\r\n    methods:{\r\n      changeEdit(e){\r\n          let me      = this;\r\n          me.pedido   = {}\r\n          me.id       = e.id\r\n          me.pedido   = e\r\n          me.tipo     = 1\r\n      },\r\n      changeRecharge(e){\r\n          let me  = this;\r\n          me.tipo = 0\r\n          me.getObsequios()\r\n      },\r\n      getObsequios() {\r\n          let me = this;\r\n          me.$vs.loading();\r\n          this.$http.get(this.$server_url+'obsequio?listadoObsequioAsesor=yes&periodo_id='+me.periodoSelect.idperiodoescolar)\r\n              .then(function (res) {\r\n                 let datos = res.data\r\n                  if(me.userAsesor) {\r\n                    me.arregloObsequios = datos.filter(p => p.asesor_id == me.usuario.idusuario)\r\n                  }else{\r\n                    me.arregloObsequios = datos\r\n                  }\r\n                  me.$vs.loading.close()\r\n              })\r\n              .catch(function (error) {\r\n                  console.log(error + ' error');\r\n                  me.$vs.loading.close()\r\n              })\r\n      },\r\n      getInfoPeriodo(){\r\n        let me = this;\r\n        me.arregloPeriodo = ''\r\n        this.$http.get(this.$server_url+'periodo/'+me.periodoSelect.idperiodoescolar)\r\n            .then(function (res) {\r\n                me.arregloPeriodo = res.data\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error + ' error');\r\n            })\r\n      }\r\n    }\r\n}\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}