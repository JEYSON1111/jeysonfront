{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\temporadas\\components\\Pedidos\\Configuracion\\Convenios\\CrearConvenio.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\temporadas\\components\\Pedidos\\Configuracion\\Convenios\\CrearConvenio.vue","mtime":1712682816559},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import vSelect from 'vue-select';\nexport default {\n  components: {\n    vSelect: vSelect\n  },\n  data: function data() {\n    return {\n      arrayPeriod: [],\n      periodSelect: '',\n      convenio: {\n        anticipo_global: 0,\n        anios: 0,\n        observacion: ''\n      }\n    };\n  },\n  mounted: function mounted() {\n    var me = this;\n    me.getPeriods();\n    me.periodSelect = me.datosInstitucion.id_periodo;\n    me.convenio.anios = me.ObjectPedido.convenio_anios;\n  },\n  props: {\n    usuario: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    datosInstitucion: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    groupFacturador: {\n      type: Boolean,\n      default: false\n    },\n    ObjectPedido: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  methods: {\n    getPeriods: function getPeriods() {\n      var me = this;\n      me.array = [];\n      this.$http.get(this.$server_url + 'get_periodos_pedidos').then(function (res) {\n        var datos = res.data;\n        me.arrayPeriod = datos.filter(function (p) {\n          return p.idperiodoescolar > 6 && p.idperiodoescolar != 18 && p.idperiodoescolar != 17 && p.idperiodoescolar != 15 && p.idperiodoescolar != 14 && p.idperiodoescolar != 9 && p.idperiodoescolar != 8;\n        });\n      }).catch(function (error) {});\n    },\n    saveGlobal: function saveGlobal() {\n      var me = this;\n      if (me.periodSelect == null || me.periodSelect == \"\" || me.periodSelect == undefined) {\n        me.$vs.notify({\n          text: 'Seleccione un período por favor',\n          color: 'warning',\n          iconPack: 'feather',\n          icon: 'icon-check'\n        });\n        return;\n      }\n      if (me.convenio.anios < 2) {\n        me.$vs.notify({\n          text: 'El convenio no puede ser menor a 2 años',\n          color: 'warning',\n          iconPack: 'feather',\n          icon: 'icon-check'\n        });\n        return;\n      }\n      var _me$datosInstitucion = me.datosInstitucion,\n        id_institucion = _me$datosInstitucion.id_institucion,\n        id_periodo = _me$datosInstitucion.id_periodo;\n      var formData = new FormData();\n      formData.append('saveGlobal', \"yes\");\n      formData.append('anticipo_global', me.convenio.anticipo_global);\n      formData.append('convenio_anios', me.convenio.anios);\n      formData.append('institucion_id', id_institucion);\n      formData.append('periodo_id', me.periodSelect);\n      formData.append('user_created', me.usuario.idusuario);\n      formData.append('observacion', me.convenio.observacion);\n      formData.append('id_pedido', me.ObjectPedido.id_pedido);\n      me.$vs.loading();\n      this.$http.post(this.$server_url + 'convenio', formData).then(function (res) {\n        me.$vs.loading.close();\n        if (res.data.status == 0) {\n          me.$vs.notify({\n            text: res.data.message,\n            color: 'danger',\n            iconPack: 'feather',\n            icon: 'icon-check'\n          });\n          return;\n        }\n        me.$emit('changeRecharge', 1);\n        me.$vs.notify({\n          text: res.data.message,\n          color: 'success',\n          iconPack: 'feather',\n          icon: 'icon-check'\n        });\n      }).catch(function (e) {\n        me.$vs.loading.close();\n      });\n    }\n  }\n};",{"version":3,"names":["vSelect","components","data","arrayPeriod","periodSelect","convenio","anticipo_global","anios","observacion","mounted","me","getPeriods","datosInstitucion","id_periodo","ObjectPedido","convenio_anios","props","usuario","type","Object","default","_default","groupFacturador","Boolean","methods","array","$http","get","$server_url","then","res","datos","filter","p","idperiodoescolar","catch","error","saveGlobal","undefined","$vs","notify","text","color","iconPack","icon","_me$datosInstitucion","id_institucion","formData","FormData","append","idusuario","id_pedido","loading","post","close","status","message","$emit","e"],"sources":["src/views/temporadas/components/Pedidos/Configuracion/Convenios/CrearConvenio.vue"],"sourcesContent":["<template>\r\n    <div class=\"mt-5\">\r\n        <h3 class=\"font-semibold text-center text-success\">Agregar Convenio</h3>\r\n        <div class=\"vx-row mt-3\">\r\n            <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/2 xl:w-1/2 mb-2\" v-if=\"groupFacturador\">\r\n                <small>Seleccione el período origen del convenio:</small>\r\n                <v-select :options=\"arrayPeriod\"  :reduce=\"arrayPeriod => arrayPeriod.idperiodoescolar\" label=\"periodoescolar\" class=\"w-full\" v-model=\"periodSelect\" />\r\n            </div>\r\n            <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/2 xl:w-1/2 mb-2\" >\r\n                <vs-input class=\"w-full\" icon-pack=\"feather\" icon=\"icon-dollar-sign\" icon-no-border label=\"Cantidad de anticipo global\" v-model=\"convenio.anticipo_global\" />\r\n            </div>\r\n        </div>\r\n        <div class=\"vx-row mt-3\">\r\n            <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/2 xl:w-1/2 mb-2\">\r\n                <vs-input class=\"w-full\" type=\"number\" icon-pack=\"feather\" icon=\"icon-calendar\" icon-no-border label=\"Convenio de años\" v-model=\"convenio.anios\" />\r\n            </div>\r\n            <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/2 xl:w-1/2 mb-2\">\r\n                <vs-input class=\"w-full\" icon-pack=\"feather\" icon=\"icon-message-square\" icon-no-border label=\"Observación\" v-model=\"convenio.observacion\" />\r\n            </div>\r\n        </div>\r\n        <div class=\"flex justify-center\">\r\n            <vs-button type=\"gradient\" style=\"margin-top: 23px;\" icon=\"save\" class=\"p-2 \" @click=\"saveGlobal()\">Guardar convenio</vs-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport vSelect from 'vue-select'\r\nexport default{\r\n    components:{\r\n        vSelect,\r\n    },\r\n    data(){\r\n        return{\r\n            arrayPeriod:[],\r\n            periodSelect:'',\r\n            convenio:{\r\n                anticipo_global:0,\r\n                anios:0,\r\n                observacion:'',\r\n            }\r\n        }\r\n    },\r\n    mounted(){\r\n        let me = this;\r\n        me.getPeriods()\r\n        me.periodSelect   = me.datosInstitucion.id_periodo\r\n        me.convenio.anios = me.ObjectPedido.convenio_anios\r\n    },\r\n    props:{\r\n        usuario:{\r\n            type:Object,\r\n            default:function(){\r\n                return {}\r\n            }\r\n        },\r\n        datosInstitucion:{\r\n            type:Object,\r\n            default:function(){\r\n                return {}\r\n            }\r\n        },\r\n        groupFacturador:{\r\n            type:Boolean,\r\n            default:false,\r\n        },\r\n        ObjectPedido:{\r\n          type:Object,\r\n          default:function(){\r\n              return {}\r\n          }\r\n        },\r\n    },\r\n    methods:{\r\n        getPeriods(){\r\n            let me = this\r\n            me.array = []\r\n            this.$http.get(this.$server_url+'get_periodos_pedidos')\r\n            .then(res => {\r\n                let datos = res.data\r\n                me.arrayPeriod = datos.filter(p => p.idperiodoescolar > 6 && p.idperiodoescolar !=18  && p.idperiodoescolar !=17 && p.idperiodoescolar !=15  && p.idperiodoescolar !=14  && p.idperiodoescolar !=9 && p.idperiodoescolar !=8)\r\n            })\r\n            .catch(function (error) {\r\n            })\r\n        },\r\n        saveGlobal(){\r\n            let me = this;\r\n            if(me.periodSelect == null || me.periodSelect == \"\" || me.periodSelect == undefined){\r\n                me.$vs.notify({\r\n                text:'Seleccione un período por favor',\r\n                color:'warning',\r\n                iconPack: 'feather',\r\n                icon:'icon-check'})\r\n                return\r\n            }\r\n            if( me.convenio.anios < 2 ){\r\n                me.$vs.notify({\r\n                text:'El convenio no puede ser menor a 2 años',\r\n                color:'warning',\r\n                iconPack: 'feather',\r\n                icon:'icon-check'})\r\n                return\r\n            }\r\n            const { id_institucion,id_periodo  }  = me.datosInstitucion\r\n            let formData = new FormData();\r\n            formData.append('saveGlobal',       \"yes\");\r\n            formData.append('anticipo_global',  me.convenio.anticipo_global);\r\n            formData.append('convenio_anios',   me.convenio.anios);\r\n            formData.append('institucion_id',   id_institucion);\r\n            formData.append('periodo_id',       me.periodSelect );\r\n            formData.append('user_created',     me.usuario.idusuario);\r\n            formData.append('observacion',      me.convenio.observacion);\r\n            formData.append('id_pedido',        me.ObjectPedido.id_pedido)\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'convenio', formData)\r\n            .then(res => {\r\n            me.$vs.loading.close()\r\n            if(res.data.status == 0){\r\n                me.$vs.notify({\r\n                text:res.data.message,\r\n                color:'danger',\r\n                iconPack: 'feather',\r\n                icon:'icon-check'})\r\n                return\r\n            }\r\n            me.$emit('changeRecharge',1)\r\n            me.$vs.notify({\r\n                text:res.data.message,\r\n                color:'success',\r\n                iconPack: 'feather',\r\n                icon:'icon-check'})\r\n            })\r\n            .catch((e)=>{\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n    }\r\n}\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}