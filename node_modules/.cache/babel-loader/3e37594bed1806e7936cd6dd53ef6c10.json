{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\asesor\\seguimiento\\components\\visitas.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\asesor\\seguimiento\\components\\visitas.vue","mtime":1712682815531},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/laragon/www/PRY_NEW_JEYSON/LOCAL/plataformaprolipa_vue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport flatPickr from 'vue-flatpickr-component';\nimport 'flatpickr/dist/flatpickr.css';\nexport default {\n  data: function data() {\n    return {\n      counterDanger: false,\n      visitas: [],\n      institucion: '',\n      institucion_id: '',\n      periodo: '',\n      periodo_id: '',\n      usuario: [],\n      popupAgregarSeguimiento: false,\n      popupEditarSeguimiento: false,\n      Fgenerar: null,\n      Fvisita: null,\n      configdateTimePicker: {\n        enableTime: true,\n        dateFormat: 'Y-m-d'\n      },\n      seguimiento: {\n        observacion: ''\n      },\n      id: 0,\n      update: false,\n      title: '',\n      titleFechaGenera: '',\n      titleFechaVisita: '',\n      isAdmin: '',\n      asesorDesdeAdmin: ''\n    };\n  },\n  props: {\n    tipo: {\n      type: String,\n      default: 1\n    },\n    valor: {\n      type: String,\n      default: \"Visita\"\n    }\n  },\n  components: {\n    flatPickr: flatPickr\n  },\n  created: function created() {\n    var me = this;\n    me.usuario = JSON.parse(localStorage.getItem(\"usuario\"));\n    me.institucion = localStorage.getItem(\"institucion_seguimiento_nombre\");\n    me.institucion_id = localStorage.getItem(\"institucion_seguimiento_id\");\n    me.periodo = localStorage.getItem(\"institucion_seguimiento_periodo\");\n    me.periodo_id = localStorage.getItem(\"institucion_seguimiento_periodo_id\");\n    me.isAdmin = localStorage.getItem(\"adminSeguimiento\");\n    me.getVisitas();\n    me.title = \"Genera\" + \" \" + me.valor;\n    me.titleFechaGenera = \"Fecha generar\" + \" \" + me.valor;\n    me.titleFechaVisita = \"Fecha visita\" + \" \" + me.valor;\n  },\n  methods: {\n    //cantidad de escuelas del asesor\n    getVisitas: function () {\n      var _getVisitas = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var me;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              me = this;\n              if (me.isAdmin == \"yes\") {\n                me.asesorDesdeAdmin = localStorage.getItem(\"institucion_seguimiento_asesor_id\");\n              } else {\n                me.asesorDesdeAdmin = me.usuario.idusuario;\n              }\n              this.$http.get(this.$server_url + 'asesor/seguimiento?institucion_id=' + me.institucion_id + '&periodo_id=' + me.periodo_id + '&asesor_id=' + me.asesorDesdeAdmin).then(function (response) {\n                var datos = response.data;\n                me.visitas = datos.filter(function (p) {\n                  return p.tipo_seguimiento == me.tipo;\n                });\n              }).catch(function (error) {});\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function getVisitas() {\n        return _getVisitas.apply(this, arguments);\n      }\n      return getVisitas;\n    }(),\n    openConfirm: function openConfirm(tr) {\n      var me = this;\n      me.id = tr.id;\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'danger',\n        title: \"Confirmar\",\n        text: 'Estas seguro de Eliminar',\n        accept: this.eliminar,\n        acceptText: \"Aceptar\",\n        cancelText: \"Cancelar\"\n      });\n    },\n    //para eliminar la area\n    eliminar: function eliminar() {\n      var _this = this;\n      var me = this;\n      var formData = new FormData();\n      formData.append('id', me.id);\n      this.$http.post(this.$server_url + 'seguimiento-eliminar', formData).then(function (res) {\n        me.id = 0;\n        _this.$vs.notify({\n          text: 'Se elimno correctamente',\n          color: 'warning',\n          iconPack: 'feather',\n          icon: 'icon-check'\n        });\n        if (me.isAdmin == \"yes\") {\n          me.asesorDesdeAdmin = localStorage.getItem(\"institucion_seguimiento_asesor_id\");\n        } else {\n          me.asesorDesdeAdmin = me.usuario.idusuario;\n        }\n        _this.$http.get(_this.$server_url + 'asesor/seguimiento?institucion_id=' + me.institucion_id + '&periodo_id=' + me.periodo_id + '&asesor_id=' + me.asesorDesdeAdmin).then(function (response) {\n          var datos = response.data;\n          if (response.data.status == \"0\") {\n            me.visitas = [];\n          } else {\n            me.visitas = datos.filter(function (p) {\n              return p.tipo_seguimiento == me.tipo;\n            });\n          }\n        }).catch(function (error) {});\n      }).catch(function (error) {});\n    },\n    openModalEdit: function openModalEdit(tr) {\n      var me = this;\n      me.id = tr.id;\n      me.Fgenerar = tr.fecha_genera_visita;\n      me.Fvisita = tr.fecha_que_visita;\n      me.seguimiento.observacion = tr.observacion;\n      me.popupEditarSeguimiento = true;\n    },\n    generarSeguimiento: function generarSeguimiento() {\n      var me = this;\n      if (me.seguimiento.observacion.length >= 500) {\n        me.$vs.notify({\n          color: 'primary',\n          title: 'Mensaje',\n          text: 'El observaciÃ³n debe tener un maximo de 500 caracteres'\n        });\n        return false;\n      }\n      if (me.Fgenerar == null) {\n        me.$vs.notify({\n          text: 'Debe escoger una fecha generar visita',\n          color: 'warning',\n          iconPack: 'feather',\n          icon: 'icon-check'\n        });\n        return false;\n      }\n      //validacion al editar\n      if (me.update == true) {\n        if (me.Fgenerar > me.Fvisita) {\n          me.$vs.notify({\n            text: 'La fecha de generar visita  no puede mayor  que la fecha de visita',\n            color: 'warning',\n            iconPack: 'feather',\n            icon: 'icon-check'\n          });\n          return false;\n        }\n      }\n      var formData = new FormData();\n      if (me.update = true) {\n        formData.append('id', me.id);\n        formData.append('fecha_que_visita', me.Fvisita);\n        //solo si coloca la fecha de visita el estado cambiara a finalizdo\n        if (me.Fvisita == null) {} else {\n          formData.append('finalizar', \"yes\");\n        }\n      }\n      formData.append('fecha_genera_visita', me.Fgenerar);\n      formData.append('observacion', me.seguimiento.observacion);\n      formData.append('institucion_id', me.institucion_id);\n      if (me.isAdmin == \"yes\") {\n        me.asesorDesdeAdmin = localStorage.getItem(\"institucion_seguimiento_asesor_id\");\n        formData.append('usuario_editor', me.usuario.idusuario);\n        formData.append('admin', \"yes\");\n      } else {\n        me.asesorDesdeAdmin = me.usuario.idusuario;\n      }\n      formData.append('asesor_id', me.asesorDesdeAdmin);\n      formData.append('tipo_seguimiento', me.tipo);\n      formData.append('periodo_id', me.periodo_id);\n      me.$vs.loading();\n      this.$http.post(this.$server_url + 'guardarSeguimiento', formData).then(function (res) {\n        me.$vs.loading.close();\n        me.$vs.notify({\n          text: res.data.message,\n          color: 'primary',\n          iconPack: 'feather',\n          icon: 'icon-alert-triangle'\n        });\n        me.popupAgregarSeguimiento = false;\n        me.popupEditarSeguimiento = false;\n        me.getVisitas();\n        me.limpiar();\n      }).catch(function (error) {\n        me.$vs.loading.close();\n      });\n    },\n    limpiar: function limpiar() {\n      var me = this;\n      me.seguimiento.observacion = \"\";\n      me.Fgenerar = null;\n    }\n  }\n};",{"version":3,"names":["flatPickr","data","counterDanger","visitas","institucion","institucion_id","periodo","periodo_id","usuario","popupAgregarSeguimiento","popupEditarSeguimiento","Fgenerar","Fvisita","configdateTimePicker","enableTime","dateFormat","seguimiento","observacion","id","update","title","titleFechaGenera","titleFechaVisita","isAdmin","asesorDesdeAdmin","props","tipo","type","String","default","valor","components","created","me","JSON","parse","localStorage","getItem","getVisitas","methods","_getVisitas","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","idusuario","$http","get","$server_url","then","response","datos","filter","p","tipo_seguimiento","catch","error","stop","apply","arguments","openConfirm","tr","$vs","dialog","color","text","accept","eliminar","acceptText","cancelText","_this","formData","FormData","append","post","res","notify","iconPack","icon","status","openModalEdit","fecha_genera_visita","fecha_que_visita","generarSeguimiento","length","loading","close","message","limpiar"],"sources":["src/views/asesor/seguimiento/components/visitas.vue"],"sourcesContent":["<template>\r\n    <div>\r\n     <vs-row>\r\n    \r\n        <p @click=\"popupAgregarSeguimiento = true;update = false;\" style=\"cursor:pointer\" v-if=\"usuario.id_group == 1\">\r\n            <vs-chip color=\"primary\" style=\"cursor:pointer\"  class=\"mt-2\">\r\n                <vs-avatar icon=\"edit\"  @click=\"popupAgregarSeguimiento = true;\"/>\r\n                Agregar {{valor}}\r\n            </vs-chip>\r\n        </p> \r\n       \r\n\r\n        <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n             <vs-table stripe :data=\"visitas\" search pagination max-items=\"10\" style=\"width: 100%;\">\r\n                <template slot=\"header\">\r\n                    \r\n                    <vs-list>\r\n                        <vs-list-header title=\"InformaciÃ³n\"></vs-list-header>\r\n                        <vs-list-item title=\"InstituciÃ³n\" :subtitle=\"institucion\"></vs-list-item>\r\n                        <vs-list-item title=\"PerÃ­odo\" :subtitle=\"periodo\"></vs-list-item>\r\n                        <vs-list-item :title=\"valor +' ' + 'cantidad'\" :subtitle=\"visitas.length\"></vs-list-item>\r\n                    </vs-list>\r\n\r\n                </template>\r\n                \r\n                <template slot=\"thead\">\r\n                    <vs-th>\r\n                    {{valor}}\r\n                    </vs-th>\r\n                    <vs-th>\r\n                    Fecha Genera {{valor}}\r\n                    </vs-th>\r\n                    <vs-th>\r\n                    Fecha {{valor}}\r\n                    </vs-th>\r\n                    <vs-th>\r\n                    ObservaciÃ³n\r\n                    </vs-th>\r\n                    <vs-th>\r\n                    Estado\r\n                    </vs-th>\r\n                    <vs-th>\r\n                    Acciones\r\n                    </vs-th>\r\n\r\n                </template>\r\n            \r\n                <template slot-scope=\"{data}\">\r\n                    <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\" >\r\n                        <vs-td :data=\"data[indextr].num_visita\" width=\"20%\">\r\n                           \r\n                            <vs-chip color=\"primary\">\r\n                            {{valor}} NÂº {{data[indextr].num_visita}}\r\n                            </vs-chip>\r\n                        </vs-td>\r\n                        <vs-td :data=\"data[indextr].fecha_genera_visita\" width=\"20%\">\r\n                            {{data[indextr].fecha_genera_visita}}\r\n                        </vs-td>\r\n\r\n                        <vs-td :data=\"data[indextr].fecha_que_visita\" width=\"20%\">\r\n                            {{data[indextr].fecha_que_visita}}\r\n                        </vs-td>\r\n\r\n                        <vs-td height=\"30%\" width=\"50%\">\r\n                            <div class=\"overflow-y-auto h-24\">\r\n                                {{tr.observacion}}\r\n                               \r\n                            </div>\r\n                        </vs-td>\r\n                        <vs-td>\r\n                            <vs-chip :color=\"tr.estado == '0'?'success':'warning'\">\r\n                                {{ tr.estado == '0' ? 'Generada' :'Finalizada' }}\r\n                            </vs-chip>\r\n                        </vs-td>\r\n                        <vs-td>\r\n                            <div style=\"display:flex;\">\r\n                                <vx-tooltip style=\"display: inline-block;\" text=\"Editar\" position=\"top\" color=\"primary\">\r\n                                    <vs-button radius color=\"success\" @click=\"openModalEdit(tr);update = true\" type=\"line\" icon=\"edit\"></vs-button>\r\n                                </vx-tooltip> &nbsp;  \r\n                                <vx-tooltip style=\"display: inline-block;\" :text=\"'Eliminar '+valor\" position=\"top\" color=\"danger\">\r\n                                    <vs-button radius color=\"danger\" @click=\"openConfirm(tr)\" type=\"line\" icon=\"delete\"></vs-button>\r\n                                </vx-tooltip> &nbsp;  \r\n                            </div>\r\n                         \r\n             \r\n                        </vs-td>\r\n                    </vs-tr>\r\n                </template>\r\n            </vs-table>\r\n        </vs-col>\r\n    </vs-row>\r\n\r\n    \r\n    <!--MODALES-->\r\n    <!--MODAL PARA AGREGAR SEGUIMIENTO-->\r\n    <vs-popup\r\n        :title=\"title\" :active.sync=\"popupAgregarSeguimiento\">\r\n\r\n            <vs-row>\r\n                <p class=\"ml-2\">Fecha generar {{valor}}</p>\r\n                <vs-col  class=\"mt-1\" vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                   <flat-pickr :config=\"configdateTimePicker\" v-model=\"Fgenerar\"  :placeholder=\"titleFechaGenera\" class=\"m-1\" style=\"display: inline-block;width: 100%;\" />\r\n                </vs-col>\r\n            </vs-row>\r\n            <vs-row class=\"mt-2\">    \r\n                <p class=\"ml-2\">ObservaciÃ³n</p>\r\n                <vs-col  class=\"mt-1\" vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n            \r\n                <vs-textarea counter=\"500\" style=\"width:100%;\" label=\"Mensaje\" :counter-danger.sync=\"counterDanger\" v-model=\"seguimiento.observacion\" />\r\n                </vs-col>\r\n            </vs-row>\r\n            <vs-row>\r\n                <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                    <vs-button @click=\"generarSeguimiento()\" type=\"gradient\">Generar {{valor}}</vs-button>\r\n                </vs-col>\r\n            </vs-row>\r\n        \r\n    </vs-popup>\r\n\r\n    <!--MODAL PARA Editar SEGUIMIENTO-->\r\n    <vs-popup\r\n         :title=\"title\" :active.sync=\"popupEditarSeguimiento\">\r\n\r\n            <vs-row>\r\n                <p class=\"ml-2\">Fecha generar {{valor}}</p>\r\n                <vs-col  class=\"mt-1\" vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                   <flat-pickr :config=\"configdateTimePicker\" v-model=\"Fgenerar\"  :placeholder=\"titleFechaGenera\" class=\"m-1\" style=\"display: inline-block;width: 100%;\" />\r\n                </vs-col>\r\n            </vs-row>\r\n             <vs-row>\r\n                <p class=\"ml-2\">Fecha de la {{valor}}</p>\r\n                <vs-col  class=\"mt-1\" vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                   <flat-pickr :config=\"configdateTimePicker\" v-model=\"Fvisita\"  :placeholder=\"titleFechaVisita\" class=\"m-1\" style=\"display: inline-block;width: 100%;\" />\r\n                </vs-col>\r\n            </vs-row>\r\n            <vs-row class=\"mt-2\">    \r\n                <p class=\"ml-2\">ObservaciÃ³n</p>\r\n                <vs-col  class=\"mt-1\" vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                <vs-textarea counter=\"500\" style=\"width:100%;\" label=\"Mensaje\" :counter-danger.sync=\"counterDanger\" v-model=\"seguimiento.observacion\" />\r\n                </vs-col>\r\n            </vs-row>\r\n            <vs-row>\r\n                <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                    <vs-button @click=\"generarSeguimiento()\" type=\"gradient\">Generar {{valor}}</vs-button>\r\n                </vs-col>\r\n            </vs-row>\r\n        \r\n    </vs-popup>\r\n       \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport flatPickr from 'vue-flatpickr-component';\r\nimport 'flatpickr/dist/flatpickr.css';\r\nexport default {\r\n    data() {\r\n       return{\r\n           counterDanger: false,\r\n           visitas:[],\r\n           institucion:'',\r\n           institucion_id:'',\r\n           periodo:'',\r\n           periodo_id:'',\r\n           usuario:[],\r\n           popupAgregarSeguimiento:false,\r\n           popupEditarSeguimiento:false,\r\n            Fgenerar: null,\r\n            Fvisita: null,\r\n            configdateTimePicker: {\r\n                enableTime: true,\r\n                dateFormat: 'Y-m-d'\r\n            },\r\n            seguimiento:{\r\n                observacion:''\r\n            },\r\n            id:0,\r\n            update:false,\r\n            title:'',\r\n            titleFechaGenera:'',\r\n            titleFechaVisita:'',\r\n            isAdmin:'',\r\n            asesorDesdeAdmin:'',\r\n          \r\n\r\n       } \r\n    },\r\n    props:{\r\n        tipo:{\r\n            type:String,\r\n            default:1\r\n        },\r\n        valor:{\r\n            type:String,\r\n            default:\"Visita\"\r\n        }\r\n    },\r\n      components:{\r\n        flatPickr,\r\n    },\r\n    created(){\r\n        let me = this;\r\n        me.usuario = JSON.parse(localStorage.getItem(\"usuario\"))\r\n        me.institucion = localStorage.getItem(\"institucion_seguimiento_nombre\")\r\n        me.institucion_id = localStorage.getItem(\"institucion_seguimiento_id\")\r\n        me.periodo = localStorage.getItem(\"institucion_seguimiento_periodo\")\r\n        me.periodo_id = localStorage.getItem(\"institucion_seguimiento_periodo_id\")\r\n        me.isAdmin = localStorage.getItem(\"adminSeguimiento\")\r\n        \r\n        me.getVisitas()\r\n        me.title = \"Genera\"+\" \" +me.valor\r\n        me.titleFechaGenera = \"Fecha generar\"+ \" \" +me.valor\r\n        me.titleFechaVisita = \"Fecha visita\" + \" \" +me.valor\r\n    }, \r\n    methods:{\r\n        //cantidad de escuelas del asesor\r\n        async getVisitas() {\r\n            let me = this;\r\n            if(me.isAdmin == \"yes\"){\r\n                me.asesorDesdeAdmin = localStorage.getItem(\"institucion_seguimiento_asesor_id\") \r\n            }else{\r\n                me.asesorDesdeAdmin = me.usuario.idusuario\r\n            }\r\n            \r\n            this.$http.get(this.$server_url+'asesor/seguimiento?institucion_id='+me.institucion_id+'&periodo_id='+me.periodo_id+'&asesor_id='+me.asesorDesdeAdmin)\r\n                .then(function (response) {\r\n                    let datos = response.data;\r\n                    me.visitas = datos.filter(p => p.tipo_seguimiento == me.tipo) \r\n                })\r\n                .catch(function (error) {\r\n                    \r\n                })\r\n        },\r\n        openConfirm(tr){\r\n            let me = this;\r\n            me.id = tr.id\r\n            this.$vs.dialog({\r\n                type:'confirm',\r\n                color: 'danger',\r\n                title: `Confirmar`,\r\n                text: 'Estas seguro de Eliminar',\r\n                accept:this.eliminar,\r\n                acceptText:\"Aceptar\",\r\n                cancelText:\"Cancelar\"\r\n            })\r\n        },        \r\n     //para eliminar la area\r\n         eliminar() {\r\n              let me = this;\r\n              let formData = new FormData();\r\n              formData.append('id',me.id);\r\n              this.$http.post(this.$server_url+'seguimiento-eliminar', formData)\r\n              .then(res => {\r\n\r\n                  me.id = 0\r\n                   this.$vs.notify({\r\n                        text:'Se elimno correctamente',\r\n                        color:'warning',\r\n                        iconPack: 'feather',\r\n                        icon:'icon-check'})\r\n            \r\n            if(me.isAdmin == \"yes\"){\r\n                me.asesorDesdeAdmin = localStorage.getItem(\"institucion_seguimiento_asesor_id\") \r\n            }else{\r\n                me.asesorDesdeAdmin = me.usuario.idusuario\r\n            }\r\n            \r\n            this.$http.get(this.$server_url+'asesor/seguimiento?institucion_id='+me.institucion_id+'&periodo_id='+me.periodo_id+'&asesor_id='+me.asesorDesdeAdmin)\r\n                .then(function (response) {\r\n                    let datos = response.data;\r\n                    if(response.data.status == \"0\"){\r\n                        me.visitas = []\r\n                    }else{\r\n                         me.visitas = datos.filter(p => p.tipo_seguimiento == me.tipo) \r\n                    }    \r\n                })\r\n                .catch(function (error) {\r\n                    \r\n                })\r\n                 \r\n              })\r\n                .catch(function (error) {\r\n                   \r\n                })\r\n        },\r\n\r\n        openModalEdit(tr){\r\n            let me = this;\r\n            me.id = tr.id\r\n            me.Fgenerar = tr.fecha_genera_visita\r\n            me.Fvisita = tr.fecha_que_visita\r\n            me.seguimiento.observacion = tr.observacion\r\n            me.popupEditarSeguimiento  = true;\r\n        },\r\n        generarSeguimiento(){\r\n            let me = this;\r\n            if(me.seguimiento.observacion.length >= 500){\r\n                me.$vs.notify({\r\n                    color: 'primary',\r\n                    title: 'Mensaje',\r\n                    text: 'El observaciÃ³n debe tener un maximo de 500 caracteres'\r\n                    })\r\n                return false;\r\n            }\r\n            \r\n            if(me.Fgenerar == null){\r\n                me.$vs.notify({\r\n                text: 'Debe escoger una fecha generar visita',\r\n                color:'warning',\r\n                iconPack: 'feather',\r\n                icon:'icon-check'})\r\n            return false;\r\n            }\r\n            //validacion al editar\r\n            if(me.update == true){\r\n         \r\n                if(me.Fgenerar > me.Fvisita){\r\n                    me.$vs.notify({\r\n                        text: 'La fecha de generar visita  no puede mayor  que la fecha de visita',\r\n                        color:'warning',\r\n                        iconPack: 'feather',\r\n                        icon:'icon-check'})\r\n                       return false;\r\n                }\r\n            }\r\n\r\n            \r\n           let formData = new FormData();\r\n            if(me.update = true){\r\n              formData.append('id',    me.id);       \r\n              formData.append('fecha_que_visita',    me.Fvisita);\r\n              //solo si coloca la fecha de visita el estado cambiara a finalizdo\r\n                 if(me.Fvisita == null){\r\n                 }else{\r\n                    formData.append('finalizar',    \"yes\")\r\n                 }\r\n            }\r\n            formData.append('fecha_genera_visita',    me.Fgenerar);\r\n            formData.append('observacion',            me.seguimiento.observacion);\r\n            formData.append('institucion_id',         me.institucion_id);\r\n            if(me.isAdmin == \"yes\"){\r\n                me.asesorDesdeAdmin = localStorage.getItem(\"institucion_seguimiento_asesor_id\") \r\n                formData.append('usuario_editor',    me.usuario.idusuario);\r\n                formData.append('admin',    \"yes\");\r\n            }else{\r\n                me.asesorDesdeAdmin = me.usuario.idusuario\r\n            }\r\n            \r\n            formData.append('asesor_id',              me.asesorDesdeAdmin);\r\n            formData.append('tipo_seguimiento',       me.tipo);\r\n            formData.append('periodo_id',             me.periodo_id);\r\n            \r\n            me.$vs.loading();\r\n            this.$http.post(this.$server_url+'guardarSeguimiento', formData)\r\n                .then(function (res) {\r\n                    \r\n                    me.$vs.loading.close()\r\n                    me.$vs.notify({\r\n                        text: res.data.message,\r\n                        color: 'primary',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                   me.popupAgregarSeguimiento = false;\r\n                   me.popupEditarSeguimiento = false;\r\n                   me.getVisitas();\r\n                   me.limpiar()\r\n                    \r\n                  \r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                });\r\n        },\r\n        limpiar(){\r\n            let  me = this;\r\n            me.seguimiento.observacion = \"\"\r\n            me.Fgenerar = null\r\n\r\n        }\r\n    }\r\n}\r\n</script>"],"mappings":"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","ignoreList":[]}]}