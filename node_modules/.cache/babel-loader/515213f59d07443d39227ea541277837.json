{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos2\\pedidos\\libros\\ScreenLibros.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos2\\pedidos\\libros\\ScreenLibros.vue","mtime":1712682816410},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/laragon/www/PRY_NEW_JEYSON/LOCAL/plataformaprolipa_vue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _defineProperty from \"C:/laragon/www/PRY_NEW_JEYSON/LOCAL/plataformaprolipa_vue/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { mapState } from \"vuex\";\nvar form_librosVue = function form_librosVue() {\n  return import(\"../../../pedidos/form_libros.vue\");\n};\nexport default {\n  components: {\n    form_librosVue: form_librosVue\n  },\n  data: function data() {\n    return {\n      sendPedido: '',\n      usuario: []\n    };\n  },\n  watch: {\n    ObjectPedido: function ObjectPedido(results) {\n      this.sendPedido = results;\n    }\n  },\n  computed: _objectSpread({}, mapState([\"auth\", 'userRoot', 'susuario', 'ObjectPedido', 'groupFacturador'])),\n  mounted: function mounted() {\n    var me = this;\n    me.sendPedido = me.ObjectPedido;\n    me.usuario = me.susuario;\n  },\n  methods: {\n    generarContrato: function generarContrato() {\n      this.$vs.dialog({\n        type: 'confirm',\n        color: 'warning',\n        title: \"Confirmar\",\n        acceptText: 'Si, deseo generar el contrato',\n        cancelText: 'Cancelar',\n        text: '¿Está seguro de guardar el contrato para este pedido?',\n        accept: this.confirmGenerarContrato\n      });\n    },\n    confirmGenerarContrato: function () {\n      var _confirmGenerarContrato = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var me, contrato_generado;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              me = this;\n              contrato_generado = me.sendPedido.contrato_generado;\n              if (!(contrato_generado == null || contrato_generado == \"\" || contrato_generado == \"null\")) {\n                _context.next = 5;\n                break;\n              }\n              _context.next = 7;\n              break;\n            case 5:\n              me.$vs.notify({\n                time: 8000,\n                text: 'Este pedido ya tiene un contrato generado: ' + me.sendPedido.contrato_generado,\n                color: 'warning',\n                iconPack: 'feather',\n                icon: 'icon-alert-triangle'\n              });\n              return _context.abrupt(\"return\");\n            case 7:\n              me.$vs.loading();\n              _context.next = 10;\n              return me.$http.get(me.$server_url + 'generar_contrato_pedido/' + me.sendPedido.id_pedido + '/' + me.usuario.idusuario).then(function (res) {\n                me.$vs.loading.close();\n                if (res.data.status == 0) {\n                  me.$vs.notify({\n                    time: 8000,\n                    text: res.data.message,\n                    color: 'danger',\n                    iconPack: 'feather',\n                    icon: 'icon-alert-triangle'\n                  });\n                  return;\n                }\n                if (res.data.error) {\n                  me.$vs.notify({\n                    time: 8000,\n                    text: res.data.error,\n                    color: 'danger',\n                    iconPack: 'feather',\n                    icon: 'icon-alert-triangle'\n                  });\n                  return;\n                }\n                me.$vs.notify({\n                  time: 8000,\n                  text: 'Se creo correctamente el contrato: ' + res.data,\n                  color: 'success',\n                  iconPack: 'feather',\n                  icon: 'icon-alert-triangle'\n                });\n                me.$emit('rechargePedido', true);\n              }).catch(function (err) {\n                me.$vs.notify({\n                  time: 4000,\n                  text: 'Error al generar el contrato.',\n                  color: 'danger',\n                  iconPack: 'feather',\n                  icon: 'icon-alert-triangle'\n                });\n                console.log(err);\n                me.$vs.loading.close();\n              });\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function confirmGenerarContrato() {\n        return _confirmGenerarContrato.apply(this, arguments);\n      }\n      return confirmGenerarContrato;\n    }()\n  }\n};",{"version":3,"names":["mapState","form_librosVue","components","data","sendPedido","usuario","watch","ObjectPedido","results","computed","_objectSpread","mounted","me","susuario","methods","generarContrato","$vs","dialog","type","color","title","acceptText","cancelText","text","accept","confirmGenerarContrato","_confirmGenerarContrato","_asyncToGenerator","regeneratorRuntime","mark","_callee","contrato_generado","wrap","_callee$","_context","prev","next","notify","time","iconPack","icon","abrupt","loading","$http","get","$server_url","id_pedido","idusuario","then","res","close","status","message","error","$emit","catch","err","console","log","stop","apply","arguments"],"sources":["src/views/pedidos2/pedidos/libros/ScreenLibros.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div v-if=\"sendPedido.id_pedido > 0\">\r\n            <form_librosVue\r\n              @rechargePedido=\"$emit('rechargePedido',true)\"\r\n              :tmpPedidos=\"sendPedido\"\r\n              :selectifanticipo=\"Boolean(sendPedido.ifanticipo)\"\r\n              :anticipoAprobado=\"(sendPedido.anticipo_aprobado == sendPedido.deuda) ? sendPedido.anticipo_aprobado : sendPedido.anticipo_aprobado - sendPedido.deuda\"\r\n                />\r\n            <br><br><br>\r\n        </div>\r\n        <!--GENERAR CONTRATO-->\r\n        <div class=\"flex justify-center\">\r\n            <vs-button type=\"relief\" v-if=\"groupFacturador && (sendPedido.contrato_generado == 'null' || sendPedido.contrato_generado == null)\" @click=\"generarContrato()\">Generar Contrato</vs-button>\r\n        </div>\r\n        <br><br><br><br><br><br><br><br><br><br>\r\n    </div>\r\n</template>\r\n<script>\r\n  import {\r\n    mapState\r\n} from \"vuex\";\r\nconst form_librosVue = () => import('../../../pedidos/form_libros.vue')\r\nexport default{\r\n    components:{\r\n        form_librosVue,\r\n    },\r\n    data(){\r\n        return{\r\n            sendPedido:'',\r\n            usuario:[],\r\n        }\r\n    },\r\n    watch:{\r\n        ObjectPedido(results){\r\n            this.sendPedido = results\r\n        }\r\n    },\r\n    computed:{\r\n    ...mapState([\"auth\",'userRoot','susuario','ObjectPedido','groupFacturador']),\r\n    },\r\n    mounted(){\r\n        let me = this;\r\n        me.sendPedido = me.ObjectPedido\r\n        me.usuario    = me.susuario\r\n    },\r\n    methods:{\r\n        generarContrato(){\r\n        this.$vs.dialog({\r\n          type: 'confirm',\r\n          color: 'warning',\r\n          title: `Confirmar`,\r\n          acceptText:'Si, deseo generar el contrato',\r\n          cancelText:'Cancelar',\r\n          text: '¿Está seguro de guardar el contrato para este pedido?',\r\n          accept: this.confirmGenerarContrato\r\n        })\r\n      },\r\n      async confirmGenerarContrato(){\r\n        let me = this\r\n        const { contrato_generado } = me.sendPedido\r\n        if(contrato_generado == null || contrato_generado == \"\" || contrato_generado == \"null\") {}\r\n        else{\r\n            me.$vs.notify({ time: 8000, text: 'Este pedido ya tiene un contrato generado: ' + me.sendPedido.contrato_generado , color: 'warning', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n            return\r\n        }\r\n        me.$vs.loading()\r\n        await me.$http.get(me.$server_url+'generar_contrato_pedido/'+me.sendPedido.id_pedido+'/'+me.usuario.idusuario)\r\n        .then(res => {\r\n          me.$vs.loading.close()\r\n          if(res.data.status == 0){\r\n            me.$vs.notify({ time: 8000, text: res.data.message , color: 'danger', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n            return\r\n          }\r\n          if( res.data.error ){\r\n            me.$vs.notify({ time: 8000, text: res.data.error , color: 'danger', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n            return\r\n          }\r\n          me.$vs.notify({ time: 8000, text: 'Se creo correctamente el contrato: ' + res.data , color: 'success', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n\r\n          me.$emit('rechargePedido',true)\r\n        })\r\n        .catch(err => {\r\n          me.$vs.notify({ time: 4000, text: 'Error al generar el contrato.' , color: 'danger', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n          console.log(err);\r\n          me.$vs.loading.close();\r\n        })\r\n      },\r\n    }\r\n}\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}