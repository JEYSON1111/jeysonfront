{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos2\\guias\\ScreenGuias.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos2\\guias\\ScreenGuias.vue","mtime":1712682816387},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/laragon/www/PRY_NEW_JEYSON/LOCAL/plataformaprolipa_vue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _defineProperty from \"C:/laragon/www/PRY_NEW_JEYSON/LOCAL/plataformaprolipa_vue/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport vSelect from 'vue-select';\nimport { mapState } from \"vuex\";\nvar listadoGuiasFacturadorVue = function listadoGuiasFacturadorVue() {\n  return import(\"../../pedidos/components/Guias/guiasFacturador/listadoGuiasFacturador.vue\");\n};\nvar listado_pedidos_asesorVue = function listado_pedidos_asesorVue() {\n  return import(\"../../pedidos/listado_pedidos_asesor.vue\");\n};\nvar pedidosGuiasVue = function pedidosGuiasVue() {\n  return import(\"../../pedidos/components/Guias/pedidos.vue\");\n};\nexport default {\n  components: {\n    vSelect: vSelect,\n    listadoGuiasFacturadorVue: listadoGuiasFacturadorVue,\n    listado_pedidos_asesorVue: listado_pedidos_asesorVue,\n    pedidosGuiasVue: pedidosGuiasVue\n  },\n  data: function data() {\n    return {\n      arregloGuias: [],\n      periodoSelect: '',\n      changePeriodo: false,\n      menu: 0\n    };\n  },\n  computed: _objectSpread({}, mapState([\"auth\", \"userRoot\", \"susuario\", \"groupFacturador\", \"groupBodega\", \"userAsesor\", \"ObjectGuia\"])),\n  mounted: function mounted() {\n    var me = this;\n    if (!me.userAsesor) {\n      this.getGuias();\n    }\n  },\n  props: {\n    arregloPeriodos: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  watch: {\n    periodoSelect: function periodoSelect(results) {\n      var me = this;\n      if (results == null || results == null || results == undefined) {\n        me.changePeriodo = false;\n        localStorage.removeItem('pid');\n        localStorage.removeItem('pnombre');\n      } else {\n        me.changePeriodo = true;\n        localStorage.setItem('pid', results.idperiodoescolar);\n        localStorage.setItem('pnombre', results.periodoescolar);\n      }\n    }\n  },\n  methods: {\n    showPedido: function showPedido(e) {\n      var me = this;\n      me.menu = e;\n    },\n    getGuias: function () {\n      var _getGuias = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var me, response, datos;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              me = this;\n              _context.prev = 1;\n              this.$vs.loading();\n              _context.next = 5;\n              return this.$http.get(this.$server_url + 'get_pedidos_guias');\n            case 5:\n              response = _context.sent;\n              this.$vs.loading.close();\n              datos = response.data;\n              if (!(datos.length === 0)) {\n                _context.next = 11;\n                break;\n              }\n              this.arregloGuias = [];\n              return _context.abrupt(\"return\");\n            case 11:\n              if (!this.groupFacturador) {\n                _context.next = 16;\n                break;\n              }\n              this.arregloGuias = datos.filter(function (p) {\n                return p.pedido_facturacion === 1;\n              });\n              return _context.abrupt(\"return\");\n            case 16:\n              if (!this.groupBodega) {\n                _context.next = 21;\n                break;\n              }\n              this.arregloGuias = datos.filter(function (p) {\n                return p.pedido_bodega === 1;\n              });\n              return _context.abrupt(\"return\");\n            case 21:\n              if (!this.userAsesor) {\n                _context.next = 24;\n                break;\n              }\n              this.arregloGuias = datos.filter(function (p) {\n                return p.pedido_asesor === 1;\n              });\n              return _context.abrupt(\"return\");\n            case 24:\n              _context.next = 30;\n              break;\n            case 26:\n              _context.prev = 26;\n              _context.t0 = _context[\"catch\"](1);\n              console.error(\"Error al obtener guías:\", _context.t0);\n              this.$vs.loading.close();\n            case 30:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[1, 26]]);\n      }));\n      function getGuias() {\n        return _getGuias.apply(this, arguments);\n      }\n      return getGuias;\n    }()\n  }\n};",{"version":3,"names":["vSelect","mapState","listadoGuiasFacturadorVue","listado_pedidos_asesorVue","pedidosGuiasVue","components","data","arregloGuias","periodoSelect","changePeriodo","menu","computed","_objectSpread","mounted","me","userAsesor","getGuias","props","arregloPeriodos","type","Array","default","_default","watch","results","undefined","localStorage","removeItem","setItem","idperiodoescolar","periodoescolar","methods","showPedido","e","_getGuias","_asyncToGenerator","regeneratorRuntime","mark","_callee","response","datos","wrap","_callee$","_context","prev","next","$vs","loading","$http","get","$server_url","sent","close","length","abrupt","groupFacturador","filter","p","pedido_facturacion","groupBodega","pedido_bodega","pedido_asesor","t0","console","error","stop","apply","arguments"],"sources":["src/views/pedidos2/guias/ScreenGuias.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <div v-if=\"groupFacturador\">\r\n        <listadoGuiasFacturadorVue :pedidos=\"arregloGuias\" @changeRecarge=\"getGuias\" />\r\n      </div>\r\n      <div v-if=\"userAsesor\">\r\n        <div class=\"flex mt-5\">\r\n            <div style=\"width: 40%;\">\r\n                <p> <ion-icon name=\"contract-outline\"></ion-icon>  Filtro de guias por período</p>\r\n            </div>\r\n            <div style=\"width: 60%;\">\r\n                <v-select :options=\"arregloPeriodos\" :reduce=\"arregloPeriodos => arregloPeriodos\" label=\"periodoescolar\" class=\"w-full\" v-model=\"periodoSelect\" />\r\n                <br>\r\n            </div>\r\n        </div>\r\n        <vs-divider>\r\n        <vs-button color=\"warning\" v-if=\"changePeriodo == false\" type=\"flat\" icon=\"star\">Ningun período Seleccionado</vs-button>\r\n        <vs-button  v-else color=\"success\" type=\"flat\" icon=\"star\">Periodo seleccionado: <b>{{ periodoSelect.periodoescolar }}</b></vs-button>\r\n        </vs-divider>\r\n        <div v-if=\"changePeriodo\">\r\n            <div v-if=\"menu != 0\">\r\n                <vs-button class=\"mb-2 p-2\" @click=\"menu = 0;\" style=\"display: inline-block;\" icon-pack=\"feather\" icon=\"icon-chevron-left\" color=\"primary\">Volver a pedidos</vs-button>\r\n            </div>\r\n            <div v-if=\"menu == 0\">\r\n                <listado_pedidos_asesorVue  :periodoSelect=\"periodoSelect\" @showPedido=\"showPedido\"/>\r\n            </div>\r\n            <div v-if=\"menu == 1\">\r\n                <pedidosGuiasVue/>\r\n            </div>\r\n        </div>  \r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import vSelect from 'vue-select'\r\n  import { mapState } from \"vuex\";\r\n  const listadoGuiasFacturadorVue = () => import('../../pedidos/components/Guias/guiasFacturador/listadoGuiasFacturador.vue');\r\n  const listado_pedidos_asesorVue = () => import('../../pedidos/listado_pedidos_asesor.vue')\r\n  const pedidosGuiasVue           = () => import('../../pedidos/components/Guias/pedidos.vue')\r\n  export default {\r\n    components: {\r\n      vSelect,\r\n      listadoGuiasFacturadorVue,\r\n      listado_pedidos_asesorVue,\r\n      pedidosGuiasVue,\r\n    },\r\n    data() {\r\n      return {\r\n        arregloGuias: [],\r\n        periodoSelect:'',\r\n        changePeriodo:false,\r\n        menu:0,\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapState([\"auth\", \"userRoot\", \"susuario\", \"groupFacturador\", \"groupBodega\",\"userAsesor\",\"ObjectGuia\"]),\r\n    },\r\n    mounted() {\r\n        let me = this\r\n        if(!me.userAsesor){\r\n            this.getGuias();\r\n        }\r\n    },\r\n    props:{\r\n        arregloPeriodos:{\r\n            type:Array,\r\n            default:function(){\r\n                return []\r\n            }\r\n        }\r\n    },\r\n    watch:{\r\n      periodoSelect(results){\r\n        let me = this;\r\n        if(results == null || results == null || results == undefined){\r\n          me.changePeriodo = false\r\n          localStorage.removeItem('pid')\r\n          localStorage.removeItem('pnombre')\r\n        }else{\r\n          me.changePeriodo = true\r\n          localStorage.setItem('pid',    results.idperiodoescolar)\r\n          localStorage.setItem('pnombre',results.periodoescolar)\r\n        }\r\n      },\r\n    },\r\n    methods: {\r\n        showPedido(e){\r\n            let me = this\r\n            me.menu = e\r\n        },\r\n        async getGuias() {\r\n            let me = this\r\n            try {\r\n            this.$vs.loading();\r\n            const response = await this.$http.get(this.$server_url + 'get_pedidos_guias');\r\n            this.$vs.loading.close();\r\n    \r\n            const datos = response.data;\r\n            if (datos.length === 0) {\r\n                this.arregloGuias = [];\r\n                return;\r\n            }\r\n            if (this.groupFacturador) {\r\n                this.arregloGuias = datos.filter(p => p.pedido_facturacion === 1);\r\n                return \r\n            } else if (this.groupBodega) {\r\n                this.arregloGuias = datos.filter(p => p.pedido_bodega === 1);\r\n                return \r\n            } else if (this.userAsesor) {\r\n                this.arregloGuias = datos.filter(p => p.pedido_asesor === 1);\r\n                return \r\n            }\r\n            } catch (error) {\r\n            console.error(\"Error al obtener guías:\", error);\r\n            this.$vs.loading.close();\r\n            }\r\n        },\r\n    },\r\n  };\r\n  </script>\r\n  "],"mappings":"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","ignoreList":[]}]}