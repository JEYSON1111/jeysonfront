{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\gerencia\\reportes\\ReporteTrasabilidad.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\gerencia\\reportes\\ReporteTrasabilidad.vue","mtime":1712682816340},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import flatPickr from 'vue-flatpickr-component';\nimport 'flatpickr/dist/flatpickr.css';\nimport ReporteTrazabilidadDetalleVue from \"./ReporteTrasabilidadDetalle.vue\";\nexport default {\n  data: function data() {\n    return {\n      arregloPedidos: [],\n      pedido: {},\n      popupReporte: false,\n      //variables para el export a excel\n      activePrompt: false,\n      codigoSelected: [],\n      reportesActivo: 0,\n      fileName: null,\n      formats: ['xls', 'xlsx', 'csv', 'txt'],\n      cellAutoWidth: true,\n      selectedFormat: 'xls'\n    };\n  },\n  components: {\n    flatPickr: flatPickr,\n    ReporteTrazabilidadDetalleVue: ReporteTrazabilidadDetalleVue\n  },\n  mounted: function mounted() {\n    var me = this;\n    me.getPedidos();\n    me.fromDate = new Date();\n  },\n  methods: {\n    getPedidos: function getPedidos() {\n      var me = this;\n      me.popupUpload = false;\n      me.$vs.loading();\n      this.$http.get(this.$server_url + 'getPedidosGerencia').then(function (res) {\n        me.$vs.loading.close();\n        me.arregloPedidos = res.data;\n      });\n    },\n    //METODOS PARA EXCEL\n    //para limipiar los campos del excel\n    clearFields: function clearFields() {\n      this.fileName = '';\n      this.cellAutoWidth = true;\n      this.selectedFormat = 'xls';\n    },\n    //metodo par descargar el excel\n    exportToExcel: function exportToExcel() {\n      var _this = this;\n      var headerTitle = ['Vendedor', 'Institución', 'Ciudad', 'Contrato', 'Creacion pedido', 'Anticipo aprobado', 'Contabilidad recibe', 'Contabilidad sube cheque sin firmar', 'Contabilidad sube cheque firmado', 'Facturador recibe cheque', 'Facturador envia cheque asesor', 'Asesor sube pagaré firmado', 'Facturador recibe orden firmada fisico', 'Contabilidad reciben orden firmada fisico'];\n      var headerVal = ['responsable', 'nombreInstitucion', 'nombre_ciudad', 'contrato_generado', 'f_creacionPedido', 'fecha_contabilidad_recibe', 'fecha_contabilidad_sube_cheque_sin_firmar', 'fecha_subir_cheque', 'fecha_facturador_recibe_cheque', 'fecha_envio_cheque_for_asesor', 'fecha_orden_firmada', 'fecha_que_recibe_orden_firmada', 'fecha_que_recibe_orden_firmada_contabilidad'];\n      var codigoSelectedMayus = this.codigoSelected;\n      for (var i = 0; i < codigoSelectedMayus.length; i++) {\n        for (var key in codigoSelectedMayus[i]) {\n          if (typeof codigoSelectedMayus[i][key] == \"string\") {\n            codigoSelectedMayus[i][key] = codigoSelectedMayus[i][key].toUpperCase();\n          }\n        }\n      }\n      import('@/vendor/Export2Excel').then(function (excel) {\n        var list = codigoSelectedMayus;\n        var data = _this.formatJson(headerVal, list);\n        excel.export_json_to_excel({\n          header: headerTitle,\n          data: data,\n          filename: _this.fileName,\n          autoWidth: _this.cellAutoWidth,\n          bookType: _this.selectedFormat\n        });\n        _this.clearFields();\n        _this.guardarActivo = '';\n        _this.generarActivo = ' ';\n        _this.textAlertCant = '';\n        _this.cantidad = '';\n        _this.codigoSelected = [];\n      });\n    },\n    formatJson: function formatJson(filterVal, jsonData) {\n      return jsonData.map(function (v) {\n        return filterVal.map(function (j) {\n          return v[j];\n        });\n      });\n    }\n  }\n};",{"version":3,"names":["flatPickr","ReporteTrazabilidadDetalleVue","data","arregloPedidos","pedido","popupReporte","activePrompt","codigoSelected","reportesActivo","fileName","formats","cellAutoWidth","selectedFormat","components","mounted","me","getPedidos","fromDate","Date","methods","popupUpload","$vs","loading","$http","get","$server_url","then","res","close","clearFields","exportToExcel","_this","headerTitle","headerVal","codigoSelectedMayus","i","length","key","toUpperCase","excel","list","formatJson","export_json_to_excel","header","filename","autoWidth","bookType","guardarActivo","generarActivo","textAlertCant","cantidad","filterVal","jsonData","map","v","j"],"sources":["src/views/pedidos/gerencia/reportes/ReporteTrasabilidad.vue"],"sourcesContent":["<template>\r\n    <vx-card>\r\n        <vs-table multiple v-model=\"codigoSelected\" max-items=\"10\" stripe search pagination :data=\"arregloPedidos\">\r\n            <template slot=\"header\">\r\n                <vs-chip  color=\"primary\">Cantidad:  {{ arregloPedidos.length }} </vs-chip>\r\n                <span class=\"cursor-pointer\" @click=\"activePrompt=true;\"><vs-chip  color=\"success\" ><b><ion-icon name=\"download-outline\"></ion-icon> Exportar</b></vs-chip></span>\r\n            </template>\r\n            <template slot=\"thead\">\r\n                <vs-th>#</vs-th>\r\n                <vs-th>Asesor</vs-th>\r\n                <vs-th>Acciones</vs-th>\r\n            </template>\r\n            <template slot-scope=\"{data}\">\r\n                <vs-tr  :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                    <vs-td>\r\n                        {{ tr.id_pedido }}\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        <b>Asesor:</b>\r\n                        <p> {{data[indextr].responsable}}</p>\r\n                        <b>Institución:</b>\r\n                        <p> {{data[indextr].nombreInstitucion}}<br> </p>\r\n                        <b>Ciudad:</b>\r\n                        <p>{{ tr.nombre_ciudad }}</p>\r\n                        <b>Fecha aprobado por gerencia</b>\r\n                        <p> {{data[indextr].fecha_aprobacion_anticipo_gerencia}}<br> </p>\r\n                        <b>Fecha generación contrato</b>\r\n                        <p> {{data[indextr].fecha_generar_contrato}}<br> </p>\r\n                        <b>Contrato:</b>\r\n                        <p> {{data[indextr].contrato_generado}}<br> </p>\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        <div style=\"display: flex;\">\r\n                            <div>\r\n                                <!--COLOCAR RECIBIDAS-->\r\n                                <vx-tooltip style=\"display: inline-block;\" text=\"Reporte Trazabilidad\" position=\"top\" color=\"primary\">\r\n                                    <vs-button class=\"modal-default-button\" size=\"small\" color=\"primary\" @click=\"pedido= tr;popupReporte = true;\" type=\"filled\" icon-pack=\"feather\" icon=\"icon-credit-card\"> Reporte trazabilidad </vs-button>\r\n                                </vx-tooltip> &nbsp;\r\n                            </div>\r\n                        </div>\r\n                    </vs-td> \r\n                </vs-tr>\r\n            </template>\r\n        </vs-table>\r\n        <!--MODAL PARA VER  EL REPORTE -->\r\n        <vs-popup class=\"holamundo\" fullscreen title=\"Reporte de trazabilidad\" :active.sync=\"popupReporte\">\r\n            <div v-if=\"popupReporte\">\r\n                <ReporteTrazabilidadDetalleVue :pedido=\"pedido\"/>\r\n            </div>\r\n        </vs-popup>\r\n        <!--MODAL PARA EXPORTAR A EXCEL-->\r\n        <vs-prompt title=\"Exportar a Excel\" class=\"export-options\" @cancle=\"clearFields\" @accept=\"exportToExcel\" accept-text=\"Exportar\" @close=\"clearFields\" :active.sync=\"activePrompt\">\r\n            <vs-alert class=\"mb-3\" color=\"danger\" icon-pack=\"feather\" icon=\"icon-info\">\r\n                <span>Recuerde <b>seleccionar</b> los registros que desea exportar.</span>\r\n            </vs-alert>\r\n            <vs-input v-model=\"fileName\" placeholder=\"Ingrese el nombre del archivo\" class=\"w-full\" />\r\n            <v-select v-model=\"selectedFormat\" :options=\"formats\" class=\"my-4\" />\r\n            <div class=\"flex\">\r\n            </div>\r\n         </vs-prompt>\r\n    </vx-card>\r\n</template>\r\n<script>\r\nimport flatPickr from 'vue-flatpickr-component';\r\nimport 'flatpickr/dist/flatpickr.css';\r\nimport ReporteTrazabilidadDetalleVue from './ReporteTrasabilidadDetalle.vue'\r\nexport default{\r\n    data(){\r\n        return{\r\n            arregloPedidos:[],\r\n            pedido:{},\r\n            popupReporte:false,\r\n            //variables para el export a excel\r\n            activePrompt:false,\r\n            codigoSelected: [],\r\n            reportesActivo: 0,\r\n            fileName: null,\r\n            formats: ['xls', 'xlsx', 'csv', 'txt'],\r\n            cellAutoWidth: true,\r\n            selectedFormat: 'xls',\r\n        }\r\n    },\r\n    components:{\r\n        flatPickr,\r\n        ReporteTrazabilidadDetalleVue,\r\n    },\r\n    mounted(){\r\n        let me = this;\r\n        me.getPedidos()\r\n        me.fromDate = new Date();\r\n    },\r\n    methods:{\r\n        getPedidos(){\r\n            let me = this\r\n            me.popupUpload = false;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url+'getPedidosGerencia')\r\n            .then(res => {\r\n                me.$vs.loading.close();\r\n                me.arregloPedidos = res.data\r\n            })\r\n        },\r\n          //METODOS PARA EXCEL\r\n        //para limipiar los campos del excel\r\n        clearFields() {\r\n            this.fileName = ''\r\n            this.cellAutoWidth = true\r\n            this.selectedFormat = 'xls'\r\n        },\r\n        //metodo par descargar el excel\r\n        exportToExcel() {\r\n            let headerTitle = [\r\n                'Vendedor',\r\n                'Institución',\r\n                'Ciudad',\r\n                'Contrato',\r\n                'Creacion pedido',\r\n                'Anticipo aprobado',\r\n                'Contabilidad recibe',\r\n                'Contabilidad sube cheque sin firmar',\r\n                'Contabilidad sube cheque firmado',\r\n                'Facturador recibe cheque',\r\n                'Facturador envia cheque asesor',\r\n                'Asesor sube pagaré firmado',\r\n                'Facturador recibe orden firmada fisico',\r\n                'Contabilidad reciben orden firmada fisico'\r\n                ];\r\n            let headerVal = [\r\n                'responsable',\r\n                'nombreInstitucion',\r\n                'nombre_ciudad',\r\n                'contrato_generado',\r\n                'f_creacionPedido',\r\n                'fecha_contabilidad_recibe',\r\n                'fecha_contabilidad_sube_cheque_sin_firmar',\r\n                'fecha_subir_cheque',\r\n                'fecha_facturador_recibe_cheque',\r\n                'fecha_envio_cheque_for_asesor',\r\n                'fecha_orden_firmada',\r\n                'fecha_que_recibe_orden_firmada',\r\n                'fecha_que_recibe_orden_firmada_contabilidad'\r\n            ];  \r\n            let codigoSelectedMayus = this.codigoSelected\r\n            for (var i = 0; i < codigoSelectedMayus.length; i++) {\r\n                for (var key in codigoSelectedMayus[i]) {\r\n                    if (typeof codigoSelectedMayus[i][key] == \"string\") {\r\n                        codigoSelectedMayus[i][key] = codigoSelectedMayus[i][key].toUpperCase();\r\n                    }\r\n                }\r\n            }\r\n            import('@/vendor/Export2Excel').then(excel => {\r\n                const list = codigoSelectedMayus\r\n                const data = this.formatJson(headerVal, list)\r\n                excel.export_json_to_excel({\r\n                    header: headerTitle,\r\n                    data,\r\n                    filename: this.fileName,\r\n                    autoWidth: this.cellAutoWidth,\r\n                    bookType: this.selectedFormat\r\n                })\r\n                this.clearFields()\r\n                this.guardarActivo = '';\r\n                this.generarActivo = ' ';\r\n                this.textAlertCant = '';\r\n                this.cantidad = '';\r\n                this.codigoSelected = [];\r\n            })\r\n        },\r\n        formatJson(filterVal, jsonData) {\r\n            return jsonData.map(v => filterVal.map(j => {\r\n                return v[j]\r\n            }))\r\n        },\r\n    }\r\n}\r\n</script>"],"mappings":"AA+DA,OAAAA,SAAA;AACA;AACA,OAAAC,6BAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,cAAA;MACAC,MAAA;MACAC,YAAA;MACA;MACAC,YAAA;MACAC,cAAA;MACAC,cAAA;MACAC,QAAA;MACAC,OAAA;MACAC,aAAA;MACAC,cAAA;IACA;EACA;EACAC,UAAA;IACAb,SAAA,EAAAA,SAAA;IACAC,6BAAA,EAAAA;EACA;EACAa,OAAA,WAAAA,QAAA;IACA,IAAAC,EAAA;IACAA,EAAA,CAAAC,UAAA;IACAD,EAAA,CAAAE,QAAA,OAAAC,IAAA;EACA;EACAC,OAAA;IACAH,UAAA,WAAAA,WAAA;MACA,IAAAD,EAAA;MACAA,EAAA,CAAAK,WAAA;MACAL,EAAA,CAAAM,GAAA,CAAAC,OAAA;MACA,KAAAC,KAAA,CAAAC,GAAA,MAAAC,WAAA,yBACAC,IAAA,WAAAC,GAAA;QACAZ,EAAA,CAAAM,GAAA,CAAAC,OAAA,CAAAM,KAAA;QACAb,EAAA,CAAAZ,cAAA,GAAAwB,GAAA,CAAAzB,IAAA;MACA;IACA;IACA;IACA;IACA2B,WAAA,WAAAA,YAAA;MACA,KAAApB,QAAA;MACA,KAAAE,aAAA;MACA,KAAAC,cAAA;IACA;IACA;IACAkB,aAAA,WAAAA,cAAA;MAAA,IAAAC,KAAA;MACA,IAAAC,WAAA,IACA,YACA,eACA,UACA,YACA,mBACA,qBACA,uBACA,uCACA,oCACA,4BACA,kCACA,8BACA,0CACA,4CACA;MACA,IAAAC,SAAA,IACA,eACA,qBACA,iBACA,qBACA,oBACA,6BACA,6CACA,sBACA,kCACA,iCACA,uBACA,kCACA,8CACA;MACA,IAAAC,mBAAA,QAAA3B,cAAA;MACA,SAAA4B,CAAA,MAAAA,CAAA,GAAAD,mBAAA,CAAAE,MAAA,EAAAD,CAAA;QACA,SAAAE,GAAA,IAAAH,mBAAA,CAAAC,CAAA;UACA,WAAAD,mBAAA,CAAAC,CAAA,EAAAE,GAAA;YACAH,mBAAA,CAAAC,CAAA,EAAAE,GAAA,IAAAH,mBAAA,CAAAC,CAAA,EAAAE,GAAA,EAAAC,WAAA;UACA;QACA;MACA;MACA,gCAAAZ,IAAA,WAAAa,KAAA;QACA,IAAAC,IAAA,GAAAN,mBAAA;QACA,IAAAhC,IAAA,GAAA6B,KAAA,CAAAU,UAAA,CAAAR,SAAA,EAAAO,IAAA;QACAD,KAAA,CAAAG,oBAAA;UACAC,MAAA,EAAAX,WAAA;UACA9B,IAAA,EAAAA,IAAA;UACA0C,QAAA,EAAAb,KAAA,CAAAtB,QAAA;UACAoC,SAAA,EAAAd,KAAA,CAAApB,aAAA;UACAmC,QAAA,EAAAf,KAAA,CAAAnB;QACA;QACAmB,KAAA,CAAAF,WAAA;QACAE,KAAA,CAAAgB,aAAA;QACAhB,KAAA,CAAAiB,aAAA;QACAjB,KAAA,CAAAkB,aAAA;QACAlB,KAAA,CAAAmB,QAAA;QACAnB,KAAA,CAAAxB,cAAA;MACA;IACA;IACAkC,UAAA,WAAAA,WAAAU,SAAA,EAAAC,QAAA;MACA,OAAAA,QAAA,CAAAC,GAAA,WAAAC,CAAA;QAAA,OAAAH,SAAA,CAAAE,GAAA,WAAAE,CAAA;UACA,OAAAD,CAAA,CAAAC,CAAA;QACA;MAAA;IACA;EACA;AACA","ignoreList":[]}]}