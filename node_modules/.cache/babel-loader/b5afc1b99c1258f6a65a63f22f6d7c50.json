{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\empresas\\lista.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\empresas\\lista.vue","mtime":1712682815816},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["var CrearEditarVue = function CrearEditarVue() {\n  return import(\"./crear-editar.vue\");\n};\nexport default {\n  components: {\n    CrearEditarVue: CrearEditarVue\n  },\n  data: function data() {\n    return {\n      id: 0,\n      listaEmpresas: [],\n      popupEdit: false,\n      data_conf: {\n        titulo_modal: '',\n        color_boton: ''\n      },\n      ObjectSelect: ''\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    var me = this;\n    me.getEmpresas();\n  },\n  methods: {\n    openDocument: function openDocument(tr) {\n      var me = this;\n      var ruta = me.$data_url + 'archivos/facturacion/empresa/' + tr.url;\n      window.open(ruta, '_blank');\n    },\n    setSave: function setSave(dato) {\n      var me = this;\n      me.data_conf = {\n        titulo_modal: '',\n        color_boton: ''\n      };\n      if (dato != null) {\n        me.data_conf = {\n          titulo_modal: \"Editar empresa\",\n          color_boton: \"orange\",\n          tipo: 0 //edita\n        };\n      } else {\n        me.data_conf = {\n          titulo_modal: \"Agregar empresa\",\n          color_boton: \"success\",\n          tipo: 1 //nuevo registro\n        };\n      }\n      me.popupEdit = true;\n    },\n    getEmpresas: function getEmpresas() {\n      var me = this;\n      me.listaEmpresas = [];\n      me.$vs.loading();\n      this.$http.get(this.$server_url + 'empresa').then(function (res) {\n        // console.log(res.data)\n        me.listaEmpresas = res.data;\n        me.$vs.loading.close();\n      }).catch(function (err) {\n        console.log(err);\n        me.$vs.loading.close();\n      });\n    },\n    f_recarga: function f_recarga(e) {\n      var me = this;\n      console.log(e);\n      me.popupEdit = false;\n      if (e == 1) {\n        me.getEmpresas();\n      }\n    }\n  }\n};",{"version":3,"names":["CrearEditarVue","components","data","id","listaEmpresas","popupEdit","data_conf","titulo_modal","color_boton","ObjectSelect","created","mounted","me","getEmpresas","methods","openDocument","tr","ruta","$data_url","url","window","open","setSave","dato","tipo","$vs","loading","$http","get","$server_url","then","res","close","catch","err","console","log","f_recarga","e"],"sources":["src/views/empresas/lista.vue"],"sourcesContent":["<template>\r\n<div class='vx-col w-full mt-4'>\r\n    <section>\r\n        <vs-button class=\"m-2 mb-2\" color=\"success\" type=\"gradient\" style=\"width: 150px\" @click=\"ObjectSelect='';id=0;setSave();\">Agregar</vs-button>\r\n    </section>\r\n    <section name=\"lista\">\r\n        <vs-table max-items=\"10\" search pagination :data=\"listaEmpresas\">\r\n            <template slot=\"thead\">\r\n                <vs-th>Nombre</vs-th>\r\n                <vs-th>Direccion</vs-th>\r\n                <vs-th>Email</vs-th>\r\n                <vs-th>Seccuencial</vs-th>\r\n                <vs-th>Acciones</vs-th>\r\n            </template>\r\n            <template slot-scope=\"{data}\">\r\n                <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                    <vs-td>\r\n                      <b>Nombre:</b>\r\n                      <p>{{ tr.nombre }}</p>\r\n                      <b>Descripci√≥n Corta</b>\r\n                      <p>{{tr.descripcion_corta}}</p>\r\n                      <b>RUC:</b>\r\n                      <p>{{tr.ruc}}</p>\r\n                      <b>Representante:</b>\r\n                      <p>{{tr.representante}}</p>\r\n                        <p v-if=\"!tr.archivo\">\r\n                          <b class=\"text-danger\"> Logo: No subida </b>\r\n                        </p>\r\n                        <p v-else class=\"imagen cursor-pointer\" @click=\"openDocument(tr)\">\r\n                          <b> Logo:\r\n                            <!--PDF-->\r\n                            <ion-icon v-if=\"tr.archivo.substr(-3) == 'pdf'\" style=\"font-size:20px;color:green;position:relative;top:5px;\" name=\"document-outline\"></ion-icon>\r\n                              <!--IMAGE-->\r\n                            <ion-icon v-else style=\"font-size:20px;color:green;position:relative;top:5px;\" name=\"camera-outline\"></ion-icon>\r\n                          </b>\r\n                        </p>\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        {{tr.direccion}}<br>\r\n                        {{tr.telefono}}\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        {{tr.email}}<br>\r\n                        <span v-if=\"tr.tipo == 0\"> Matriz </span>\r\n                        <span v-if=\"tr.tipo == 1\"> Sucursal </span>\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        {{tr.secuencial}}<br>\r\n                    </vs-td>\r\n                    <vs-td :data=\"tr.secuencia\">\r\n                        <vs-button size=\"large\" icon-pack=\"feather\" icon=\"icon-edit\" color=\"orange\" @click=\"ObjectSelect=tr;id=tr.id;setSave(tr);\"> </vs-button>\r\n                    </vs-td>\r\n                </vs-tr>\r\n            </template>\r\n        </vs-table>\r\n    </section>\r\n    <vs-popup classContent=\"popup-example\" :title=\"id == 0 ?'Guardar Empresa':'Editar Empresa'\" :active.sync=\"popupEdit\">\r\n        <CrearEditarVue v-if=\"popupEdit\" :ObjectSelect=\"ObjectSelect\" :id=\"id\"   @f_creado=\"f_recarga\" :data_conf=\"data_conf\"/>\r\n    </vs-popup>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nconst CrearEditarVue = () => import('./crear-editar.vue')\r\nexport default {\r\n    components: {\r\n        CrearEditarVue\r\n    },\r\n    data() {\r\n        return {\r\n            id:0,\r\n            listaEmpresas: [],\r\n            popupEdit: false,\r\n            data_conf: {\r\n                titulo_modal: '',\r\n                color_boton: '',\r\n            },\r\n            ObjectSelect:''\r\n        };\r\n    },\r\n    created() {},\r\n    mounted() {\r\n        let me = this;\r\n        me.getEmpresas();\r\n    },\r\n    methods: {\r\n      openDocument(tr){\r\n        let me = this;\r\n        let ruta = me.$data_url+'archivos/facturacion/empresa/'+tr.url\r\n        window.open(ruta,'_blank')\r\n      },\r\n        setSave(dato){\r\n            let me = this;\r\n            me.data_conf = {\r\n                titulo_modal: '',\r\n                color_boton: '',\r\n            }\r\n            if (dato != null) {\r\n                me.data_conf = {\r\n                    titulo_modal: \"Editar empresa\",\r\n                    color_boton: \"orange\",\r\n                    tipo : 0, //edita\r\n                }\r\n\r\n              } else {\r\n                me.data_conf = {\r\n                  titulo_modal: \"Agregar empresa\",\r\n                  color_boton: \"success\",\r\n                  tipo : 1, //nuevo registro\r\n                }\r\n            }\r\n            me.popupEdit = true;\r\n        },\r\n        getEmpresas() {\r\n            let me = this;\r\n            me.listaEmpresas = []\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + 'empresa')\r\n                .then(res => {\r\n                    // console.log(res.data)\r\n                    me.listaEmpresas = res.data;\r\n                    me.$vs.loading.close();\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                    me.$vs.loading.close();\r\n                })\r\n        },\r\n        f_recarga(e) {\r\n            let me = this;\r\n            console.log(e)\r\n            me.popupEdit = false;\r\n            if (e == 1) {\r\n                me.getEmpresas();\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n"],"mappings":"AA+DA,IAAAA,cAAA,YAAAA,eAAA;EAAA;AAAA;AACA;EACAC,UAAA;IACAD,cAAA,EAAAA;EACA;EACAE,IAAA,WAAAA,KAAA;IACA;MACAC,EAAA;MACAC,aAAA;MACAC,SAAA;MACAC,SAAA;QACAC,YAAA;QACAC,WAAA;MACA;MACAC,YAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;EACAC,OAAA,WAAAA,QAAA;IACA,IAAAC,EAAA;IACAA,EAAA,CAAAC,WAAA;EACA;EACAC,OAAA;IACAC,YAAA,WAAAA,aAAAC,EAAA;MACA,IAAAJ,EAAA;MACA,IAAAK,IAAA,GAAAL,EAAA,CAAAM,SAAA,qCAAAF,EAAA,CAAAG,GAAA;MACAC,MAAA,CAAAC,IAAA,CAAAJ,IAAA;IACA;IACAK,OAAA,WAAAA,QAAAC,IAAA;MACA,IAAAX,EAAA;MACAA,EAAA,CAAAN,SAAA;QACAC,YAAA;QACAC,WAAA;MACA;MACA,IAAAe,IAAA;QACAX,EAAA,CAAAN,SAAA;UACAC,YAAA;UACAC,WAAA;UACAgB,IAAA;QACA;MAEA;QACAZ,EAAA,CAAAN,SAAA;UACAC,YAAA;UACAC,WAAA;UACAgB,IAAA;QACA;MACA;MACAZ,EAAA,CAAAP,SAAA;IACA;IACAQ,WAAA,WAAAA,YAAA;MACA,IAAAD,EAAA;MACAA,EAAA,CAAAR,aAAA;MACAQ,EAAA,CAAAa,GAAA,CAAAC,OAAA;MACA,KAAAC,KAAA,CAAAC,GAAA,MAAAC,WAAA,cACAC,IAAA,WAAAC,GAAA;QACA;QACAnB,EAAA,CAAAR,aAAA,GAAA2B,GAAA,CAAA7B,IAAA;QACAU,EAAA,CAAAa,GAAA,CAAAC,OAAA,CAAAM,KAAA;MACA,GACAC,KAAA,WAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;QACAtB,EAAA,CAAAa,GAAA,CAAAC,OAAA,CAAAM,KAAA;MACA;IACA;IACAK,SAAA,WAAAA,UAAAC,CAAA;MACA,IAAA1B,EAAA;MACAuB,OAAA,CAAAC,GAAA,CAAAE,CAAA;MACA1B,EAAA,CAAAP,SAAA;MACA,IAAAiC,CAAA;QACA1B,EAAA,CAAAC,WAAA;MACA;IACA;EACA;AACA","ignoreList":[]}]}