{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\nee_documentos\\components\\CrearDocumentos.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\nee_documentos\\components\\CrearDocumentos.vue","mtime":1712682816190},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\nimport axios from 'axios';\nimport vSelect from 'vue-select';\nimport TabActividadesNeetVue from \"./TabActividadesNeet.vue\";\nexport default {\n  components: {\n    'v-select': vSelect,\n    TabActividadesNeetVue: TabActividadesNeetVue\n  },\n  data: function data() {\n    return {\n      usuario: [],\n      btn_icon: '',\n      btn_color: '',\n      btn_txt: '',\n      mensaje: '',\n      temaSelect: {},\n      modalAdd: false,\n      listaDatos: [],\n      datos: {},\n      titulo: '',\n      //variables de files\n      attachmentArray: [],\n      //fin variables de files\n      //variables para subniveles\n      arregloNiveles: [],\n      //fin variables para subniveles\n      menu: 0\n    };\n  },\n  created: function created() {\n    var me = this;\n    me.usuario = JSON.parse(localStorage.getItem(\"usuario\"));\n  },\n  mounted: function mounted() {\n    var me = this;\n    me.f_agregar(me.ficha);\n    me.getNiveles();\n  },\n  props: {\n    ficha: {\n      type: Object,\n      default: {}\n    },\n    arregloTemas: {\n      type: Array,\n      default: []\n    },\n    setTema: {\n      type: Number,\n      default: 0\n    }\n  },\n  methods: {\n    getNiveles: function getNiveles() {\n      var me = this;\n      this.$http.get(this.$server_url + \"neetTema?listadoSubniveles=yes\").then(function (res) {\n        me.arregloNiveles = res.data.filter(function (p) {\n          return p.id != '5';\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    getFiles: function getFiles() {\n      var me = this;\n      this.$http.get(this.$server_url + 'neetTema/' + me.ficha.id).then(function (res) {\n        var datos = res.data.files;\n        if (me.datos.length == 0) {\n          me.attachmentArray = [];\n          return;\n        }\n        datos.forEach(function (element) {\n          var cal = new Object();\n          cal.id = element.id;\n          cal.ficha_id = element.ficha_id;\n          cal.name = element.archivo;\n          cal.url = element.url;\n          var tipo = \"\";\n          if (element.ext == \"PNG\" || element.ext == \"png\" || element.ext == \"JPEG\" || element.ext == \"jpeg\" || element.ext == \"JPG\" || element.ext == \"jpg\") {\n            tipo = \"img\";\n          } else {\n            tipo = \"other\";\n          }\n          cal.tipo = tipo;\n          cal.local = 1;\n          me.attachmentArray.push(cal);\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    f_agregar: function f_agregar() {\n      var me = this;\n      var item = me.ficha;\n      me.datos = {\n        'id': 0,\n        'nombre': '',\n        'descripcion': '',\n        'estado': 1,\n        'tipo': 0,\n        'subnivel': '',\n        'solucionario': '0'\n      };\n      me.btn_icon = 'save';\n      me.btn_color = 'success';\n      me.btn_txt = 'Agregar';\n      me.titulo = 'Agregar';\n      me.mensaje = 'Se registrado correctamente';\n      me.temaSelect = me.setTema;\n      if (item.id != undefined) {\n        me.getFiles();\n        me.btn_icon = 'edit';\n        me.btn_color = 'warning';\n        me.btn_txt = 'Editar';\n        me.titulo = 'Editar';\n        me.datos = {\n          'id': item.id,\n          'nombre': item.nombre,\n          'descripcion': item.descripcion,\n          'estado': item.estado,\n          'subnivel': item.nee_subnivel,\n          'tipo': item.tipo,\n          'solucionario': item.solucionario\n        };\n        me.temaSelect = item.tema_id;\n        me.mensaje = 'Se edito correctamente';\n      }\n    },\n    f_guardar: function f_guardar() {\n      var me = this;\n      if (me.attachmentArray.length == 0) {\n        me.$vs.notify({\n          text: \"Suba un archivo al menos\",\n          color: 'warning',\n          iconPack: 'feather',\n          icon: 'icon-alert-triangle'\n        });\n        return;\n      }\n      if (me.datos.tipo == '0') {\n        //datos que se obtienen de los inputs\n        if (me.datos.subnivel == '' || me.datos.subnivel == undefined || me.datos.subnivel == null) {\n          msj = 'Debe seleccionar un sub nivel por favor';\n          me.f_notificaciones(msj, 'warning', 'icon-alert-triangle');\n          return;\n        }\n      }\n      var msj;\n      if (me.datos.nombre == '') {\n        msj = 'Ingrese el nombre';\n        me.f_notificaciones(msj, 'danger', 'icon-alert-triangle');\n        return;\n      }\n      if (me.temaSelect == null || me.temaSelect == \"\" || me.temaSelect == undefined) {\n        me.f_notificaciones('Seleccione un tema por favor', 'danger', 'icon-alert-triangle');\n        return;\n      }\n      var formData = new FormData();\n      //files\n      //enviar solo los files locales\n      //local 0 = local; 1 => de la base\n      var arrayOnlyLocal = me.attachmentArray.filter(function (p) {\n        return p.local == 0;\n      });\n      if (arrayOnlyLocal.length == 0) {\n        formData.append('noSendFiles', 'yes');\n      } else {\n        var imgsEnviar = [];\n        //setear only files\n        arrayOnlyLocal.forEach(function (element) {\n          imgsEnviar.push(element.file);\n        });\n        for (var i = 0; i < arrayOnlyLocal.length; i++) {\n          formData.append('archivos[]', imgsEnviar[i]);\n        }\n      }\n      formData.append('id', me.datos.id);\n      formData.append('nombre', me.datos.nombre);\n      formData.append('descripcion', me.datos.descripcion);\n      formData.append('estado', me.datos.estado);\n      formData.append('tema_id', me.temaSelect);\n      formData.append('periodo_id', localStorage.periodo_id);\n      formData.append('user_created', me.usuario.idusuario);\n      formData.append('nee_subnivel', me.datos.subnivel);\n      formData.append('tipo', me.datos.tipo);\n      formData.append('solucionario', me.datos.solucionario);\n      var config = {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      };\n      me.$vs.loading();\n      axios.post(this.$data_url + 'api/saveNeetDocumentos', formData, config)\n      // this.$http.post(this.$server_url + 'fichas', me.datos)\n      .then(function (result) {\n        me.$vs.loading.close();\n        // console.log('ficha save', result.data);\n        me.f_notificaciones(me.mensaje, 'success', 'icon-alert-triangle');\n        me.$emit('recharge', true);\n      }).catch(function (err) {\n        me.$vs.loading.close();\n        console.log(err);\n        var msj = 'Error al registrar';\n        me.f_notificaciones(msj, 'danger', 'icon-alert-triangle');\n      });\n    },\n    f_notificaciones: function f_notificaciones(msj, color, icono) {\n      var me = this;\n      me.$vs.notify({\n        text: msj,\n        color: color,\n        iconPack: 'feather',\n        icon: icono\n      });\n      return;\n    },\n    //METODOS FILES\n    mostrarImg: function mostrarImg(e) {\n      var me = this;\n      // var archivo = document.getElementById(\"file1\").files[0];\n      var selectedFiles = e.target.files;\n      for (var i = 0; i < selectedFiles.length; i++) {\n        // this.attachmentArray.push(selectedFiles[i]);\n        var archivo = selectedFiles[i];\n        me.setFile(archivo);\n      }\n    },\n    setFile: function setFile(archivo) {\n      var me = this;\n      var tipo = \"\";\n      if (archivo.type == \"image/png\" || archivo.type == \"image/gif\" || archivo.type == \"image/jpeg\" || archivo.type == \"image/jpg\") {\n        tipo = \"img\";\n      } else {\n        tipo = \"other\";\n      }\n      var reader = new FileReader();\n      if (me) {\n        reader.readAsDataURL(archivo);\n        reader.onloadend = function () {\n          var cal = new Object();\n          cal.file = archivo;\n          cal.img = reader.result;\n          cal.tipo = tipo;\n          cal.name = archivo.name;\n          //local 0 ; 1 de la base\n          cal.local = 0;\n          me.attachmentArray.push(cal);\n        };\n      }\n      return me.attachmentArray;\n    },\n    removeItemFromArr: function removeItemFromArr(arr, item) {\n      var me = this;\n      var i = arr.indexOf(item);\n      arr.splice(i, 1);\n      if (item.local == 1) {\n        me.deleteOnlyFile(item.id);\n      }\n    },\n    deleteOnlyFile: function deleteOnlyFile(id) {\n      var me = this;\n      axios.get(this.$data_url + 'api/deleteFileNEET/' + id).then(function (res) {}).catch(function (error) {\n        console.log(error);\n      });\n    } //FIN METODOS FILES\n  }\n};",{"version":3,"names":["axios","vSelect","TabActividadesNeetVue","components","data","usuario","btn_icon","btn_color","btn_txt","mensaje","temaSelect","modalAdd","listaDatos","datos","titulo","attachmentArray","arregloNiveles","menu","created","me","JSON","parse","localStorage","getItem","mounted","f_agregar","ficha","getNiveles","props","type","Object","default","arregloTemas","Array","setTema","Number","methods","$http","get","$server_url","then","res","filter","p","id","catch","error","console","log","getFiles","files","length","forEach","element","cal","ficha_id","name","archivo","url","tipo","ext","local","push","item","undefined","nombre","descripcion","estado","nee_subnivel","solucionario","tema_id","f_guardar","$vs","notify","text","color","iconPack","icon","subnivel","msj","f_notificaciones","formData","FormData","arrayOnlyLocal","append","imgsEnviar","file","i","periodo_id","idusuario","config","headers","loading","post","$data_url","result","close","$emit","err","icono","mostrarImg","e","selectedFiles","target","setFile","reader","FileReader","readAsDataURL","onloadend","img","removeItemFromArr","arr","indexOf","splice","deleteOnlyFile"],"sources":["src/views/nee_documentos/components/CrearDocumentos.vue"],"sourcesContent":["<template>\r\n  <div class=\"mt-2\">\r\n    <vs-tabs :color=\"'#F5B041'\">\r\n      <vs-tab label=\"Registro\" icon-pack=\"feather\" icon=\"icon-file-plus\" @click=\"menu = '0';\">\r\n      </vs-tab>\r\n      <vs-tab label=\"Actividades\" icon-pack=\"feather\" icon=\"icon-award\"  @click=\"menu = '1';\">\r\n      </vs-tab>\r\n    </vs-tabs>\r\n    <div v-if=\"menu == 0\">\r\n      <div class=\"vx-row mt-2\">\r\n        <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full\" align=\"left\">\r\n          <div style=\"font-size: 12px; \">Tema: </div>\r\n          <v-select class=\"mb-4 w-full\" v-model=\"temaSelect\" :options=\"arregloTemas\" label=\"nombre\" :reduce=\"arregloTemas => arregloTemas.id\" />\r\n        </div>\r\n        <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full\" align=\"left\">\r\n          <vs-input type=\"text\" class=\"inputx w-full mb-6\" v-model=\"datos.nombre\" maxlength=\"200\" label=\"Nombre \" />\r\n        </div>\r\n        <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full\" align=\"left\">\r\n          <vs-input type=\"text\" class=\"inputx w-full mb-6\" v-model=\"datos.descripcion\" maxlength=\"200\" label=\"Descripción \" />\r\n        </div>\r\n        <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full\" align=\"left\">\r\n          <small>Solucionario</small> <br />\r\n          <form class=\"mt-2\">\r\n            <vs-radio vs-name=\"radios1solucionario\" v-model=\"datos.solucionario\" class=\"mr-2\"  vs-value=\"1\">Si</vs-radio>\r\n            <vs-radio vs-name=\"radios1solucionario\" v-model=\"datos.solucionario\" vs-value=\"0\">No</vs-radio>\r\n          </form>\r\n        </div>\r\n        <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full\" align=\"left\">\r\n          <small>Documento General</small> <br />\r\n          <form class=\"mt-2\">\r\n            <vs-radio vs-name=\"radios1tipo\" v-model=\"datos.tipo\" class=\"mr-2\"  vs-value=\"1\">Si</vs-radio>\r\n            <vs-radio vs-name=\"radios1tipo\" v-model=\"datos.tipo\" vs-value=\"0\">No</vs-radio>\r\n          </form>\r\n        </div>\r\n        <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full\" align=\"left\" v-if=\"datos.tipo == '0'\">\r\n          <small>Subnivel</small> <br />\r\n          <v-select :options=\"arregloNiveles\" :reduce=\"arregloNiveles => arregloNiveles.id\" label=\"nombre\" class=\"w-full\" v-model=\"datos.subnivel\" />\r\n        </div>\r\n        <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full\" align=\"left\">\r\n          <small>Estado</small> <br />\r\n          <form>\r\n              <vs-radio vs-name=\"radios1estado\"  class=\"mt-2 mr-2\" v-model=\"datos.estado\" vs-value=\"1\">Activo</vs-radio>\r\n              <vs-radio vs-name=\"radios1estado\"  class=\"mt-2\" v-model=\"datos.estado\" vs-value=\"0\">Inactivo</vs-radio>\r\n          </form>\r\n        </div>\r\n        <vs-divider>Archivos</vs-divider>\r\n        <div style=\"margin-top: -5px;\" class=\"ml-4\">\r\n          <p class=\"font-bold letra\">Seleccione los archivos (Máximo 20 MB):</p>\r\n          <br>\r\n          <p>\r\n            <input type=\"file\" name=\"file1\" id=\"file1\" multiple class=\"inputfile\" style=\"display: none;\" v-on:change=\"mostrarImg\">\r\n            <label for=\"file1\" class=\"farchivo\">\r\n                <ion-icon name=\"download-outline\" style=\"position: relative;top:3px;font-size: 15px;\"></ion-icon> <span class=\"ml-1\" style=\"font-size: 12px;\">Buscar Archivo</span>\r\n            </label>\r\n          </p>\r\n        </div>\r\n        <br>\r\n      </div>\r\n      <br>\r\n      <div class=\"row mt-1\">\r\n        <div class=\"flex\">\r\n          <div class=\"flex\" v-for=\"(tr,key) in attachmentArray\" :key=\"key\">\r\n              <div class=\"flex ml-2\" style=\"flex-direction: column;\">\r\n                  <!--BASE-->\r\n                  <div v-if=\"tr.local == 1\">\r\n                      <img id=\"img1\" v-if=\"tr.tipo == 'img'\" width=\"100\" class=\"img-responsive mb-2 ml-1\" :src=\"$data_url+'archivos/neetFiles/'+tr.url\" style=\"border-radius: 5px;max-height: 60px;\">\r\n                      <img v-if=\"tr.tipo == 'other'\" style=\"max-height: 60px;width: 50px;\"  src=\"@/assets/images/file-icons/doc.png\"/>\r\n                      <br><small class=\"mt-1\">{{ tr.name }}</small>\r\n                  </div>\r\n                  <!--LOCAL-->\r\n                  <div v-else>\r\n                      <img id=\"img1\" v-if=\"tr.tipo == 'img'\" width=\"100\" class=\"img-responsive mb-2 ml-1\" v-bind:src=\"tr.img\" style=\"border-radius: 5px;max-height: 60px;\">\r\n                      <img v-else style=\"max-height: 60px;width: 50px;\"  src=\"@/assets/images/file-icons/doc.png\"/>\r\n                      <small class=\"mt-1\">{{ tr.name }}</small>\r\n                  </div>\r\n              </div>\r\n              <vs-button radius type=\"line\"  @click=\"removeItemFromArr(attachmentArray,tr)\" class=\"ml-2 mt-4\" color=\"danger\" icon=\"delete\"></vs-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full mt-5\" align=\"left\">\r\n        <vs-button :icon=\"btn_icon\" class=\"ml-2\" :color=\"btn_color\" @click=\"f_guardar()\">{{ btn_txt }}</vs-button>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"menu == 1\">\r\n      <div v-if=\"ficha.id != undefined\">\r\n        <TabActividadesNeetVue :objectDocumento=\"ficha\"/>\r\n      </div>\r\n      <div v-else>\r\n        <vs-alert title=\"Mensaje\" color=\"rgb(231, 154, 23)\" active=\"true\">\r\n          Registre el documento para ingresar actividades por favor\r\n        </vs-alert>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select';\r\nimport TabActividadesNeetVue from './TabActividadesNeet.vue';\r\nexport default {\r\n  components: {\r\n    'v-select': vSelect,\r\n    TabActividadesNeetVue\r\n  },\r\n  data() {\r\n      return {\r\n        usuario:[],\r\n        btn_icon: '',\r\n        btn_color: '',\r\n        btn_txt: '',\r\n        mensaje: '',\r\n        temaSelect: {},\r\n        modalAdd: false,\r\n        listaDatos: [],\r\n        datos: {\r\n        },\r\n        titulo: '',\r\n        //variables de files\r\n        attachmentArray:[],\r\n        //fin variables de files\r\n        //variables para subniveles\r\n        arregloNiveles:[],\r\n        //fin variables para subniveles\r\n        menu:0,\r\n      }\r\n  },\r\n  created(){\r\n    let me = this\r\n    me.usuario = JSON.parse(localStorage.getItem(\"usuario\"))\r\n  },\r\n  mounted() {\r\n    let me = this;\r\n    me.f_agregar(me.ficha)\r\n    me.getNiveles()\r\n  },\r\n  props:{\r\n    ficha:{\r\n      type:Object,\r\n      default:{}\r\n    },\r\n    arregloTemas:{\r\n      type:Array,\r\n      default:[]\r\n    },\r\n    setTema:{\r\n      type:Number,\r\n      default:0,\r\n    }\r\n  },\r\n  methods: {\r\n    getNiveles(){\r\n      let me = this\r\n      this.$http.get(this.$server_url+`neetTema?listadoSubniveles=yes`)\r\n      .then(res => {\r\n        me.arregloNiveles = res.data.filter(p => p.id != '5');\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error)\r\n        })\r\n    },\r\n    getFiles(){\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'neetTema/'+me.ficha.id)\r\n        .then(res => {\r\n          let datos         = res.data.files\r\n          if(me.datos.length == 0){\r\n            me.attachmentArray = []\r\n            return\r\n          }\r\n          datos.forEach(element => {\r\n            var cal = new Object();\r\n            cal.id          = element.id\r\n            cal.ficha_id    = element.ficha_id\r\n            cal.name        = element.archivo\r\n            cal.url         = element.url\r\n            let tipo = \"\"\r\n            if(element.ext == \"PNG\" || element.ext == \"png\" || element.ext == \"JPEG\" || element.ext == \"jpeg\" || element.ext == \"JPG\" || element.ext == \"jpg\"){\r\n                tipo = \"img\"\r\n            }\r\n            else{\r\n                tipo = \"other\"\r\n            }\r\n            cal.tipo        = tipo\r\n            cal.local       = 1\r\n            me.attachmentArray.push(cal)\r\n          });\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        })\r\n    },\r\n    f_agregar() {\r\n      let me = this;\r\n      let item = me.ficha\r\n      me.datos = {\r\n        'id': 0,\r\n        'nombre': '',\r\n        'descripcion': '',\r\n        'estado': 1,\r\n        'tipo' :0,\r\n        'subnivel':'',\r\n        'solucionario':'0'\r\n      }\r\n      me.btn_icon = 'save';\r\n      me.btn_color = 'success';\r\n      me.btn_txt = 'Agregar';\r\n      me.titulo = 'Agregar';\r\n      me.mensaje = 'Se registrado correctamente';\r\n      me.temaSelect = me.setTema\r\n      if (item.id != undefined) {\r\n        me.getFiles()\r\n        me.btn_icon = 'edit';\r\n        me.btn_color = 'warning';\r\n        me.btn_txt = 'Editar';\r\n        me.titulo = 'Editar';\r\n        me.datos = {\r\n          'id':           item.id,\r\n          'nombre':       item.nombre,\r\n          'descripcion':  item.descripcion,\r\n          'estado':       item.estado,\r\n          'subnivel':     item.nee_subnivel,\r\n          'tipo':         item.tipo,\r\n          'solucionario': item.solucionario\r\n        }\r\n        me.temaSelect     = item.tema_id\r\n        me.mensaje = 'Se edito correctamente';\r\n      }\r\n    },\r\n    f_guardar() {\r\n      let me = this;\r\n      if(me.attachmentArray.length == 0){\r\n        me.$vs.notify({\r\n          text: \"Suba un archivo al menos\",\r\n          color: 'warning',\r\n          iconPack: 'feather',\r\n          icon: 'icon-alert-triangle'\r\n        })\r\n        return\r\n      }\r\n      if(me.datos.tipo == '0'){\r\n        //datos que se obtienen de los inputs\r\n        if(me.datos.subnivel == '' || me.datos.subnivel == undefined || me.datos.subnivel == null){\r\n          msj = 'Debe seleccionar un sub nivel por favor';\r\n          me.f_notificaciones(msj, 'warning', 'icon-alert-triangle')\r\n          return;\r\n        }\r\n      }\r\n      let msj;\r\n      if (me.datos.nombre == '') {\r\n        msj = 'Ingrese el nombre';\r\n        me.f_notificaciones(msj, 'danger', 'icon-alert-triangle')\r\n        return\r\n      }\r\n      if(me.temaSelect == null || me.temaSelect == \"\" || me.temaSelect == undefined){\r\n        me.f_notificaciones('Seleccione un tema por favor', 'danger', 'icon-alert-triangle')\r\n        return\r\n      }\r\n      let formData = new FormData();\r\n      //files\r\n      //enviar solo los files locales\r\n      //local 0 = local; 1 => de la base\r\n      let arrayOnlyLocal = me.attachmentArray.filter(p => p.local == 0)\r\n      if(arrayOnlyLocal.length == 0){\r\n          formData.append('noSendFiles',   'yes');\r\n      }else{\r\n        let imgsEnviar = []\r\n        //setear only files\r\n        arrayOnlyLocal.forEach(element => {\r\n          imgsEnviar.push(element.file)\r\n        });\r\n        for(let i=0; i<arrayOnlyLocal.length;i++){\r\n          formData.append('archivos[]',   imgsEnviar[i]);\r\n        }\r\n      }\r\n      formData.append('id',               me.datos.id)\r\n      formData.append('nombre',           me.datos.nombre)\r\n      formData.append('descripcion',      me.datos.descripcion)\r\n      formData.append('estado',           me.datos.estado)\r\n      formData.append('tema_id',          me.temaSelect)\r\n      formData.append('periodo_id',       localStorage.periodo_id)\r\n      formData.append('user_created',     me.usuario.idusuario)\r\n      formData.append('nee_subnivel',     me.datos.subnivel);\r\n      formData.append('tipo',             me.datos.tipo)\r\n      formData.append('solucionario',     me.datos.solucionario)\r\n      const config = { headers: { 'Content-Type': 'multipart/form-data' } };\r\n      me.$vs.loading();\r\n      axios.post(this.$data_url + 'api/saveNeetDocumentos', formData, config)\r\n      // this.$http.post(this.$server_url + 'fichas', me.datos)\r\n          .then((result) => {\r\n              me.$vs.loading.close();\r\n              // console.log('ficha save', result.data);\r\n              me.f_notificaciones(me.mensaje, 'success', 'icon-alert-triangle');\r\n              me.$emit('recharge',true)\r\n          })\r\n          .catch((err) => {\r\n              me.$vs.loading.close();\r\n              console.log(err)\r\n              let msj = 'Error al registrar';\r\n              me.f_notificaciones(msj, 'danger', 'icon-alert-triangle')\r\n          })\r\n    },\r\n    f_notificaciones(msj, color, icono) {\r\n      let me = this;\r\n      me.$vs.notify({\r\n        text: msj,\r\n        color: color,\r\n        iconPack: 'feather',\r\n        icon: icono\r\n      })\r\n      return;\r\n    },\r\n    //METODOS FILES\r\n    mostrarImg(e){\r\n      let me = this;\r\n      // var archivo = document.getElementById(\"file1\").files[0];\r\n      let selectedFiles = e.target.files;\r\n      for(let i=0;i<selectedFiles.length;i++){\r\n        // this.attachmentArray.push(selectedFiles[i]);\r\n        let archivo = selectedFiles[i]\r\n        me.setFile(archivo)\r\n      }\r\n    },\r\n    setFile(archivo){\r\n      let me = this;\r\n      let tipo =\"\"\r\n      if(archivo.type == \"image/png\" || archivo.type == \"image/gif\" || archivo.type == \"image/jpeg\" || archivo.type == \"image/jpg\"){\r\n          tipo = \"img\"\r\n      }\r\n      else{\r\n          tipo = \"other\"\r\n      }\r\n      var reader = new FileReader();\r\n      if (me) {\r\n        reader.readAsDataURL(archivo );\r\n        reader.onloadend = function () {\r\n          var cal      = new Object();\r\n          cal.file     = archivo\r\n          cal.img      = reader.result\r\n          cal.tipo     = tipo\r\n          cal.name     = archivo.name\r\n          //local 0 ; 1 de la base\r\n          cal.local    = 0\r\n          me.attachmentArray.push(cal)\r\n        }\r\n      }\r\n      return me.attachmentArray\r\n    },\r\n    removeItemFromArr (arr, item) {\r\n      let me = this;\r\n      const i = arr.indexOf(item)\r\n      arr.splice(i, 1)\r\n      if(item.local == 1){\r\n          me.deleteOnlyFile(item.id)\r\n      }\r\n    },\r\n    deleteOnlyFile(id){\r\n      let me = this;\r\n      axios.get(this.$data_url + 'api/deleteFileNEET/'+id)\r\n      .then(res => {\r\n      })\r\n      .catch(error => {\r\n          console.log(error)\r\n      })\r\n    }\r\n    //FIN METODOS FILES\r\n  },\r\n}\r\n</script>\r\n<style scoped>\r\n.farchivo{\r\n  margin-top: 50px!important;\r\n  cursor: pointer;\r\n  /* color: gray; */\r\n   width: 200px;\r\n  font-size: 11px;\r\n  line-height: 80%;\r\n  transition: 0.5s ease all;\r\n  padding: 10px 10px;\r\n  background-color: DodgerBlue;\r\n  border: none;\r\n  color: white;\r\n  border-radius: 5px;\r\n  margin-left: 10px;\r\n}\r\n.farchivo:hover{\r\n  background-color: #7C7B89;\r\n  color:white;\r\n  border-radius: 5px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}