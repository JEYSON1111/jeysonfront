{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\biblioteca\\content\\View\\ContentView.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\biblioteca\\content\\View\\ContentView.vue","mtime":1712682815557},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["export default {\n  name: 'ContentView',\n  components: {},\n  data: function data() {\n    return {\n      contenido: {},\n      listaContenidos: [],\n      popupActivo: false,\n      cUser: null,\n      usuarioCrea: null\n    };\n  },\n  methods: {\n    // Función para copiar el contenido al portapapeles\n    handleCopy: function handleCopy() {\n      var me = this;\n      var content = document.getElementById('content'); // Obtiene el elemento con id 'content'\n\n      var range = document.createRange(); // Crea un rango de selección\n\n      range.selectNode(content); // Selecciona el contenido del elemento 'content'\n\n      window.getSelection().removeAllRanges(); // Elimina todas las selecciones existentes\n\n      window.getSelection().addRange(range); // Agrega el rango de selección creado\n\n      document.execCommand('copy'); // Copia el contenido seleccionado\n\n      window.getSelection().removeAllRanges(); // Elimina todas las selecciones existentes\n\n      me.$vs.notify({\n        title: 'Copiado',\n        text: 'Contenido copiado al portapapeles',\n        color: 'success',\n        position: 'top-right'\n      });\n    },\n    getContenido: function getContenido() {\n      var me = this;\n      me.$vs.loading(); // Muestra el indicador de carga\n\n      // Realiza una petición para obtener el contenido\n      me.$http.get(\"\".concat(me.$server_url, \"biblioteca/contenido?id=\").concat(me.$route.params.id)).then(function (res) {\n        me.contenido = res.data.data; // Asigna los datos del contenido a la variable 'contenido'\n\n        // Asigna los datos del usuario que creó el contenido a la variable 'usuarioCrea'\n        me.usuarioCrea = {\n          nombre: res.data.data.apellidos + ' ' + res.data.data.nombres,\n          fecha: res.data.data.created_at\n        };\n        me.listaContenidos = JSON.parse(res.data.data.contenido); // Parsea la cadena JSON a un objeto\n      }).catch(function (err) {\n        me.$vs.notify({\n          title: 'Error',\n          text: err.message,\n          color: 'danger',\n          position: 'top-right'\n        });\n      }).finally(function () {\n        me.$vs.loading.close(); // Cierra el indicador de carga\n      });\n    },\n    editar: function editar() {\n      var me = this;\n      me.$router.push({\n        name: 'biblioteca-form',\n        params: {\n          id: me.$route.params.id\n        }\n      }); // Redirecciona a la ruta de edición de contenido\n    },\n    eliminar: function eliminar() {\n      var me = this;\n      // Muestra un diálogo de confirmación para eliminar el contenido\n      me.$vs.dialog({\n        title: 'Eliminar contenido',\n        text: '¿Está seguro que desea eliminar este contenido?',\n        accept: me.eliminarContenido // Si el usuario acepta, llama al método para eliminar el contenido\n      });\n    },\n    eliminarContenido: function eliminarContenido() {\n      var me = this;\n\n      // Realiza una petición para eliminar el contenido\n      me.$http.delete(\"\".concat(me.$server_url, \"biblioteca/contenido/\").concat(me.$route.params.id)).then(function (res) {\n        me.$vs.notify({\n          title: 'Éxito',\n          text: res.data.message,\n          color: 'success',\n          position: 'top-right'\n        });\n        me.$router.push({\n          name: 'biblioteca'\n        }); // Redirecciona a la ruta de biblioteca\n      }).catch(function (err) {\n        me.$vs.notify({\n          title: 'Error',\n          text: err.message,\n          color: 'danger',\n          position: 'top-right'\n        });\n      });\n    }\n  },\n  created: function created() {\n    this.cUser = JSON.parse(localStorage.getItem('usuario')); // Obtiene el usuario actual\n  },\n  mounted: function mounted() {\n    this.getContenido(); // Obtiene el contenido\n  }\n};",{"version":3,"names":["name","components","data","contenido","listaContenidos","popupActivo","cUser","usuarioCrea","methods","handleCopy","me","content","document","getElementById","range","createRange","selectNode","window","getSelection","removeAllRanges","addRange","execCommand","$vs","notify","title","text","color","position","getContenido","loading","$http","get","concat","$server_url","$route","params","id","then","res","nombre","apellidos","nombres","fecha","created_at","JSON","parse","catch","err","message","finally","close","editar","$router","push","eliminar","dialog","accept","eliminarContenido","delete","created","localStorage","getItem","mounted"],"sources":["src/views/biblioteca/content/View/ContentView.vue"],"sourcesContent":["<template>\r\n  <div class=\"w-full h-screen p-4 flex flex-col bg-grey-light overflow-y-auto\">\r\n    <vs-row>\r\n      <vs-col class=\"w-full flex justify-between mb-2\">\r\n        <vs-button type=\"border\" color=\"dark\" @click=\"$router.go(-1)\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 320 512\">\r\n            <path\r\n              d=\"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z\" />\r\n          </svg>\r\n          &nbsp;\r\n          Regresar\r\n        </vs-button>\r\n        <div class=\"flex space-x-2\">\r\n          <vs-button v-if=\"cUser.id_group !== 28\" @click=\"eliminar\" color=\"danger\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\" fill=\"#fff\">\r\n              <path\r\n                d=\"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z\" />\r\n            </svg>\r\n            &nbsp;\r\n            Eliminar\r\n          </vs-button>\r\n          <vs-button v-if=\"cUser.id_group !== 28\" @click=\"editar\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\" fill=\"#fff\">\r\n              <path\r\n                d=\"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z\" />\r\n            </svg>\r\n            &nbsp;\r\n            Editar\r\n          </vs-button>\r\n        </div>\r\n      </vs-col>\r\n      <vs-col class=\"w-full h-full\">\r\n        <vs-card>\r\n          <vs-button @click=\"handleCopy\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\" fill=\"#fff\">\r\n              <path\r\n                d=\"M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z\" />\r\n            </svg>\r\n            &nbsp;\r\n            Copiar todo\r\n          </vs-button>\r\n          <vs-row id=\"content\">\r\n            <vs-col class=\"w-full flex justify-between items-baseline\">\r\n              <span class=\"font-bold text-lg\">\r\n                {{ contenido.nombrearea }}\r\n              </span>\r\n              <span class=\"font-medium\">\r\n                {{ contenido.nombrelibro }}\r\n              </span>\r\n            </vs-col>\r\n            <vs-col class=\"w-full\">\r\n              <span class=\"font-bold text-lg\">\r\n                Unidad: <span class=\"font-medium\">{{ contenido.unidad }} - {{ contenido.nombre_unidad }}</span>\r\n              </span>\r\n            </vs-col>\r\n            <vs-col v-for=\"(contenido, index) in listaContenidos\" :key=\"index\" class=\"mt-2\">\r\n              <span v-if=\"contenido.tipo !== 'editor de texto'\" class=\"font-bold\">\r\n                {{ contenido.label }}: <span class=\"font-medium\">{{ contenido.valor }}</span>\r\n              </span>\r\n              <div v-else-if=\"contenido.tipo === 'editor de texto' && contenido.valor\" class=\"font-bold\">\r\n                {{ contenido.label }}:\r\n                <span class=\"font-medium\" v-html=\"contenido.valor\"></span>\r\n              </div>\r\n            </vs-col>\r\n          </vs-row>\r\n        </vs-card>\r\n        <div class=\"-mt-4 flex flex-col\">\r\n          <span class=\"text-sm font-bold\">\r\n            Creado por: <span class=\"font-medium\">{{ usuarioCrea.nombre ? usuarioCrea.nombre : '' }}</span>\r\n          </span>\r\n          <span class=\"text-sm font-bold\">\r\n            Creado en: <span class=\"font-medium\">{{ usuarioCrea.fecha ? usuarioCrea.fecha : '' }}</span>\r\n          </span>\r\n        </div>\r\n      </vs-col>\r\n    </vs-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'ContentView',\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      contenido: {},\r\n      listaContenidos: [],\r\n      popupActivo: false,\r\n      cUser: null,\r\n      usuarioCrea: null,\r\n    }\r\n  },\r\n  methods: {\r\n    // Función para copiar el contenido al portapapeles\r\n    handleCopy() {\r\n      const me = this;\r\n      const content = document.getElementById('content'); // Obtiene el elemento con id 'content'\r\n\r\n      const range = document.createRange(); // Crea un rango de selección\r\n\r\n      range.selectNode(content); // Selecciona el contenido del elemento 'content'\r\n\r\n      window.getSelection().removeAllRanges(); // Elimina todas las selecciones existentes\r\n\r\n      window.getSelection().addRange(range); // Agrega el rango de selección creado\r\n\r\n      document.execCommand('copy'); // Copia el contenido seleccionado\r\n\r\n      window.getSelection().removeAllRanges(); // Elimina todas las selecciones existentes\r\n\r\n      me.$vs.notify({\r\n        title: 'Copiado',\r\n        text: 'Contenido copiado al portapapeles',\r\n        color: 'success',\r\n        position: 'top-right',\r\n      });\r\n    },\r\n    getContenido() {\r\n      const me = this;\r\n\r\n      me.$vs.loading(); // Muestra el indicador de carga\r\n\r\n      // Realiza una petición para obtener el contenido\r\n      me.$http.get(`${me.$server_url}biblioteca/contenido?id=${me.$route.params.id}`).then((res) => {\r\n        me.contenido = res.data.data; // Asigna los datos del contenido a la variable 'contenido'\r\n\r\n        // Asigna los datos del usuario que creó el contenido a la variable 'usuarioCrea'\r\n        me.usuarioCrea = {\r\n          nombre: res.data.data.apellidos + ' ' + res.data.data.nombres,\r\n          fecha: res.data.data.created_at,\r\n        }\r\n\r\n        me.listaContenidos = JSON.parse(res.data.data.contenido); // Parsea la cadena JSON a un objeto\r\n      }).catch((err) => {\r\n        me.$vs.notify({\r\n          title: 'Error',\r\n          text: err.message,\r\n          color: 'danger',\r\n          position: 'top-right',\r\n        });\r\n      }).finally(() => {\r\n        me.$vs.loading.close(); // Cierra el indicador de carga\r\n      });\r\n    },\r\n    editar() {\r\n      const me = this;\r\n      me.$router.push({ name: 'biblioteca-form', params: { id: me.$route.params.id } }); // Redirecciona a la ruta de edición de contenido\r\n    },\r\n    eliminar() {\r\n      const me = this;\r\n      // Muestra un diálogo de confirmación para eliminar el contenido\r\n      me.$vs.dialog({\r\n        title: 'Eliminar contenido',\r\n        text: '¿Está seguro que desea eliminar este contenido?',\r\n        accept: me.eliminarContenido, // Si el usuario acepta, llama al método para eliminar el contenido\r\n      });\r\n    },\r\n    eliminarContenido() {\r\n      const me = this;\r\n\r\n      // Realiza una petición para eliminar el contenido\r\n      me.$http.delete(`${me.$server_url}biblioteca/contenido/${me.$route.params.id}`).then((res) => {\r\n        me.$vs.notify({\r\n          title: 'Éxito',\r\n          text: res.data.message,\r\n          color: 'success',\r\n          position: 'top-right',\r\n        });\r\n        me.$router.push({ name: 'biblioteca' }); // Redirecciona a la ruta de biblioteca\r\n      }).catch((err) => {\r\n        me.$vs.notify({\r\n          title: 'Error',\r\n          text: err.message,\r\n          color: 'danger',\r\n          position: 'top-right',\r\n        });\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.cUser = JSON.parse(localStorage.getItem('usuario')); // Obtiene el usuario actual\r\n  },\r\n  mounted() {\r\n    this.getContenido(); // Obtiene el contenido\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}