{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\salle\\administrador\\periodos\\PeriodoEvaluacionSelect.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\salle\\administrador\\periodos\\PeriodoEvaluacionSelect.vue","mtime":1712682816529},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport vSelect from 'vue-select';\nexport default {\n  data: function data() {\n    return {\n      usuario: [],\n      arregloPeriodos: [],\n      periodoSelect: '',\n      nombrePeriodoEvaluacion: '',\n      errorPeriodoEvaluacion: false\n    };\n  },\n  components: {\n    vSelect: vSelect\n  },\n  props: {\n    mobil: {\n      type: Number,\n      default: 0\n    }\n  },\n  mounted: function mounted() {\n    var me = this;\n    me.usuario = JSON.parse(localStorage.getItem(\"usuario\"));\n    if (me.usuario.id_group == 12 || me.usuario.id_group == 13 || me.usuario.id_group == 6) {\n      me.getPeriodosEvaluacion();\n    }\n  },\n  computed: {\n    windowWidth: function windowWidth() {\n      return this.$store.state.windowWidth;\n    }\n  },\n  methods: {\n    getPeriodosEvaluacion: function getPeriodosEvaluacion() {\n      var me = this;\n      me.errorPeriodoEvaluacion = false;\n      this.$http.get(this.$server_url + 'salle/periodos').then(function (response) {\n        me.arregloPeriodos = response.data;\n        //docentes\n        if (me.usuario.id_group == 13 || me.usuario.id_group == 6) {\n          var datos = response.data;\n          if (datos.length > 0) {\n            var searcEvaluacionActiva = datos.filter(function (p) {\n              return p.estado == 1;\n            });\n            if (searcEvaluacionActiva.length > 0) {\n              me.nombrePeriodoEvaluacion = searcEvaluacionActiva[0].nombre;\n              localStorage.setItem('EvaluacionSelectSalle', searcEvaluacionActiva[0].id);\n              me.periodoSelect = searcEvaluacionActiva[0].id;\n            } else {\n              me.errorPeriodoEvaluacion = true;\n            }\n          } else {\n            me.errorPeriodoEvaluacion = true;\n          }\n          return;\n        }\n        var getEvaluacionSelect = localStorage.EvaluacionSelectSalle;\n        //si ya existe el periodo seleccionado lo asigno\n        if (getEvaluacionSelect) {\n          me.periodoSelect = parseInt(getEvaluacionSelect);\n          return;\n        }\n        //si no existe le pongo el ultimo periodo\n        if (me.arregloPeriodos.length > 0) {\n          me.periodoSelect = me.arregloPeriodos[0].id;\n          localStorage.setItem('EvaluacionSelectSalle', me.arregloPeriodos[0].id);\n        }\n      }).catch(function (error) {});\n    },\n    changeEvaluacionPeriodo: function changeEvaluacionPeriodo() {\n      var me = this;\n      console.log(\"rap\", me.periodoSelect);\n      if (me.periodoSelect == null || me.periodoSelect == \"\" || me.periodoSelect == undefined) {\n        localStorage.removeItem('EvaluacionSelectSalle');\n        setInterval(function () {\n          location.reload();\n        }, 1000);\n        return;\n      }\n      localStorage.setItem('EvaluacionSelectSalle', me.periodoSelect);\n      location.reload();\n    }\n  }\n};",{"version":3,"names":["vSelect","data","usuario","arregloPeriodos","periodoSelect","nombrePeriodoEvaluacion","errorPeriodoEvaluacion","components","props","mobil","type","Number","default","mounted","me","JSON","parse","localStorage","getItem","id_group","getPeriodosEvaluacion","computed","windowWidth","$store","state","methods","$http","get","$server_url","then","response","datos","length","searcEvaluacionActiva","filter","p","estado","nombre","setItem","id","getEvaluacionSelect","EvaluacionSelectSalle","parseInt","catch","error","changeEvaluacionPeriodo","console","log","undefined","removeItem","setInterval","location","reload"],"sources":["src/views/salle/administrador/periodos/PeriodoEvaluacionSelect.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div v-if=\"windowWidth < 992 && usuario.id_group == 12\">\r\n      <vs-dropdown vs-custom-content vs-trigger-click>\r\n        <vs-button type=\"filled\" class=\"a-icon\">\r\n          <p v-for=\"(item,key) in arregloPeriodos\" :key=\"key\">\r\n            <span v-if=\"item.id == periodoSelect\"><span class=\"ml-1\">{{ item.nombre }}</span></span>\r\n          </p>\r\n          <vs-icon class=\"\" icon=\"expand_more\"></vs-icon>\r\n        </vs-button>\r\n        <vs-dropdown-menu class=\"loginx\">\r\n          <div v-for=\"(item,key) in arregloPeriodos\" :key=\"key\">\r\n            <vs-dropdown-item style=\"width:200px; margin-top: 5px;\" @click=\"periodoSelect = item.id;changeEvaluacionPeriodo();\">\r\n                <span class=\"feather icon icon-check\"></span> {{ item.nombre }}\r\n            </vs-dropdown-item>\r\n          </div>\r\n        </vs-dropdown-menu>\r\n      </vs-dropdown>\r\n    </div>\r\n    <div v-if=\"windowWidth < 992 && usuario.id_group == 13\">\r\n      <vs-dropdown vs-custom-content vs-trigger-click>\r\n        <vs-button type=\"filled\" class=\"a-icon\">\r\n          <p v-for=\"(item,key) in arregloPeriodos\" :key=\"key\">\r\n            <span v-if=\"item.id == periodoSelect\"><span class=\"ml-1\">{{ item.nombre }}</span></span>\r\n          </p>\r\n          <!-- <vs-icon class=\"\" icon=\"expand_more\"></vs-icon> -->\r\n        </vs-button>\r\n        <!-- <vs-dropdown-menu class=\"loginx\">\r\n          <div v-for=\"(item,key) in arregloPeriodos\" :key=\"key\">\r\n            <vs-dropdown-item style=\"width:200px; margin-top: 5px;\" @click=\"periodoSelect = item.id;changeEvaluacionPeriodo();\">\r\n                <span class=\"feather icon icon-check\"></span> {{ item.nombre }}\r\n            </vs-dropdown-item>\r\n          </div>\r\n        </vs-dropdown-menu> -->\r\n      </vs-dropdown>\r\n    </div>\r\n    <div v-if=\"windowWidth >= 992\">\r\n      <div v-if=\"usuario.id_group == 13\">\r\n          <vx-card v-if=\"errorPeriodoEvaluacion == false\">\r\n            <p class=\"text-success font-bold\"><ion-icon name=\"star-outline\" style=\"position: relative;top:1px;\"></ion-icon> Periodo Evaluacion: {{ nombrePeriodoEvaluacion }}</p>\r\n          </vx-card>\r\n          <vs-alert active=\"true\" color=\"warning\" v-else>\r\n            No hay un período activo configurado\r\n          </vs-alert>\r\n      </div>\r\n      <div v-if=\"usuario.id_group == 12\" class=\"flex mt-5 ml-3\" style=\"width: 500px;border-radius:10px;background: #f2f2f2;\">\r\n        <div style=\"width: 40%;\">\r\n          <p class=\"mt-2 ml-1 text-success\"> <ion-icon name=\"contract-outline\"></ion-icon> Período Evaluación </p>\r\n        </div>\r\n        <div style=\"width: 60%;\">\r\n          <v-select :options=\"arregloPeriodos\" :reduce=\"arregloPeriodos => arregloPeriodos.id\" @input=\"changeEvaluacionPeriodo()\" label=\"nombre\" class=\"w-full\" v-model=\"periodoSelect\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport vSelect from 'vue-select'\r\nexport default{\r\n  data(){\r\n    return{\r\n      usuario:[],\r\n      arregloPeriodos:[],\r\n      periodoSelect:'',\r\n      nombrePeriodoEvaluacion:'',\r\n      errorPeriodoEvaluacion:false,\r\n    }\r\n  },\r\n  components:{\r\n    vSelect,\r\n  },\r\n  props:{\r\n    mobil:{\r\n      type:Number,\r\n      default:0\r\n    },\r\n  },\r\n  mounted(){\r\n    let me = this\r\n    me.usuario = JSON.parse(localStorage.getItem(\"usuario\"))\r\n    if(me.usuario.id_group == 12 || me.usuario.id_group == 13 || me.usuario.id_group == 6){\r\n      me.getPeriodosEvaluacion()\r\n    }\r\n  },\r\n  computed:{\r\n    windowWidth() {\r\n      return this.$store.state.windowWidth;\r\n    },\r\n  },\r\n  methods:{\r\n    getPeriodosEvaluacion() {\r\n      let me = this;\r\n      me.errorPeriodoEvaluacion = false;\r\n      this.$http.get(this.$server_url+'salle/periodos')\r\n        .then(function (response) {\r\n          me.arregloPeriodos = response.data;\r\n          //docentes\r\n          if(me.usuario.id_group == 13 || me.usuario.id_group == 6){\r\n            let datos  = response.data\r\n            if(datos.length > 0){\r\n              let searcEvaluacionActiva = datos.filter(p => p.estado == 1)\r\n              if(searcEvaluacionActiva.length > 0){\r\n                me.nombrePeriodoEvaluacion  = searcEvaluacionActiva[0].nombre\r\n                localStorage.setItem('EvaluacionSelectSalle',searcEvaluacionActiva[0].id)\r\n                me.periodoSelect = searcEvaluacionActiva[0].id\r\n              }else{\r\n                me.errorPeriodoEvaluacion = true\r\n              }\r\n            }else{\r\n              me.errorPeriodoEvaluacion = true\r\n            }\r\n            return\r\n          }\r\n          let getEvaluacionSelect = localStorage.EvaluacionSelectSalle\r\n          //si ya existe el periodo seleccionado lo asigno\r\n          if(getEvaluacionSelect){\r\n            me.periodoSelect = parseInt(getEvaluacionSelect)\r\n            return\r\n          }\r\n          //si no existe le pongo el ultimo periodo\r\n          if(me.arregloPeriodos.length > 0){\r\n            me.periodoSelect = me.arregloPeriodos[0].id\r\n            localStorage.setItem('EvaluacionSelectSalle',me.arregloPeriodos[0].id)\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n        })\r\n    },\r\n    changeEvaluacionPeriodo(){\r\n      let me = this;\r\n      console.log(\"rap\",me.periodoSelect)\r\n      if(me.periodoSelect == null || me.periodoSelect == \"\" || me.periodoSelect == undefined){\r\n        localStorage.removeItem('EvaluacionSelectSalle')\r\n        setInterval(() => {\r\n          location.reload()\r\n        }, 1000)\r\n        return\r\n      }\r\n      localStorage.setItem('EvaluacionSelectSalle',me.periodoSelect)\r\n      location.reload()\r\n    },\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";AAyDA,OAAAA,OAAA;AACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,OAAA;MACAC,eAAA;MACAC,aAAA;MACAC,uBAAA;MACAC,sBAAA;IACA;EACA;EACAC,UAAA;IACAP,OAAA,EAAAA;EACA;EACAQ,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,IAAAC,EAAA;IACAA,EAAA,CAAAZ,OAAA,GAAAa,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA,IAAAJ,EAAA,CAAAZ,OAAA,CAAAiB,QAAA,UAAAL,EAAA,CAAAZ,OAAA,CAAAiB,QAAA,UAAAL,EAAA,CAAAZ,OAAA,CAAAiB,QAAA;MACAL,EAAA,CAAAM,qBAAA;IACA;EACA;EACAC,QAAA;IACAC,WAAA,WAAAA,YAAA;MACA,YAAAC,MAAA,CAAAC,KAAA,CAAAF,WAAA;IACA;EACA;EACAG,OAAA;IACAL,qBAAA,WAAAA,sBAAA;MACA,IAAAN,EAAA;MACAA,EAAA,CAAAR,sBAAA;MACA,KAAAoB,KAAA,CAAAC,GAAA,MAAAC,WAAA,qBACAC,IAAA,WAAAC,QAAA;QACAhB,EAAA,CAAAX,eAAA,GAAA2B,QAAA,CAAA7B,IAAA;QACA;QACA,IAAAa,EAAA,CAAAZ,OAAA,CAAAiB,QAAA,UAAAL,EAAA,CAAAZ,OAAA,CAAAiB,QAAA;UACA,IAAAY,KAAA,GAAAD,QAAA,CAAA7B,IAAA;UACA,IAAA8B,KAAA,CAAAC,MAAA;YACA,IAAAC,qBAAA,GAAAF,KAAA,CAAAG,MAAA,WAAAC,CAAA;cAAA,OAAAA,CAAA,CAAAC,MAAA;YAAA;YACA,IAAAH,qBAAA,CAAAD,MAAA;cACAlB,EAAA,CAAAT,uBAAA,GAAA4B,qBAAA,IAAAI,MAAA;cACApB,YAAA,CAAAqB,OAAA,0BAAAL,qBAAA,IAAAM,EAAA;cACAzB,EAAA,CAAAV,aAAA,GAAA6B,qBAAA,IAAAM,EAAA;YACA;cACAzB,EAAA,CAAAR,sBAAA;YACA;UACA;YACAQ,EAAA,CAAAR,sBAAA;UACA;UACA;QACA;QACA,IAAAkC,mBAAA,GAAAvB,YAAA,CAAAwB,qBAAA;QACA;QACA,IAAAD,mBAAA;UACA1B,EAAA,CAAAV,aAAA,GAAAsC,QAAA,CAAAF,mBAAA;UACA;QACA;QACA;QACA,IAAA1B,EAAA,CAAAX,eAAA,CAAA6B,MAAA;UACAlB,EAAA,CAAAV,aAAA,GAAAU,EAAA,CAAAX,eAAA,IAAAoC,EAAA;UACAtB,YAAA,CAAAqB,OAAA,0BAAAxB,EAAA,CAAAX,eAAA,IAAAoC,EAAA;QACA;MACA,GACAI,KAAA,WAAAC,KAAA,GACA;IACA;IACAC,uBAAA,WAAAA,wBAAA;MACA,IAAA/B,EAAA;MACAgC,OAAA,CAAAC,GAAA,QAAAjC,EAAA,CAAAV,aAAA;MACA,IAAAU,EAAA,CAAAV,aAAA,YAAAU,EAAA,CAAAV,aAAA,UAAAU,EAAA,CAAAV,aAAA,IAAA4C,SAAA;QACA/B,YAAA,CAAAgC,UAAA;QACAC,WAAA;UACAC,QAAA,CAAAC,MAAA;QACA;QACA;MACA;MACAnC,YAAA,CAAAqB,OAAA,0BAAAxB,EAAA,CAAAV,aAAA;MACA+C,QAAA,CAAAC,MAAA;IACA;EACA;AACA","ignoreList":[]}]}