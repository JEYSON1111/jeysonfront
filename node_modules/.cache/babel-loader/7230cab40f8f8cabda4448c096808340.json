{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\home\\neet\\components\\DeceAsigna.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\home\\neet\\components\\DeceAsigna.vue","mtime":1712682816003},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import UserRepository from \"../../../../repositories/UserRepository\";\nimport vSelect from 'vue-select';\nexport default {\n  components: {\n    vSelect: vSelect\n  },\n  data: function data() {\n    return {\n      usuario: [],\n      arregloDocentes: [],\n      docentesAsignadosSelect: [],\n      msg: ''\n    };\n  },\n  props: {\n    objectNecesidad: {\n      type: Object,\n      default: {}\n    }\n  },\n  created: function created() {\n    var me = this;\n    me.usuario = JSON.parse(localStorage.getItem(\"usuario\"));\n  },\n  mounted: function mounted() {\n    var me = this;\n    me.getUsuarios();\n    me.getAsignados();\n  },\n  methods: {\n    getUsuarios: function getUsuarios() {\n      var me = this;\n      me.$vs.loading();\n      UserRepository.getUsuariosXRolxInstitucion(6, me.usuario.institucion_idInstitucion).then(function (p) {\n        me.$vs.loading.close();\n        me.arregloDocentes = p.data;\n      });\n    },\n    getAsignados: function getAsignados() {\n      var me = this;\n      me.arregloAsignados = [];\n      var periodo = localStorage.periodo_id;\n      var neet_upload_id = me.objectNecesidad.neet_upload_id;\n      var institucion_idInstitucion = me.usuario.institucion_idInstitucion;\n      this.$http.get(this.$server_url + 'neetTema?getDocentesXDocumento=yes&periodo_id=' + periodo + '&institucion_id=' + institucion_idInstitucion + '&neet_upload_id=' + neet_upload_id).then(function (res) {\n        if (res.data.length > 0) me.docentesAsignadosSelect = res.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    asignarDocumento: function asignarDocumento() {\n      var me = this;\n      me.msg = \"\";\n      if (me.objectNecesidad.neet_upload_id == null || me.objectNecesidad.neet_upload_id == \"\" || me.objectNecesidad.neet_upload_id == undefined) {\n        me.msg = \"Selecccione algun documento para asignar\";\n        me.f_notificaciones(me.msg, 'warning', 'icon-alert-triangle');\n        return;\n      }\n      //setear idusuarios\n      var asignados = me.docentesAsignadosSelect.map(function (_ref) {\n        var idusuario = _ref.idusuario;\n        return {\n          idusuario: idusuario\n        };\n      });\n      var formData = new FormData();\n      formData.append('asignarDocentes', \"yes\");\n      formData.append('docentes', JSON.stringify(asignados));\n      formData.append('neet_upload_id', me.objectNecesidad.neet_upload_id);\n      formData.append('user_created', me.usuario.idusuario);\n      formData.append('institucion_id', me.usuario.institucion_idInstitucion);\n      formData.append('periodo_id', localStorage.periodo_id);\n      formData.append('id_group', 6);\n      me.$vs.loading();\n      this.$http.post(this.$server_url + 'neetTema', formData).then(function (res) {\n        me.$vs.loading.close();\n        me.$vs.notify({\n          text: \"Se asigno correctamente\",\n          color: 'success',\n          iconPack: 'feather',\n          icon: 'icon-alert-triangle'\n        });\n        me.$emit('changeRecharge', '1');\n      }).catch(function (error) {\n        me.$vs.loading.close();\n      });\n    },\n    f_notificaciones: function f_notificaciones(msj, color, icono) {\n      var me = this;\n      me.$vs.notify({\n        text: msj,\n        color: color,\n        iconPack: 'feather',\n        icon: icono\n      });\n      return;\n    }\n  }\n};",{"version":3,"names":["UserRepository","vSelect","components","data","usuario","arregloDocentes","docentesAsignadosSelect","msg","props","objectNecesidad","type","Object","default","created","me","JSON","parse","localStorage","getItem","mounted","getUsuarios","getAsignados","methods","$vs","loading","getUsuariosXRolxInstitucion","institucion_idInstitucion","then","p","close","arregloAsignados","periodo","periodo_id","neet_upload_id","$http","get","$server_url","res","length","catch","error","console","log","asignarDocumento","undefined","f_notificaciones","asignados","map","_ref","idusuario","formData","FormData","append","stringify","post","notify","text","color","iconPack","icon","$emit","msj","icono"],"sources":["src/views/home/neet/components/DeceAsigna.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"vx-row mb-6\">\r\n      <div class=\"vx-col sm:w-1/3 w-full\">\r\n        <span>Docentes asignados</span>\r\n      </div>\r\n      <div class=\"vx-col sm:w-2/3 w-full\">\r\n        <v-select :options=\"arregloDocentes\" multiple :reduce=\"arregloDocentes => arregloDocentes\" label=\"nombre_completo\" class=\"w-full\" v-model=\"docentesAsignadosSelect\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"vx-row mb-6\">\r\n      <div class=\"vx-col sm:w-1/3 w-full\">\r\n        <span>Documento</span>\r\n      </div>\r\n      <div class=\"vx-col sm:w-2/3 w-full\">\r\n        <vs-input type=\"email\" class=\"w-full\" disabled icon-pack=\"feather\" icon=\"icon-file\" icon-no-border v-model=\"objectNecesidad.documento\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"vx-row mb-6\">\r\n      <div class=\"vx-col sm:w-1/3 w-full\">\r\n        <span>Tema</span>\r\n      </div>\r\n      <div class=\"vx-col sm:w-2/3 w-full\">\r\n        <vs-input class=\"w-full\" icon-pack=\"feather\" disabled  icon=\"icon-smartphone\" icon-no-border v-model=\"objectNecesidad.tema\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"vx-row mb-6\">\r\n      <div class=\"vx-col sm:w-1/3 w-full\">\r\n        <span>Nivel</span>\r\n      </div>\r\n      <div class=\"vx-col sm:w-2/3 w-full\">\r\n        <vs-input type=\"text\" class=\"w-full\" disabled icon-pack=\"feather\" icon=\"icon-bookmark\" icon-no-border v-model=\"objectNecesidad.subnivel\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"vx-row\">\r\n      <div class=\"vx-col sm:w-2/3 w-full ml-auto flex\">\r\n        <vs-button class=\"mr-3 mb-2\" icon-pack=\"feather\" icon=\"icon-save\" @click=\"asignarDocumento()\">Asignar</vs-button>\r\n        <vs-button color=\"warning\" type=\"border\" class=\"mb-2\" @click=\"$emit('changeRecharge','1')\">Cancelar</vs-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport UserRepository from '../../../../repositories/UserRepository';\r\nimport vSelect from 'vue-select'\r\nexport default{\r\n  components:{\r\n    vSelect,\r\n  },\r\n  data(){\r\n    return{\r\n      usuario:[],\r\n      arregloDocentes:[],\r\n      docentesAsignadosSelect:[],\r\n      msg:'',\r\n    }\r\n  },\r\n  props:{\r\n    objectNecesidad:{\r\n      type:Object,\r\n      default:{}\r\n    }\r\n  },\r\n  created(){\r\n    let me = this\r\n    me.usuario = JSON.parse(localStorage.getItem(\"usuario\"))\r\n  },\r\n  mounted(){\r\n    let me = this\r\n    me.getUsuarios()\r\n    me.getAsignados()\r\n  },\r\n  methods:{\r\n    getUsuarios(){\r\n      let me = this;\r\n      me.$vs.loading()\r\n      UserRepository.getUsuariosXRolxInstitucion(6,me.usuario.institucion_idInstitucion).then(p => {\r\n        me.$vs.loading.close()\r\n        me.arregloDocentes = p.data\r\n      })\r\n    },\r\n    getAsignados() {\r\n      let me = this;\r\n      me.arregloAsignados                 = []\r\n      let periodo                         = localStorage.periodo_id\r\n      const { neet_upload_id }            = me.objectNecesidad\r\n      const { institucion_idInstitucion } = me.usuario\r\n      this.$http.get(this.$server_url + 'neetTema?getDocentesXDocumento=yes&periodo_id='+periodo+'&institucion_id='+institucion_idInstitucion+'&neet_upload_id='+neet_upload_id)\r\n        .then(res => {\r\n          if(res.data.length > 0) me.docentesAsignadosSelect = res.data\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    asignarDocumento(){\r\n      let me = this;\r\n      me.msg = \"\"\r\n      if(me.objectNecesidad.neet_upload_id == null || me.objectNecesidad.neet_upload_id == \"\" || me.objectNecesidad.neet_upload_id == undefined){\r\n        me.msg = \"Selecccione algun documento para asignar\"\r\n        me.f_notificaciones(me.msg, 'warning', 'icon-alert-triangle')\r\n        return\r\n      }\r\n      //setear idusuarios\r\n      const asignados = me.docentesAsignadosSelect.map(({ idusuario}) => ({ idusuario }))\r\n      let formData = new FormData();\r\n      formData.append('asignarDocentes',  \"yes\");\r\n      formData.append('docentes',         JSON.stringify(asignados))\r\n      formData.append('neet_upload_id',   me.objectNecesidad.neet_upload_id);\r\n      formData.append('user_created',     me.usuario.idusuario)\r\n      formData.append('institucion_id',   me.usuario.institucion_idInstitucion)\r\n      formData.append('periodo_id',       localStorage.periodo_id)\r\n      formData.append('id_group',         6)\r\n      me.$vs.loading()\r\n      this.$http.post(this.$server_url+'neetTema', formData)\r\n        .then(function (res) {\r\n          me.$vs.loading.close()\r\n          me.$vs.notify({\r\n            text: \"Se asigno correctamente\",\r\n            color: 'success',\r\n            iconPack: 'feather',\r\n            icon: 'icon-alert-triangle'\r\n          })\r\n          me.$emit('changeRecharge','1')\r\n        })\r\n        .catch(function (error) { me.$vs.loading.close() })\r\n    },\r\n    f_notificaciones(msj, color, icono) {\r\n      let me = this;\r\n      me.$vs.notify({\r\n        text: msj,\r\n        color: color,\r\n        iconPack: 'feather',\r\n        icon: icono\r\n      })\r\n      return;\r\n    },\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}