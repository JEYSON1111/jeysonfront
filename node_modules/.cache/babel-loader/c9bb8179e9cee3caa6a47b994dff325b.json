{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\docentes\\nuevo.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\docentes\\nuevo.vue","mtime":1712682815788},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport Vue from 'vue';\nimport axios from 'axios';\nimport vSelect from 'vue-select';\nimport 'vue-select/dist/vue-select.css';\nimport Datepicker from 'vuejs-datepicker';\nimport flatPickr from 'vue-flatpickr-component';\nimport 'flatpickr/dist/flatpickr.css';\nVue.use(axios);\nexport default {\n  data: function data() {\n    return {\n      nombre: '',\n      seccion: '',\n      materia: '',\n      aula: '',\n      usuario: [],\n      idcurso: '',\n      title: '',\n      asignaturas: [],\n      asignaturaSelected: {},\n      otraActivo: false,\n      nombre_otra_asignatura: ''\n    };\n  },\n  created: function created() {\n    var me = this;\n    this.usuario = JSON.parse(localStorage.getItem('usuario'));\n    if (localStorage.idcurso == '') {\n      this.title = \"Agregar nuevo curso\";\n    } else {\n      this.title = \"Editar Curso\";\n      this.$http.get(this.$server_url + 'curso/' + localStorage.idcurso).then(function (response) {\n        console.log(response.data);\n        me.idcurso = response.data.idcurso;\n        me.nombre = response.data.nombre;\n        me.seccion = response.data.seccion;\n        me.materia = response.data.materia;\n        me.asignaturaSelected = {\n          id: localStorage.idasignatura,\n          label: localStorage.nombreasignatura\n        };\n        me.aula = response.data.aula;\n      }).catch(function (error) {});\n    }\n    if (me.desdeModal == 1) {\n      me.asignaturaSelected = {\n        id: localStorage.idasignatura,\n        label: localStorage.nombreasignatura\n      };\n    }\n  },\n  mounted: function mounted() {\n    this.getAsignaturas();\n  },\n  components: {\n    'v-select': vSelect\n  },\n  props: {\n    desdeModal: {\n      type: Number,\n      default: 0\n    }\n  },\n  methods: {\n    getAsignaturas: function getAsignaturas() {\n      var me = this;\n      this.$http.get(this.$server_url + 'asignaturasDoc/' + me.usuario.idusuario).then(function (res) {\n        me.asignaturas = res.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    enviar: function enviar() {\n      var me = this;\n      var formData = new FormData();\n      formData.append(\"idusuario\", me.usuario.idusuario);\n      formData.append(\"idcurso\", me.idcurso);\n      formData.append(\"nombre\", me.nombre);\n      formData.append(\"seccion\", me.seccion);\n      formData.append(\"materia\", '---');\n      formData.append(\"aula\", me.aula);\n      if (me.usuario.id_group == 16) {\n        formData.append('id_asignatura', localStorage.idasignatura);\n      } else {\n        formData.append(\"id_asignatura\", me.asignaturaSelected.id);\n      }\n      this.$http.post(this.$server_url + 'curso', formData).then(function (response) {\n        if (me.desdeModal == 1) {\n          me.$vs.notify({\n            text: 'Curso creado con éxito',\n            color: 'success',\n            iconPack: 'feather',\n            icon: 'icon-check'\n          });\n          me.$emit('changeReturn', 1);\n        } else {\n          me.$router.go(-1);\n        }\n      }).catch(function (error) {});\n    },\n    crearOtraAsignatura: function crearOtraAsignatura() {\n      var me = this;\n      var formData = new FormData();\n      formData.append('otraAsignatura', \"yes\");\n      formData.append('nombreasignatura', me.nombre_otra_asignatura);\n      formData.append('area_idarea', 83);\n      formData.append('nivel_idnivel', 30);\n      formData.append('tipo_asignatura', 0);\n      me.$vs.loading();\n      this.$http.post(this.$server_url + 'asignatura', formData).then(function (res) {\n        me.getAsignaturas();\n        me.asignaturaSelected.id = res.data.idasignatura;\n        me.asignaturaSelected.label = res.data.nombreasignatura;\n        me.asignaturaDocente(res.data.idasignatura);\n        me.$vs.loading.close();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    asignaturaDocente: function asignaturaDocente(id_asignatura) {\n      var me = this;\n      var formData = new FormData();\n      formData.append('usuario_idusuario', me.usuario.idusuario);\n      formData.append('asignatura_idasignatura', id_asignatura);\n      me.$vs.loading();\n      this.$http.post(this.$server_url + 'guardar_asignatura_usuario', formData).then(function (res) {\n        me.nombre_otra_asignatura = '';\n        me.otraActivo = false;\n        me.$vs.loading.close();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n};",{"version":3,"names":["Vue","axios","vSelect","Datepicker","flatPickr","use","data","nombre","seccion","materia","aula","usuario","idcurso","title","asignaturas","asignaturaSelected","otraActivo","nombre_otra_asignatura","created","me","JSON","parse","localStorage","getItem","$http","get","$server_url","then","response","console","log","id","idasignatura","label","nombreasignatura","catch","error","desdeModal","mounted","getAsignaturas","components","props","type","Number","default","methods","idusuario","res","enviar","formData","FormData","append","id_group","post","$vs","notify","text","color","iconPack","icon","$emit","$router","go","crearOtraAsignatura","loading","asignaturaDocente","close","id_asignatura"],"sources":["src/views/docentes/nuevo.vue"],"sourcesContent":["<template>\r\n<div>\r\n    <vx-card :title=\"title\">\r\n        <div class=\"vx-row mb-6\">\r\n            <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Grado</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-2/3 w-full\">\r\n                <vs-input class=\"w-full\" v-model=\"nombre\" />\r\n            </div>\r\n        </div>\r\n        <div class=\"vx-row mb-6\">\r\n            <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Área</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-2/3 w-full\">\r\n                <vs-input class=\"w-full\" v-model=\"seccion\" />\r\n            </div>\r\n        </div>\r\n        <div v-if=\"usuario.id_group == 16\">\r\n\r\n        </div>\r\n        <div class=\"vx-row mb-6\" v-else>\r\n            <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Asignatura</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-2/3 w-full\">\r\n                <vx-input-group>\r\n                    <v-select class=\"w-full\" v-model=\"asignaturaSelected\" :options=\"asignaturas\" :dir=\"$vs.rtl ? 'rtl' : 'ltr'\" />\r\n\r\n                    <template slot=\"append\">\r\n                        <div class=\"append-text btn-addon\">\r\n                        <vs-button color=\"primary\" @click=\"otraActivo=true\">Otra</vs-button>\r\n                        </div>\r\n                    </template>\r\n                </vx-input-group>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"p-2 mb-2 mt-4\" v-if=\"otraActivo===true\" align=\"justify\" style=\"background-color: #FFC8D4; color: #D50430; border-radius: 5px;\">\r\n            <span>\r\n                Antes de crear otra asignatura, verifique nuevamente en el listado asignaturas que se encuentra en la parte superior.<br>\r\n                Las asignaturas de naturales, sociales, lengua, matemática, computación y eca que ya pertenecen a prolipa, serán eliminadas por un administrador.\r\n            </span>\r\n        </div>\r\n        <span v-if=\"otraActivo===true\">Para mayor información escribanos a soporte@prolipa.com.ec</span>\r\n\r\n        <div class=\"vx-row mb-6\" v-if=\"otraActivo===true\">\r\n            <div class=\"vx-col sm:w-2/3 w-full ml-auto\">\r\n                Especifique: <br>\r\n\r\n                <vx-input-group>\r\n                    <vs-input v-model=\"nombre_otra_asignatura\" class=\"w-full\"></vs-input>\r\n\r\n                    <template slot=\"append\">\r\n                        <div class=\"append-text btn-addon\">\r\n                        <vs-button color=\"dark\" @click=\"crearOtraAsignatura()\">Guardar</vs-button>\r\n                        </div>\r\n                    </template>\r\n                </vx-input-group>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"vx-row mb-6\">\r\n            <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Paralelo</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-2/3 w-full\">\r\n                <vs-input class=\"w-full\" v-model=\"aula\" />\r\n            </div>\r\n        </div>\r\n        <div class=\"vx-row\">\r\n            <div class=\"vx-col sm:w-2/3 w-full ml-auto\">\r\n              <vs-button class=\"mr-3 mb-2\" @click=\"enviar\">Enviar</vs-button>\r\n              <vs-button  v-if=\"desdeModal == 1\" color=\"danger\" type=\"border\" @click=\"$emit('changeReturn',0)\" class=\"mb-2\">Cancelar</vs-button>\r\n              <vs-button v-else color=\"danger\" type=\"border\" @click=\"$router.go(-1)\" class=\"mb-2\">Cancelar</vs-button>\r\n            </div>\r\n        </div>\r\n    </vx-card>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nimport 'vue-select/dist/vue-select.css';\r\nimport Datepicker from 'vuejs-datepicker';\r\nimport flatPickr from 'vue-flatpickr-component';\r\nimport 'flatpickr/dist/flatpickr.css';\r\nVue.use(axios)\r\nexport default {\r\n    data() {\r\n        return {\r\n            nombre: '',\r\n            seccion: '',\r\n            materia: '',\r\n            aula: '',\r\n            usuario:[],\r\n            idcurso:'',\r\n            title:'',\r\n            asignaturas: [],\r\n            asignaturaSelected: {},\r\n            otraActivo: false,\r\n            nombre_otra_asignatura: '',\r\n        }\r\n    },\r\n    created() {\r\n        let me = this;\r\n        this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n        if(localStorage.idcurso == ''){\r\n            this.title = \"Agregar nuevo curso\"\r\n        }else{\r\n            this.title = \"Editar Curso\"\r\n            this.$http.get(this.$server_url+'curso/' + localStorage.idcurso )\r\n                .then(function (response) {\r\n                    console.log(response.data);\r\n                    me.idcurso = response.data.idcurso\r\n                    me.nombre = response.data.nombre\r\n                    me.seccion = response.data.seccion\r\n                    me.materia = response.data.materia\r\n                    me.asignaturaSelected = {id: localStorage.idasignatura, label: localStorage.nombreasignatura}\r\n                    me.aula = response.data.aula\r\n                })\r\n                .catch(function (error) {})\r\n        }\r\n        if(me.desdeModal == 1){  me.asignaturaSelected = {id: localStorage.idasignatura, label: localStorage.nombreasignatura} }\r\n    },\r\n    mounted() {\r\n        this.getAsignaturas()\r\n    },\r\n    components: {\r\n        'v-select': vSelect\r\n    },\r\n    props:{\r\n      desdeModal:{\r\n        type:Number,\r\n        default:0\r\n      },\r\n    },\r\n    methods: {\r\n        getAsignaturas(){\r\n            let me = this\r\n            this.$http.get(this.$server_url+'asignaturasDoc/'+me.usuario.idusuario).then(res => {\r\n                me.asignaturas = res.data;\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            })\r\n        },\r\n        enviar() {\r\n            let me = this;\r\n            let formData = new FormData();\r\n            formData.append(\"idusuario\", me.usuario.idusuario);\r\n            formData.append(\"idcurso\", me.idcurso);\r\n            formData.append(\"nombre\", me.nombre);\r\n            formData.append(\"seccion\", me.seccion);\r\n            formData.append(\"materia\", '---');\r\n            formData.append(\"aula\", me.aula);\r\n            if(me.usuario.id_group == 16){\r\n                formData.append('id_asignatura',localStorage.idasignatura)\r\n            }else{\r\n                formData.append(\"id_asignatura\", me.asignaturaSelected.id);\r\n            }\r\n            this.$http.post(this.$server_url+'curso',formData)\r\n                .then(function (response) {\r\n                    if(me.desdeModal == 1){\r\n                      me.$vs.notify({\r\n                      text:'Curso creado con éxito',\r\n                      color:'success',\r\n                      iconPack: 'feather',\r\n                      icon:'icon-check'})\r\n                      me.$emit('changeReturn',1)\r\n                    }else{\r\n                      me.$router.go(-1);\r\n                    }\r\n                })\r\n                .catch(function (error) {})\r\n        },\r\n        crearOtraAsignatura(){\r\n            let me = this\r\n            let formData = new FormData();\r\n\r\n            formData.append('otraAsignatura',\"yes\");\r\n            formData.append('nombreasignatura', me.nombre_otra_asignatura);\r\n            formData.append('area_idarea', 83);\r\n            formData.append('nivel_idnivel', 30);\r\n            formData.append('tipo_asignatura', 0);\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'asignatura', formData)\r\n            .then(function (res) {\r\n                me.getAsignaturas()\r\n                me.asignaturaSelected.id = res.data.idasignatura\r\n                me.asignaturaSelected.label = res.data.nombreasignatura\r\n                me.asignaturaDocente(res.data.idasignatura)\r\n                me.$vs.loading.close()\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        },\r\n        asignaturaDocente(id_asignatura){\r\n            let me = this\r\n            let formData = new FormData();\r\n            formData.append('usuario_idusuario', me.usuario.idusuario);\r\n            formData.append('asignatura_idasignatura', id_asignatura);\r\n\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'guardar_asignatura_usuario', formData)\r\n            .then(function (res) {\r\n                me.nombre_otra_asignatura = ''\r\n                me.otraActivo = false\r\n                me.$vs.loading.close()\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        }\r\n    },\r\n}\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}