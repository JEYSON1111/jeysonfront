{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\biblioteca\\content\\Contenidos\\TablaContenido.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\biblioteca\\content\\Contenidos\\TablaContenido.vue","mtime":1712682815555},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.find\";\nimport vSelect from 'vue-select';\nexport default {\n  components: {\n    vSelect: vSelect\n  },\n  props: {\n    contenidos: {\n      type: Array,\n      required: true\n    },\n    selectedSerie: {\n      type: String,\n      default: false\n    },\n    selectedLibro: {\n      type: Object,\n      default: false\n    },\n    selectedUnidad: {\n      type: Object,\n      default: false\n    }\n  },\n  methods: {\n    getTema: function getTema(strData) {\n      var tema = ''; // // Variable para almacenar el tema del contenido\n\n      var data = JSON.parse(strData); // Parsea la cadena JSON 'strData' a un objeto\n\n      // Busca un elemento en 'data' donde la etiqueta (label) sea 'titulo' (en minúsculas y sin acentos reemplazados)\n      var titulo = data.find(function (item) {\n        return item.label.toLowerCase().replace('á', 'a') === 'titulo';\n      });\n      if (titulo) {\n        // Si se encuentra un elemento con etiqueta 'titulo', asigna su valor a la variable 'tema'\n        tema = titulo.valor;\n      } else {\n        // Si no se encuentra un elemento con etiqueta 'titulo', busca un elemento con etiqueta 'tema'\n        var temaData = data.find(function (item) {\n          return item.label.toLowerCase().replace('á', 'a') === 'tema';\n        });\n        if (temaData) {\n          // Si se encuentra un elemento con etiqueta 'tema', asigna su valor a la variable 'tema'\n          tema = temaData.valor;\n        }\n      }\n      return tema; // Devuelve el valor del tema encontrado\n    },\n    getPagina: function getPagina(strData) {\n      var pagina = ''; // Variable para almacenar la página del contenido\n\n      var data = JSON.parse(strData); // Parsea la cadena JSON 'strData' a un objeto\n\n      // Busca un elemento en 'data' donde la etiqueta (label) sea 'pagina' (en minúsculas y sin acentos reemplazados)\n      var paginaData = data.find(function (item) {\n        return item.label.toLowerCase().replace('á', 'a') === 'pagina';\n      });\n\n      // Si se encuentra un elemento con etiqueta 'pagina', asigna su valor a la variable 'pagina'\n      if (paginaData) {\n        pagina = paginaData.valor || 'No definido.';\n      } else {\n        // Si no se encuentra un elemento con etiqueta 'pagina', asigna 'No definido.' a la variable 'pagina'\n        pagina = 'No definido.';\n      }\n      return pagina; // Devuelve el valor de la página encontrada\n    },\n    verContenido: function verContenido(id) {\n      this.$router.push(\"/biblioteca/contenido/\".concat(id)); // Redirecciona a la ruta de visualización de contenido\n    },\n    editarContenido: function editarContenido(id) {\n      this.$router.push({\n        name: 'biblioteca-form',\n        params: {\n          id: id\n        }\n      }); // Redirecciona a la ruta de edición de contenido\n    },\n    eliminar: function eliminar(id) {\n      var me = this; // Variable para almacenar el contexto actual\n\n      // Muestra un diálogo de confirmación para eliminar el contenido\n      me.$vs.dialog({\n        title: 'Eliminar contenido',\n        text: '¿Está seguro que desea eliminar este contenido?',\n        accept: function accept() {\n          me.eliminarContenido(id); // Si el usuario acepta, llama al método para eliminar el contenido\n        }\n      });\n    },\n    eliminarContenido: function eliminarContenido(id) {\n      var me = this; // Variable para almacenar el contexto actual\n      me.$vs.loading(); // Muestra un indicador de carga mientras se elimina el contenido\n\n      // Realiza una petición para eliminar el contenido\n      me.$http.delete(\"\".concat(me.$server_url, \"biblioteca/contenido/\").concat(id)).then(function (res) {\n        me.$vs.notify({\n          title: 'Éxito',\n          text: res.data.message,\n          color: 'success',\n          position: 'top-right'\n        });\n        me.$router.push({\n          name: 'biblioteca'\n        }); // Redirecciona a la ruta de biblioteca\n      }).catch(function (err) {\n        me.$vs.notify({\n          title: 'Error',\n          text: err.message,\n          color: 'danger',\n          position: 'top-right'\n        });\n      }).finally(function () {\n        me.$vs.loading.close(); // Cierra el indicador de carga\n        // Emit event to update the list of contents\n        me.$emit('update'); // Emite un evento para actualizar la lista de contenidos\n      });\n    }\n  }\n};",{"version":3,"names":["vSelect","components","props","contenidos","type","Array","required","selectedSerie","String","default","selectedLibro","Object","selectedUnidad","methods","getTema","strData","tema","data","JSON","parse","titulo","find","item","label","toLowerCase","replace","valor","temaData","getPagina","pagina","paginaData","verContenido","id","$router","push","concat","editarContenido","name","params","eliminar","me","$vs","dialog","title","text","accept","eliminarContenido","loading","$http","delete","$server_url","then","res","notify","message","color","position","catch","err","finally","close","$emit"],"sources":["src/views/biblioteca/content/Contenidos/TablaContenido.vue"],"sourcesContent":["<template>\r\n  <div class=\"w-full flex flex-col space-y-2\">\r\n    <vs-table search pagination :data=\"contenidos\">\r\n      <template #header>\r\n        <span class=\"font-bold text-xl\">\r\n          {{ selectedSerie === 'todas' ? 'Todos los contenidos' : `Contenidos de la serie ${selectedSerie}` }}{{\r\n            selectedLibro ? ` del libro ${selectedLibro.nombre}` : '' }}{{ selectedUnidad ? ` de la\r\n          ${selectedUnidad.unidad}` : '' }}\r\n        </span>\r\n      </template>\r\n      <template slot=\"thead\">\r\n        <vs-th v-if=\"selectedSerie === 'todas'\">\r\n          Serie\r\n        </vs-th>\r\n        <vs-th>\r\n          Tema\r\n        </vs-th>\r\n        <vs-th>\r\n          Página\r\n        </vs-th>\r\n        <vs-th>\r\n        </vs-th>\r\n      </template>\r\n      <template slot-scope=\"{data}\">\r\n        <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n          <vs-td v-if=\"selectedSerie === 'todas'\">\r\n            <span class=\"font-bold\">\r\n              {{ tr.nombre_serie.toUpperCase() }}\r\n            </span>\r\n          </vs-td>\r\n          <vs-td>\r\n            {{ getTema(tr.contenido) }}\r\n          </vs-td>\r\n          <vs-td>\r\n            {{ getPagina(tr.contenido) }}\r\n          </vs-td>\r\n          <vs-td>\r\n            <button class=\"p-2 border border-darken-1 rounded bg-white cursor-pointer mx-1 hover:shadow-md\"\r\n              @click=\"verContenido(tr.contenido_libro_id)\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 576 512\">\r\n                <path\r\n                  d=\"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z\" />\r\n              </svg>\r\n              <span>\r\n                Ver\r\n              </span>\r\n            </button>\r\n            <button class=\"p-2 border border-darken-1 rounded bg-white cursor-pointer mx-1 hover:shadow-md\"\r\n              @click=\"editarContenido(tr.contenido_libro_id)\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\">\r\n                <path\r\n                  d=\"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z\" />\r\n              </svg>\r\n              <span>\r\n                Editar\r\n              </span>\r\n            </button>\r\n            <button class=\"p-2 border border-darken-1 rounded bg-white cursor-pointer mx-1 hover:shadow-md\"\r\n              @click=\"eliminar(tr.contenido_libro_id)\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\">\r\n                <path\r\n                  d=\"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z\" />\r\n              </svg>\r\n              <span>\r\n                Eliminar\r\n              </span>\r\n            </button>\r\n          </vs-td>\r\n        </vs-tr>\r\n      </template>\r\n    </vs-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport vSelect from 'vue-select';\r\nexport default ({\r\n  components: {\r\n    vSelect,\r\n  },\r\n  props: {\r\n    contenidos: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    selectedSerie: {\r\n      type: String,\r\n      default: false,\r\n    },\r\n    selectedLibro: {\r\n      type: Object,\r\n      default: false,\r\n    },\r\n    selectedUnidad: {\r\n      type: Object,\r\n      default: false,\r\n    },\r\n  },\r\n  methods: {\r\n    getTema(strData) {\r\n      let tema = ''; // // Variable para almacenar el tema del contenido\r\n\r\n      const data = JSON.parse(strData); // Parsea la cadena JSON 'strData' a un objeto\r\n\r\n      // Busca un elemento en 'data' donde la etiqueta (label) sea 'titulo' (en minúsculas y sin acentos reemplazados)\r\n      const titulo = data.find((item) => item.label.toLowerCase().replace('á', 'a') === 'titulo');\r\n\r\n      if (titulo) {\r\n        // Si se encuentra un elemento con etiqueta 'titulo', asigna su valor a la variable 'tema'\r\n        tema = titulo.valor;\r\n      } else {\r\n        // Si no se encuentra un elemento con etiqueta 'titulo', busca un elemento con etiqueta 'tema'\r\n        const temaData = data.find((item) => item.label.toLowerCase().replace('á', 'a') === 'tema');\r\n        if (temaData) {\r\n          // Si se encuentra un elemento con etiqueta 'tema', asigna su valor a la variable 'tema'\r\n          tema = temaData.valor;\r\n        }\r\n      }\r\n\r\n      return tema; // Devuelve el valor del tema encontrado\r\n    },\r\n    getPagina(strData) {\r\n      let pagina = ''; // Variable para almacenar la página del contenido\r\n\r\n      const data = JSON.parse(strData); // Parsea la cadena JSON 'strData' a un objeto\r\n\r\n      // Busca un elemento en 'data' donde la etiqueta (label) sea 'pagina' (en minúsculas y sin acentos reemplazados)\r\n      const paginaData = data.find((item) => item.label.toLowerCase().replace('á', 'a') === 'pagina');\r\n\r\n      // Si se encuentra un elemento con etiqueta 'pagina', asigna su valor a la variable 'pagina'\r\n      if (paginaData) {\r\n        pagina = paginaData.valor || 'No definido.';\r\n      } else {\r\n        // Si no se encuentra un elemento con etiqueta 'pagina', asigna 'No definido.' a la variable 'pagina'\r\n        pagina = 'No definido.';\r\n      }\r\n\r\n      return pagina; // Devuelve el valor de la página encontrada\r\n    },\r\n    verContenido(id) {\r\n      this.$router.push(`/biblioteca/contenido/${id}`); // Redirecciona a la ruta de visualización de contenido\r\n    },\r\n    editarContenido(id) {\r\n      this.$router.push({ name: 'biblioteca-form', params: { id: id } }); // Redirecciona a la ruta de edición de contenido\r\n    },\r\n    eliminar(id) {\r\n      const me = this; // Variable para almacenar el contexto actual\r\n\r\n      // Muestra un diálogo de confirmación para eliminar el contenido\r\n      me.$vs.dialog({\r\n        title: 'Eliminar contenido',\r\n        text: '¿Está seguro que desea eliminar este contenido?',\r\n        accept: () => {\r\n          me.eliminarContenido(id); // Si el usuario acepta, llama al método para eliminar el contenido\r\n        },\r\n      });\r\n    },\r\n    eliminarContenido(id) {\r\n      const me = this; // Variable para almacenar el contexto actual\r\n      me.$vs.loading(); // Muestra un indicador de carga mientras se elimina el contenido\r\n\r\n      // Realiza una petición para eliminar el contenido\r\n      me.$http.delete(`${me.$server_url}biblioteca/contenido/${id}`).then((res) => {\r\n        me.$vs.notify({\r\n          title: 'Éxito',\r\n          text: res.data.message,\r\n          color: 'success',\r\n          position: 'top-right',\r\n        });\r\n        me.$router.push({ name: 'biblioteca' }); // Redirecciona a la ruta de biblioteca\r\n      }).catch((err) => {\r\n        me.$vs.notify({\r\n          title: 'Error',\r\n          text: err.message,\r\n          color: 'danger',\r\n          position: 'top-right',\r\n        });\r\n      }).finally(() => {\r\n        me.$vs.loading.close(); // Cierra el indicador de carga\r\n        // Emit event to update the list of contents\r\n        me.$emit('update'); // Emite un evento para actualizar la lista de contenidos\r\n      })\r\n    }\r\n  }\r\n});\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}