{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\codigos\\FacturadoresCodigos.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\codigos\\FacturadoresCodigos.vue","mtime":1712682815609},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\babel.config.js","mtime":1712682813877},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\.babelrc","mtime":1712682813750},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import seccionCodigos from \"./components/seccionCodigos.vue\";\nimport gestionliquidacion from \"../librosserie/gestionliquidacion.vue\";\nimport vSelect from 'vue-select';\nexport default {\n  components: {\n    vSelect: vSelect,\n    seccionCodigos: seccionCodigos,\n    gestionliquidacion: gestionliquidacion\n  },\n  data: function data() {\n    return {\n      vSeccionCodigo: false,\n      liquidacion: {\n        institucion: '',\n        periodo: '',\n        condicion: '1'\n      },\n      arregloCiudad: [],\n      arregloTraeInstitucion: [],\n      arregloPeriodos: [],\n      ciudadSelect: '',\n      arregloLiquidacion: [],\n      arregloCodigosIndividuales: [],\n      region: 1\n    };\n  },\n  mounted: function mounted() {\n    var me = this;\n    me.filtrarInstituciones();\n  },\n  methods: {\n    filtrarInstituciones: function filtrarInstituciones() {\n      var me = this;\n      me.arregloTraeInstitucion = [];\n      me.liquidacion.institucion = \"\";\n      me.$vs.loading();\n      this.$http.get(this.$server_url + \"institucion?listaInstitucionesActivaXRegion=yes&region=\".concat(me.region)).then(function (res) {\n        me.$vs.loading.close();\n        me.arregloTraeInstitucion = res.data;\n      }).catch(function (error) {\n        me.$vs.loading.close();\n        console.log(error + ' error');\n      });\n    },\n    //para filtrar periodos por institucioin\n    filtrarPeriodos: function filtrarPeriodos() {\n      var me = this;\n      me.arregloCodigosIndividuales = [];\n      me.arregloLiquidacion = [];\n      if (me.liquidacion.institucion.region_idregion === undefined) {\n        me.$vs.notify({\n          text: 'Seleccione una institucion antes de filtrar por Periodos',\n          color: 'warning',\n          iconPack: 'feather',\n          icon: 'icon-check'\n        });\n        return;\n      }\n      me.arregloPeriodos = [];\n      me.$vs.loading();\n      var formData = new FormData();\n      formData.append('condicion', me.liquidacion.condicion);\n      formData.append('region_idregion', me.liquidacion.institucion.region_idregion);\n      this.$http.post(this.$server_url + 'traerperiodos', formData).then(function (res) {\n        me.arregloPeriodos = res.data;\n        me.$vs.loading.close();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    filtrarCodigos: function filtrarCodigos() {\n      var me = this;\n      if (me.vSeccionCodigo == false) {\n        me.buscarReportesLibrosAsesor();\n      } else {\n        me.filtrarLiquidacion();\n      }\n    },\n    //para filtrar la liquidacion\n    filtrarLiquidacion: function filtrarLiquidacion() {\n      var me = this;\n      me.arregloLiquidacion = [];\n      if (me.liquidacion.periodo == null || me.liquidacion.periodo == undefined || me.liquidacion.periodo == \"\") {\n        this.$vs.notify({\n          text: 'No ha seleccionado un periodo',\n          color: 'danger',\n          iconPack: 'feather',\n          icon: 'icon-alert-triangle'\n        });\n        return false;\n      }\n      me.$vs.loading();\n      this.$http.get(this.$server_url + 'liquidacionperiodo?id_periodo=' + me.liquidacion.periodo.idperiodoescolar + '&idinstitucion=' + me.liquidacion.institucion.idInstitucion).then(function (res) {\n        me.arregloLiquidacion = res.data;\n        me.$vs.loading.close();\n      }).catch(function (error) {\n        me.$vs.loading.close();\n        console.log(error);\n      });\n    },\n    buscarReportesLibrosAsesor: function buscarReportesLibrosAsesor() {\n      var _this = this;\n      var me = this;\n      if (me.liquidacion.periodo == null || me.liquidacion.periodo == undefined || me.liquidacion.periodo == \"\") {\n        this.$vs.notify({\n          text: 'No ha seleccionado un periodo',\n          color: 'danger',\n          iconPack: 'feather',\n          icon: 'icon-alert-triangle'\n        });\n        return false;\n      }\n      this.arregloCodigosIndividuales = [];\n      this.openLoadingColor();\n      this.$http.get(this.$server_url + 'reportesCodigoAsesor/' + me.liquidacion.institucion.idInstitucion + '/' + me.liquidacion.periodo.idperiodoescolar).then(function (res) {\n        _this.$vs.loading.close();\n        if (res.data[0] === undefined) {\n          _this.$vs.notify({\n            text: 'No existen códigos asignados a esta institución',\n            color: 'danger',\n            iconPack: 'feather',\n            icon: 'icon-alert-triangle'\n          });\n          return false;\n        }\n        _this.arregloCodigosIndividuales = res.data;\n      }).catch(function (e) {\n        this.$vs.loading.close();\n      });\n    },\n    openLoadingColor: function openLoadingColor(libro) {\n      this.$vs.loading({\n        color: '#1A76F2'\n      });\n      /*setTimeout(() => {\r\n          this.$vs.loading.close()\r\n      }, 2000);*/\n    }\n  }\n};",{"version":3,"names":["seccionCodigos","gestionliquidacion","vSelect","components","data","vSeccionCodigo","liquidacion","institucion","periodo","condicion","arregloCiudad","arregloTraeInstitucion","arregloPeriodos","ciudadSelect","arregloLiquidacion","arregloCodigosIndividuales","region","mounted","me","filtrarInstituciones","methods","$vs","loading","$http","get","$server_url","concat","then","res","close","catch","error","console","log","filtrarPeriodos","region_idregion","undefined","notify","text","color","iconPack","icon","formData","FormData","append","post","filtrarCodigos","buscarReportesLibrosAsesor","filtrarLiquidacion","idperiodoescolar","idInstitucion","_this","openLoadingColor","e","libro"],"sources":["src/views/codigos/FacturadoresCodigos.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <vs-card class=\"flex\">\r\n            <vs-button color=\"primary\" @click=\"vSeccionCodigo = false\" type=\"border\">Códigos Individuales</vs-button>\r\n            <vs-button color=\"success\" @click=\"vSeccionCodigo = true\" class=\"ml-2\" type=\"border\">Códigos Agrupados</vs-button>\r\n       </vs-card>\r\n        <vs-card>\r\n            <div>\r\n                <div class=\"vx-col w-full mt-5\">\r\n                  <ul class=\"flex\">\r\n                    <li class=\"modelx mt-1 mr-2\">\r\n                      Región\r\n                    </li>\r\n                    <li class=\"mr-2\">\r\n                      <vs-radio v-model=\"region\" @input=\"filtrarInstituciones()\" vs-name=\"radios1region\" vs-value=\"1\">Sierra</vs-radio>\r\n                    </li>\r\n                    <li>\r\n                      <vs-radio v-model=\"region\" @input=\"filtrarInstituciones()\" vs-name=\"radios1region\" vs-value=\"2\">Costa</vs-radio>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n                <div class=\"vx-col w-full mt-5\">\r\n                  Institución:\r\n                    <v-select :options=\"arregloTraeInstitucion\" :reduce=\"arregloTraeInstitucion => arregloTraeInstitucion\" label=\"nombreInstitucion\" class=\"w-full\" v-model =\"liquidacion.institucion\" />\r\n                </div>\r\n                <br>\r\n                <ul class=\"leftx\">\r\n                    <li class=\"modelx\">\r\n                    Seleccione que tipo de periodos desea filtrar\r\n                    </li>\r\n                    <br>\r\n                    <li>\r\n                    <vs-radio v-model=\"liquidacion.condicion\"  @input=\"filtrarPeriodos()\"  vs-name=\"radios1\" vs-value=\"1\">Activos</vs-radio>\r\n                    </li>\r\n                    <li>\r\n                    <vs-radio v-model=\"liquidacion.condicion\" @input=\"filtrarPeriodos()\"  vs-name=\"radios1\" vs-value=\"0\">Inactivos</vs-radio>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"vx-col w-full mt-5\">\r\n                Periodo:\r\n                <v-select :options=\"arregloPeriodos\" :reduce=\"arregloPeriodos => arregloPeriodos\" label=\"periodo\" class=\"w-full\" v-model =\"liquidacion.periodo\" />\r\n            </div>\r\n            <br>\r\n            <vs-button color=\"primary\" size=\"small\" type=\"filled\" @click=\"filtrarCodigos();\">\r\n                Filtrar\r\n            </vs-button>\r\n        </vs-card>\r\n        <div v-if=\"vSeccionCodigo == false\">\r\n         <p>Se listan los códigos <span style=\"font-weight: bold;\">Individuales,</span> asociados al estudiante</p>\r\n            <seccionCodigos :arregloCodigosIndividuales = \"arregloCodigosIndividuales\" :lperiodo=\"liquidacion.periodo.idperiodoescolar\" :linstitucion=\"liquidacion.institucion.idInstitucion\" @recharge=\"buscarReportesLibrosAsesor\"/>\r\n         </div>\r\n        <div v-if=\"vSeccionCodigo == true\">\r\n            <p>Se listan los códigos <span style=\"font-weight: bold;\">Agrupados,</span> asociados al estudiante</p>\r\n            <gestionliquidacion  :arregloLiquidacion = \"arregloLiquidacion\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport seccionCodigos from './components/seccionCodigos.vue'\r\nimport gestionliquidacion from '../librosserie/gestionliquidacion.vue'\r\nimport vSelect from 'vue-select'\r\nexport default{\r\n    components:{\r\n        vSelect,\r\n        seccionCodigos,\r\n        gestionliquidacion,\r\n    },\r\n    data(){\r\n        return{\r\n            vSeccionCodigo:false,\r\n            liquidacion:{\r\n              institucion:'',\r\n              periodo:'',\r\n              condicion:'1',\r\n            },\r\n            arregloCiudad:[],\r\n            arregloTraeInstitucion:[],\r\n            arregloPeriodos:[],\r\n            ciudadSelect:'',\r\n            arregloLiquidacion:[],\r\n            arregloCodigosIndividuales:[],\r\n            region:1,\r\n        }\r\n    },\r\n    mounted(){\r\n      let me = this;\r\n      me.filtrarInstituciones()\r\n    },\r\n    methods:{\r\n      filtrarInstituciones(){\r\n        let me = this\r\n        me.arregloTraeInstitucion = []\r\n        me.liquidacion.institucion = \"\"\r\n        me.$vs.loading()\r\n        this.$http.get(this.$server_url+`institucion?listaInstitucionesActivaXRegion=yes&region=${ me.region }`)\r\n        .then(function (res) {\r\n          me.$vs.loading.close()\r\n          me.arregloTraeInstitucion = res.data;\r\n        })\r\n        .catch(function (error) {\r\n          me.$vs.loading.close()\r\n          console.log(error + ' error');\r\n        })\r\n      },\r\n      //para filtrar periodos por institucioin\r\n      filtrarPeriodos(){\r\n        let me = this;\r\n        me.arregloCodigosIndividuales = []\r\n        me.arregloLiquidacion         = []\r\n        if( me.liquidacion.institucion.region_idregion === undefined ){\r\n          me.$vs.notify({\r\n            text:'Seleccione una institucion antes de filtrar por Periodos',\r\n            color:'warning',\r\n            iconPack: 'feather',\r\n            icon:'icon-check'})\r\n          return;\r\n        }\r\n        me.arregloPeriodos = []\r\n        me.$vs.loading()\r\n        const formData = new FormData();\r\n        formData.append('condicion', me.liquidacion.condicion);\r\n        formData.append('region_idregion', me.liquidacion.institucion.region_idregion);\r\n        this.$http.post(this.$server_url+'traerperiodos', formData).then(res => {\r\n          me.arregloPeriodos = res.data;\r\n          me.$vs.loading.close()\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n      },\r\n      filtrarCodigos(){\r\n        let me = this;\r\n        if(me.vSeccionCodigo == false){\r\n          me.buscarReportesLibrosAsesor()\r\n        }else{\r\n          me.filtrarLiquidacion()\r\n        }\r\n      },\r\n      //para filtrar la liquidacion\r\n      filtrarLiquidacion(){\r\n        let me = this;\r\n        me.arregloLiquidacion = []\r\n        if(me.liquidacion.periodo == null || me.liquidacion.periodo == undefined || me.liquidacion.periodo == \"\"){\r\n            this.$vs.notify({\r\n                text: 'No ha seleccionado un periodo',\r\n                color: 'danger',\r\n                iconPack: 'feather',\r\n                icon: 'icon-alert-triangle'\r\n            })\r\n            return false\r\n        }\r\n        me.$vs.loading()\r\n        this.$http.get(this.$server_url+'liquidacionperiodo?id_periodo='+me.liquidacion.periodo.idperiodoescolar+'&idinstitucion='+me.liquidacion.institucion.idInstitucion)\r\n        .then(res => {\r\n            me.arregloLiquidacion = res.data;\r\n            me.$vs.loading.close()\r\n        })\r\n        .catch(function (error) {\r\n            me.$vs.loading.close()\r\n            console.log(error);\r\n        })\r\n      },\r\n      buscarReportesLibrosAsesor() {\r\n        let me  = this;\r\n        if(me.liquidacion.periodo == null || me.liquidacion.periodo == undefined || me.liquidacion.periodo == \"\"){\r\n            this.$vs.notify({\r\n                text: 'No ha seleccionado un periodo',\r\n                color: 'danger',\r\n                iconPack: 'feather',\r\n                icon: 'icon-alert-triangle'\r\n            })\r\n            return false\r\n        }\r\n        this.arregloCodigosIndividuales = [];\r\n        this.openLoadingColor();\r\n        this.$http.get(this.$server_url+'reportesCodigoAsesor/' + me.liquidacion.institucion.idInstitucion+'/'+me.liquidacion.periodo.idperiodoescolar)\r\n        .then(res => {\r\n            this.$vs.loading.close()\r\n            if (res.data[0] === undefined) {\r\n                this.$vs.notify({\r\n                    text: 'No existen códigos asignados a esta institución',\r\n                    color: 'danger',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return false\r\n            }\r\n            this.arregloCodigosIndividuales = res.data\r\n\r\n        })\r\n        .catch(function(e){\r\n            this.$vs.loading.close()\r\n        })\r\n      },\r\n      openLoadingColor(libro) {\r\n        this.$vs.loading({\r\n            color: '#1A76F2'\r\n        })\r\n        /*setTimeout(() => {\r\n            this.$vs.loading.close()\r\n        }, 2000);*/\r\n      },\r\n    }\r\n}\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}