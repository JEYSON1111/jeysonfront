{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\institucion\\components\\asignarRecursosExternos.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\institucion\\components\\asignarRecursosExternos.vue","mtime":1712682816026},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport flatPickr from 'vue-flatpickr-component';\r\nimport 'flatpickr/dist/flatpickr.css';\r\nimport usuarioRecursosExternosVue from './usuarioRecursosExternos.vue';\r\nexport default {\r\n    data() {\r\n       return{\r\n          institucion_id:0,\r\n          area:[],\r\n          seleccionadas:[],\r\n          addPermisos:false,\r\n          verUsuarios:false,\r\n          id:0,\r\n          radicional_id:0,\r\n          asignatura_id:'',\r\n          nombreasignatura:'',\r\n          acordeon:{\r\n            libro:'1',\r\n            curso:'1',\r\n            cuaderno:'1',\r\n            planificacion:'1',\r\n            recursos_adicional:'1',\r\n          },\r\n          libro:{\r\n            libroweb:'1',\r\n            libro_con_guia:'1',\r\n            guia_didactica:'1',\r\n            unidades:'1',\r\n            todo:'1',\r\n          },\r\n          curso:{\r\n            ver:'1',\r\n            agregar:'1',\r\n            editar:'1',\r\n            eliminar:'1',\r\n          },\r\n          cuaderno:{\r\n            guia:'1',\r\n            didactica:'1',\r\n            web:'1',\r\n          },\r\n          planificacion:{\r\n            descargar:'1',\r\n            visualizar:'1',\r\n          },\r\n          //variables para recursos adicionales\r\n          mijuego:{\r\n            agregar:'1',\r\n            editar:'1',\r\n            eliminar:'1',\r\n            ver:'1',\r\n            asignar:'1',\r\n          },\r\n          juegoProlipa:{\r\n            asignar:'1',\r\n            ver:'1',\r\n            previsualizar:'1',\r\n          },\r\n          materialDigital:{\r\n            ver:'1',\r\n            previsualizar:'1',\r\n            asignar:'1',\r\n          },\r\n          materialpdf:{\r\n            subir:'1',\r\n            ver:'1',\r\n            descargar:'1',\r\n            asignar:'1',\r\n          },\r\n          propuesta:{\r\n            ver:'1',\r\n          },\r\n          adaptacion:{\r\n            ver:'1',\r\n          },\r\n          articulo:{\r\n            lengua:'1',\r\n            matematica:'1',\r\n            naturales:'1',\r\n            sociales:'1',\r\n            ensenanza:'1',\r\n          },\r\n          documentom:{\r\n            ver:'1',\r\n          },\r\n          //fin de variables para recursos adicionales\r\n          //VARIABLES PARA GENERAR LINK\r\n          libro_id:'',\r\n          libro_web:'',\r\n          links:[],\r\n          popupLinkLibro:false,\r\n          link:{\r\n            pag_ini: '',\r\n            pag_fin: '',\r\n            fecha_inicio: '',\r\n            fecha_caducidad: '',\r\n          },\r\n          configdateTimePicker: {\r\n              enableTime: true,\r\n              dateFormat: 'Y-m-d H:i:s'\r\n          },\r\n          //fin variable para generar link\r\n       } \r\n    },\r\n    components:{\r\n        usuarioRecursosExternosVue,\r\n        flatPickr\r\n    },\r\n    props:{\r\n        permisosInstitucion:{\r\n            type:String,\r\n            default:0\r\n        },\r\n        permisosNombreInstitucion:{\r\n            type:String,\r\n            default:\"\"\r\n        }\r\n    },\r\n    mounted(){\r\n        let me = this;\r\n        me.getAreaSelect();\r\n        me.getSeleccionadasColegios();\r\n        me.institucion_id = me.permisosInstitucion\r\n    },\r\n    methods:{\r\n         getAreaSelect() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + \"selectArea\").then(function (response) {\r\n                me.area = response.data.items;\r\n                me.$vs.loading.close();\r\n            });\r\n        },\r\n        getSeleccionadasColegios() {\r\n            let me = this;\r\n            me.seleccionadas = []\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + \"asignaturas_x_colegio?institucion_id=\"+me.permisosInstitucion)\r\n                .then(res => {\r\n                    let datos = res.data\r\n                    console.log('rr',res.data)\r\n                    for(let i = 0; i<datos.length; i++){\r\n                        me.seleccionadas.push({\r\n                            \"id\":datos[i].id,\r\n                            \"nombreasignatura\":datos[i].nombreasignatura,\r\n                            \"idasignatura\":datos[i].idasignatura,\r\n                            \"area_idarea\":datos[i].area_idarea,\r\n                            \"institucion_id\":datos[i].institucion_id,\r\n                            \"asignatura_id\":datos[i].asignatura_id,\r\n                            \"permisos_acordeon\":JSON.parse(datos[i].permisos_acordeon),\r\n                            \"permisos_libros\":JSON.parse(datos[i].permisos_libros),\r\n                            \"permisos_cursos\":JSON.parse(datos[i].permisos_cursos),\r\n                            \"permisos_cuadernos\":JSON.parse(datos[i].permisos_cuadernos),\r\n                            \"permisos_planificaciones\":JSON.parse(datos[i].permisos_planificaciones),\r\n                            \"zona_diversion_mi_juego\":JSON.parse(datos[i].zona_diversion_mi_juego),\r\n                            \"zona_diversion_juego_prolipa\":JSON.parse(datos[i].zona_diversion_juego_prolipa),\r\n                            \"material_apoyo_digital\":JSON.parse(datos[i].material_apoyo_digital),\r\n                            \"material_apoyo_pdf\":JSON.parse(datos[i].material_apoyo_pdf),\r\n                            \"propuestas_metodologicas\":JSON.parse(datos[i].propuestas_metodologicas),\r\n                            \"adaptaciones\":JSON.parse(datos[i].adaptaciones),\r\n                            \"articulos\":JSON.parse(datos[i].articulos),\r\n                            \"documentos_ministeriales\":JSON.parse(datos[i].documentos_ministeriales),\r\n                            \"radicional_id\":datos[i].radicional_id\r\n                        })\r\n                    }\r\n                    me.$vs.loading.close();\r\n                })\r\n                .catch(function(e){\r\n                    me.$vs.loading.close();\r\n                });\r\n        },\r\n        openModalPermisos(item){\r\n            let me = this;\r\n            me.id               = 0\r\n            me.radicional_id    = 0\r\n            me.addPermisos      = true\r\n            me.asignatura_id    = item.id\r\n            me.nombreasignatura = item.name\r\n            me.libro_id         = item.idlibro\r\n            me.libro_web       =  item.weblibro\r\n        },\r\n        openModalEditarPermisos(tr){\r\n            let me                      = this;\r\n            me.id                       = tr.id\r\n            me.radicional_id            = tr.radicional_id\r\n            me.nombreasignatura         = tr.nombreasignatura\r\n            me.asignatura_id            = tr.idasignatura\r\n            me.acordeon                 = tr.permisos_acordeon\r\n            me.libro                    = tr.permisos_libros\r\n            me.curso                    = tr.permisos_cursos\r\n            me.cuaderno                 = tr.permisos_cuadernos\r\n            me.planificacion            = tr.permisos_planificaciones\r\n            //data de los recursos adicionales\r\n            me.mijuego                  = tr.zona_diversion_mi_juego\r\n            me.juegoProlipa             = tr.zona_diversion_juego_prolipa \r\n            me.materialDigital          = tr.material_apoyo_digital \r\n            me.materialpdf              = tr.material_apoyo_pdf \r\n            me.propuesta                = tr.propuestas_metodologicas \r\n            me.adaptacion               = tr.adaptaciones \r\n            me.articulo                 = tr.articulos \r\n            me.documentom               = tr.documentos_ministeriales \r\n            me.addPermisos              = true\r\n        },\r\n        agregaAsignacion() {\r\n            let me = this;\r\n            let data = new FormData();\r\n            data.append('id',                               me.id)\r\n            data.append('radicional_id',                    me.radicional_id)\r\n            data.append('institucion_id',                   me.permisosInstitucion)\r\n            data.append('asignatura_id',                    me.asignatura_id)\r\n            data.append('permisos_acordeon',                JSON.stringify(me.acordeon))\r\n            data.append('permisos_libros',                  JSON.stringify(me.libro))\r\n            data.append('permisos_cursos',                  JSON.stringify(me.curso))\r\n            data.append('permisos_cuadernos',               JSON.stringify(me.cuaderno))\r\n            data.append('permisos_planificaciones',         JSON.stringify(me.planificacion))\r\n            //data de los recursos adicionales\r\n            data.append('zona_diversion_mi_juego',          JSON.stringify(me.mijuego))\r\n            data.append('zona_diversion_juego_prolipa',     JSON.stringify(me.juegoProlipa))\r\n            data.append('material_apoyo_digital',           JSON.stringify(me.materialDigital))\r\n            data.append('material_apoyo_pdf',               JSON.stringify(me.materialpdf))\r\n            data.append('propuestas_metodologicas',         JSON.stringify(me.propuesta))\r\n            data.append('adaptaciones',                     JSON.stringify(me.adaptacion))\r\n            data.append('articulos',                        JSON.stringify(me.articulo))\r\n            data.append('documentos_ministeriales',         JSON.stringify(me.documentom))\r\n            this.$http.post(this.$server_url + \"asignar_asignatura_colegio\", data)\r\n                .then(function (res) {\r\n                    // console.log(res.data);\r\n                    if (res.data > 0) {\r\n                        me.$vs.notify({\r\n                            time: 7000,\r\n                            text: 'Esta asignatura ya se encuentra asignada a la institución',\r\n                            color: 'danger',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-alert-triangle'\r\n                        })\r\n                    } else {\r\n                        me.$vs.notify({\r\n                            text: 'Asignatura agregada a la institución',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                        me.getSeleccionadasColegios()\r\n                        me.addPermisos = false \r\n                        me.limpiar()\r\n                    }\r\n                    me.$vs.loading.close();\r\n                });\r\n        },\r\n        eliminaAsignacionColegio(item) {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + \"eliminaAsignacionColegio/\" + item.id)\r\n                .then(function (res) {\r\n                    me.$vs.notify({\r\n                        text: item.nombreasignatura + ' eliminada',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.getSeleccionadasColegios() \r\n                    me.$vs.loading.close();\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        limpiar(){\r\n            let me = this\r\n            me.id                               = 0\r\n            me.asignatura_id                    = \"\"\r\n            me.nombreasignatura                 = \"\"\r\n            me.acordeon.libro                   = \"1\"\r\n            me.acordeon.curso                   = \"1\"\r\n            me.acordeon.cuaderno                = \"1\"\r\n            me.acordeon.planificacion           = \"1\"\r\n            me.acordeon.recursos_adicional      = \"1\"\r\n            me.libro.libroweb                   = \"1\"\r\n            me.libro.libro_con_guia             = \"1\"\r\n            me.libro.guia_didactica             = \"1\"\r\n            me.libro.unidades                   = \"1\"\r\n            me.curso.ver                        = \"1\"\r\n            me.curso.agregar                    = \"1\"\r\n            me.curso.editar                     = \"1\"\r\n            me.curso.eliminar                   = \"1\"\r\n            me.cuaderno.guia                    = \"1\"\r\n            me.cuaderno.didactica               = \"1\"\r\n            me.cuaderno.web                     = \"1\"\r\n            me.planificacion.descargar          = \"1\"\r\n            me.planificacion.visualizar         = \"1\"\r\n            //variables para recursos adicionales\r\n            me.mijuego.agregar                  = \"1\"\r\n            me.mijuego.editar                   = \"1\"\r\n            me.mijuego.eliminar                 = \"1\"\r\n            me.mijuego.ver                      = \"1\"\r\n            me.mijuego.asignar                  = \"1\"\r\n            me.juegoProlipa.asignar             = \"1\"\r\n            me.juegoProlipa.ver                 = \"1\"\r\n            me.juegoProlipa.previsualizar       = \"1\"\r\n            me.materialDigital.ver              = \"1\"\r\n            me.materialDigital.previsualizar    = \"1\"\r\n            me.materialDigital.asignar          = \"1\"\r\n            me.materialpdf.subir                = \"1\"\r\n            me.materialpdf.ver                  = \"1\"\r\n            me.materialpdf.descargar            = \"1\"\r\n            me.materialpdf.asignar              = \"1\"\r\n            me.propuesta.ver                    = \"1\"\r\n            me.adaptacion.ver                   = \"1\"\r\n            me.articulo.lengua                  = \"1\"\r\n            me.articulo.matematica              = \"1\"\r\n            me.articulo.naturales               = \"1\"\r\n            me.articulo.sociales                = \"1\"\r\n            me.articulo.ensenanza               = \"1\"\r\n            me.documentom.ver                   = \"1\"        \r\n          //fin de variables para recursos adicionales\r\n        },\r\n        //METODOS PARA GENERAR LINK\r\n         getLinksLibros(){\r\n          let me = this\r\n          me.$vs.loading();\r\n          me.$http.get(this.$server_url + 'colegios_get_links_libro?id_libro=' + me.libro_id+'&institucion_id='+me.permisosInstitucion)\r\n          .then(res => {\r\n              me.links = res.data\r\n              me.$vs.loading.close()\r\n          })\r\n          .catch(function (error) { me.$vs.loading.close() })\r\n        },\r\n         guardarLink(){\r\n          let me = this\r\n          me.$vs.loading();\r\n          //GENERA ENLCACE \r\n            let host = location.protocol + '//' + location.hostname +':'+ location.port\r\n            let ruta = host +'/libro_free/'+ me.link.pag_ini+'4.3'+me.link.pag_fin+'4.3'+me.link.fecha_inicio+'4.3'+me.link.fecha_caducidad+'4.3'+me.libro_web\r\n          let formData = new FormData();\r\n          formData.append('id_libro', me.libro_id);\r\n          formData.append('pag_ini', me.link.pag_ini);\r\n          formData.append('pag_fin', me.link.pag_fin);\r\n          formData.append('fecha_ini', me.link.fecha_inicio);\r\n          formData.append('fecha_fin', me.link.fecha_caducidad);\r\n          formData.append('institucion_id', me.permisosInstitucion);\r\n          formData.append('recurso_externo', \"yes\");\r\n          formData.append('link', ruta);\r\n          me.$http.post(this.$server_url + 'guardar_link_libro', formData)\r\n          .then(res => {\r\n             me.$vs.loading.close()\r\n              if(res.data.status == '0'){\r\n                   me.$vs.notify({\r\n                  text:res.data.message,\r\n                  color:'warning',\r\n                  iconPack: 'feather',\r\n                  icon:'icon-check'})\r\n                  return false\r\n              }\r\n              me.getLinksLibros();\r\n              me.$vs.loading.close()\r\n              me.$vs.notify({ text: 'Link guardado con éxito', color: 'success', iconPack: 'feather', icon: 'icon-check' })\r\n          })\r\n          .catch(function (error) { me.$vs.loading.close() })\r\n        },\r\n        copiarLink(item){\r\n          let me = this\r\n            let host = location.protocol + '//' + location.hostname +':'+ location.port\r\n            let ruta = host +'/libro_free/'+ item.pag_ini+'4.3'+item.pag_fin+'4.3'+item.fecha_ini+'4.3'+item.fecha_fin+'4.3'+item.weblibro\r\n            var aux = document.createElement(\"input\");\r\n            console.log('ruta',ruta)\r\n            aux.setAttribute(\"value\", ruta);\r\n            document.body.appendChild(aux);\r\n            aux.select();\r\n            try {\r\n                var status = document.execCommand('copy');\r\n                if (!status) {\r\n                    me.$vs.notify({ text: 'Error al copiar el link', color: 'warning', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n                } else {\r\n                    me.$vs.notify({ text: 'Link copiado', color: 'success', iconPack: 'feather', icon: 'icon-check' })\r\n                }\r\n            } catch (err) {\r\n                console.log('No se pudo copiar');\r\n            }\r\n\r\n            document.body.removeChild(aux);\r\n        }\r\n        //FIN METODO PARA GENERAR LINK\r\n    }\r\n}\r\n",{"version":3,"sources":["asignarRecursosExternos.vue"],"names":[],"mappings":";AA+jBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"asignarRecursosExternos.vue","sourceRoot":"src/views/institucion/components","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"flex\">\r\n            <div v-if=\"verUsuarios == false\">\r\n                <vs-button color=\"success\" v-if=\"addPermisos == false\" @click=\"$emit('regresar',0)\" icon=\"reply\" type=\"filled\">Regresar</vs-button>\r\n                <vs-button color=\"success\" v-else @click=\"addPermisos = false\" icon=\"reply\" type=\"filled\">Regresar</vs-button>\r\n            </div>\r\n            <div v-if=\"addPermisos == false\">\r\n                <vs-button color=\"primary\" v-if=\"verUsuarios == false\" @click=\"verUsuarios = true\" class=\"ml-2\" icon=\"people\" type=\"filled\">Usuarios externos</vs-button>\r\n                <vs-button color=\"success\" v-else @click=\"verUsuarios = false\" icon=\"reply\" type=\"filled\">Regresar</vs-button>    \r\n            </div>\r\n        </div>\r\n        <vs-alert active=\"true\" color=\"warning\" class=\"mt-4\">\r\n             <p>!Asignar permisos externos a la institucion <span style=\"font-weight: bold;\">{{ permisosNombreInstitucion }}</span></p>   \r\n        </vs-alert>\r\n        <div v-if=\"addPermisos\" class=\"mt-5\">\r\n          <!--PERMISOS DEL ACORDEON-->\r\n            <vs-card>\r\n                <label style=\"font-weight: bold;\">Permisos del acordeón del libro: <span>{{ nombreasignatura }}</span> </label>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        Libro  \r\n                    </div>\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        <vs-radio v-model=\"acordeon.libro\" vs-name=\"acordeonlibro\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"acordeon.libro\" class=\"ml-2\" vs-name=\"acordeonlibro\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        Cursos  \r\n                    </div>\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        <vs-radio v-model=\"acordeon.curso\" vs-name=\"acordeoncurso\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"acordeon.curso\" class=\"ml-2\" vs-name=\"acordeoncurso\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        Cuadernos \r\n                    </div>\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        <vs-radio v-model=\"acordeon.cuaderno\" vs-name=\"acordeoncuaderno\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"acordeon.cuaderno\" class=\"ml-2\" vs-name=\"acordeoncuaderno\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        Planificaciones\r\n                    </div>\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        <vs-radio v-model=\"acordeon.planificacion\" vs-name=\"acordeonplanificacion\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"acordeon.planificacion\" class=\"ml-2\" vs-name=\"acordeonplanificacion\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        Recursos adicionales\r\n                    </div>\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        <vs-radio v-model=\"acordeon.recursos_adicional\" vs-name=\"acordeonrecursos_adicional\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"acordeon.recursos_adicional\" class=\"ml-2\" vs-name=\"acordeonrecursos_adicional\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n            </vs-card>\r\n            <!--FIN PERMISOS DEL ACORDEON-->\r\n            <!--PERMISOS DEL LIBRO-->\r\n            <vs-card v-if=\"acordeon.libro == '1'\">\r\n                <label style=\"font-weight: bold;\">Asignar permisos al libro: <span>{{ nombreasignatura }}</span> </label>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                         Libro web   \r\n                    </div>\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        <vs-radio v-model=\"libro.libroweb\" vs-name=\"libroweb\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"libro.libroweb\" class=\"ml-2\" vs-name=\"libroweb\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\" v-if=\"libro.libroweb == '1'\">\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        Mostrar todo el libro\r\n                    </div>\r\n                    <div class=\"w-1/3 p-2  text-center\" >\r\n                        <vx-tooltip style=\"display: inline-block;\" text=\"Generar link de libro\" position=\"top\" color=\"dark\">\r\n                            <vs-radio v-model=\"libro.todo\"  :class=\"[libro.todo == '1' ? '' : 'margin-left:43px']\" vs-name=\"librotodo\" vs-value=\"1\">Si </vs-radio>\r\n                            <vs-radio v-model=\"libro.todo\" class=\"ml-2\" vs-name=\"librotodo\" vs-value=\"0\">No </vs-radio>  \r\n                            <vs-button size=\"small\" v-if=\"libro.todo == '0'\"  style=\"display: inline-block;\" class=\"p-2 ml-5\" icon-pack=\"feather\" icon=\"icon-link\" color=\"dark\" @click=\"getLinksLibros(); popupLinkLibro=true;\"></vs-button>\r\n                        </vx-tooltip>\r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                         Libro con guia   \r\n                    </div>\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        <vs-radio v-model=\"libro.libro_con_guia\" vs-name=\"libro_con_guia\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"libro.libro_con_guia\" class=\"ml-2\" vs-name=\"libro_con_guia\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                         Libro guia didactica \r\n                    </div>\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        <vs-radio v-model=\"libro.guia_didactica\" vs-name=\"guia_didactica\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"libro.guia_didactica\" class=\"ml-2\" vs-name=\"guia_didactica\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        Unidades\r\n                    </div>\r\n                    <div class=\"w-1/3 p-2  text-center\">\r\n                        <vs-radio v-model=\"libro.unidades\" vs-name=\"unidades\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"libro.unidades\" class=\"ml-2\" vs-name=\"unidades\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n            </vs-card>\r\n            <!--FIN PERMISOS DEL LIBRO-->\r\n            <!--PERMISOS DE CURSOS-->\r\n            <vs-card v-if=\"acordeon.curso == '1'\">\r\n                <label style=\"font-weight: bold;\">Asignar permisos a los cursos</label>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        Ver curso  \r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"curso.ver\" vs-name=\"cver\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"curso.ver\" class=\"ml-2\" vs-name=\"cver\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        Agregar curso   \r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"curso.agregar\" vs-name=\"cagregar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"curso.agregar\" class=\"ml-2\" vs-name=\"cagregar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        Editar curso\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"curso.editar\" vs-name=\"ceditar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"curso.editar\" class=\"ml-2\" vs-name=\"ceditar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        Eliminar curso\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"curso.eliminar\" vs-name=\"celiminar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"curso.eliminar\" class=\"ml-2\" vs-name=\"celiminar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n            </vs-card>\r\n            <!--FIN PERMISOS DE CURSOS-->\r\n            <!--PERMISOS DE CUADERNOS-->\r\n            <vs-card v-if=\"acordeon.cuaderno == '1'\">\r\n                <label style=\"font-weight: bold;\">Asignar permisos a los cuadernos</label>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        Pdf con guia \r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"cuaderno.guia\" vs-name=\"cguia\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"cuaderno.guia\" class=\"ml-2\" vs-name=\"cguia\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                       Guia didáctica\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"cuaderno.didactica\" vs-name=\"cdidactica\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"cuaderno.didactica\" class=\"ml-2\" vs-name=\"cdidactica\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        Cuaderno web\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"cuaderno.web\" vs-name=\"cweb\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"cuaderno.web\" class=\"ml-2\" vs-name=\"cweb\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n            </vs-card>\r\n            <!--FIN PERMISOS DE CUADERNOS-->\r\n            <!--PERMISOS DE PLANIFICACIONES-->\r\n            <vs-card v-if=\"acordeon.planificacion == '1'\">\r\n                <label style=\"font-weight: bold;\">Asignar permisos a los planificaciones</label>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        Descargar planificación \r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"planificacion.descargar\" vs-name=\"pdescargar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"planificacion.descargar\" class=\"ml-2\" vs-name=\"pdescargar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                       Visualizar planificación\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"planificacion.visualizar\" vs-name=\"pvisualizar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"planificacion.visualizar\" class=\"ml-2\" vs-name=\"pvisualizar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n            </vs-card>\r\n            <!--FIN PERMISOS DE PLANIFICACIONES-->\r\n            <!--==========================================RECURSOS ADICIONALES===================================================================-->\r\n            <vs-divider>Recurso adicionales</vs-divider>\r\n            <div v-if=\"acordeon.recursos_adicional == '1'\">\r\n            <!--PERMISOS DE ZONA DE DIVERSION(MIS JUEGOS)-->\r\n            <vs-card>\r\n                <label style=\"font-weight: bold;\">Asignar permisos a zona de diversión(Mis juegos)</label>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Crear juego\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"mijuego.agregar\" vs-name=\"mijuego_agregar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"mijuego.agregar\" class=\"ml-2\" vs-name=\"mijuego_agregar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Editar juego\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"mijuego.editar\" vs-name=\"mijuego_editar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"mijuego.editar\" class=\"ml-2\" vs-name=\"mijuego_editar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Eliminar juego\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"mijuego.eliminar\" vs-name=\"mijuego_eliminar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"mijuego.eliminar\" class=\"ml-2\" vs-name=\"mijuego_eliminar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Ver Calificaciones\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"mijuego.ver\" vs-name=\"mijuego_ver\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"mijuego.ver\" class=\"ml-2\" vs-name=\"mijuego_ver\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Asignar a curso\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"mijuego.asignar\" vs-name=\"mijuego_asignar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"mijuego.asignar\" class=\"ml-2\" vs-name=\"mijuego_asignar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div> \r\n            </vs-card>\r\n            <!--FIN PERMISOS DE DIVERSION(MIS JUEGOS)-->\r\n            <!--PERMISOS DE ZONA DE DIVERSION(JUEGOS PROLIPA)-->\r\n            <vs-card>\r\n                <label style=\"font-weight: bold;\">Asignar permisos a zona de diversión(Juegos Prolipa)</label>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Asignar a curso\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"juegoProlipa.asignar\" vs-name=\"juegoProlipa_asignar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"juegoProlipa.asignar\" class=\"ml-2\" vs-name=\"juegoProlipa_asignar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div> \r\n                 <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Ver Calificaciones\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"juegoProlipa.ver\" vs-name=\"juegoProlipa_ver\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"juegoProlipa.ver\" class=\"ml-2\" vs-name=\"juegoProlipa_ver\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Previsualizar juego\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"juegoProlipa.previsualizar\" vs-name=\"juegoProlipa_previsualizar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"juegoProlipa.previsualizar\" class=\"ml-2\" vs-name=\"juegoProlipa_previsualizar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n               \r\n            </vs-card>\r\n            <!--FIN PERMISOS DE DIVERSION(JUEGOS PROLIPA)-->\r\n            <!--PERMISOS PARA MATERIAL DE APOYO(Material)-->\r\n            <vs-card>\r\n                <label style=\"font-weight: bold;\">Asignar permisos a Material Apoyo(Material digital)</label>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Ver temas\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"materialDigital.ver\" vs-name=\"materialDigital_ver\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"materialDigital.ver\" class=\"ml-2\" vs-name=\"materialDigital_ver\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Previsualizar Material\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"materialDigital.previsualizar\" vs-name=\"materialDigital_previsualizar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"materialDigital.previsualizar\" class=\"ml-2\" vs-name=\"materialDigital_previsualizar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Asignar a curso\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"materialDigital.asignar\" vs-name=\"materialDigital_asignar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"materialDigital.asignar\" class=\"ml-2\" vs-name=\"materialDigital_asignar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n            </vs-card>\r\n            <!--FIN PERMISOS PARA MATERIAL DE APOYO(Material)-->\r\n            <!--PERMISOS PARA MATERIAL DE APOYO(Material pdf/archivos)-->\r\n            <vs-card>\r\n                <label style=\"font-weight: bold;\">Asignar permisos a Material Apoyo(Material pdf/archivos)</label>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Subir archivos\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"materialpdf.subir\" vs-name=\"materialpdf_subir\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"materialpdf.subir\" class=\"ml-2\" vs-name=\"materialpdf_subir\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Ver Temas\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"materialpdf.ver\" vs-name=\"materialpdf_ver\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"materialpdf.ver\" class=\"ml-2\" vs-name=\"materialpdf_ver\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Descargar\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"materialpdf.descargar\" vs-name=\"materialpdf_descargar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"materialpdf.descargar\" class=\"ml-2\" vs-name=\"materialpdf_descargar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                    Asignar a curso\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"materialpdf.asignar\" vs-name=\"materialpdf_asignar\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"materialpdf.asignar\" class=\"ml-2\" vs-name=\"materialpdf_asignar\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n            </vs-card>\r\n            <!--FIN PERMISOS PARA MATERIAL DE APOYO(Material pdf/archivos)-->\r\n            <!--PERMISOS PARA PROPUESTAS METODOLÓGICAS-->\r\n            <vs-card>\r\n                <label style=\"font-weight: bold;\">Asignar permisos a Propuestas Metodológicas</label>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                     Ver Contenido\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"propuesta.ver\" vs-name=\"propuesta_ver\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"propuesta.ver\" class=\"ml-2\" vs-name=\"propuesta_ver\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n            </vs-card>\r\n            <!--FIN PERMISOS PARA PROPUESTAS METODOLÓGICAS-->\r\n            <!--PERMISOS PARA ADAPTACIONES CURRICULARES-->\r\n            <vs-card>\r\n                <label style=\"font-weight: bold;\">Asignar permisos a Adaptaciones Curriculares</label>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                     Ver Contenido\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"adaptacion.ver\" vs-name=\"adaptacion_ver\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"adaptacion.ver\" class=\"ml-2\" vs-name=\"adaptacion_ver\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n            </vs-card>\r\n            <!--FIN PERMISOS PARA ADAPTACIONES CURRICULARES-->\r\n            <!--PERMISOS PARA ARTICULOS-->\r\n            <vs-card>\r\n                <label style=\"font-weight: bold;\">Asignar permisos a Artículos</label>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                     Lengua\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"articulo.lengua\" vs-name=\"articulo_lengua\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"articulo.lengua\" class=\"ml-2\" vs-name=\"articulo_lengua\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                     Matemática\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"articulo.matematica\" vs-name=\"articulo_matematica\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"articulo.matematica\" class=\"ml-2\" vs-name=\"articulo_matematica\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                     Ciencias Naturales\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"articulo.naturales\" vs-name=\"articulo_naturales\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"articulo.naturales\" class=\"ml-2\" vs-name=\"articulo_naturales\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                     Ciencias Sociales\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"articulo.sociales\" vs-name=\"articulo_sociales\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"articulo.sociales\" class=\"ml-2\" vs-name=\"articulo_sociales\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                     Enseñanza educación\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"articulo.ensenanza\" vs-name=\"articulo_ensenanza\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"articulo.ensenanza\" class=\"ml-2\" vs-name=\"articulo_ensenanza\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n            </vs-card>\r\n            <!--FIN PERMISOS PARA ARTICULOS-->\r\n            <!--PERMISOS PARA DOCUMENTOS MINESTERIALES-->\r\n            <vs-card>\r\n                <label style=\"font-weight: bold;\">Asignar permisos a Documentos Minesteriales</label>\r\n                <div class=\"flex mb-4\">\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                     Ver Publicación\r\n                    </div>\r\n                    <div class=\"w-1/3 p-1  text-center\">\r\n                        <vs-radio v-model=\"documentom.ver\" vs-name=\"documentom_ver\" vs-value=\"1\">Si </vs-radio>\r\n                        <vs-radio v-model=\"documentom.ver\" class=\"ml-2\" vs-name=\"documentom_ver\" vs-value=\"0\">No </vs-radio>   \r\n                    </div>\r\n                </div>\r\n            </vs-card>\r\n            <!--FIN PERMISOS PARA DOCUMENTOS MINESTERIALES-->\r\n            </div>\r\n            <!--==========================================FIN RECURSOS ADICIONALES===================================================================-->\r\n            <vs-row>\r\n              <vs-button @click=\"agregaAsignacion()\" class=\"bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded\" type=\"filled\">\r\n                Guardar Permisos\r\n              </vs-button>\r\n            </vs-row>\r\n        </div>\r\n        <div v-if=\"addPermisos == false && verUsuarios == false\">\r\n            <div class=\"m-2\">\r\n                <vs-divider color=\"success\">Libros seleccionadas ( {{seleccionadas.length}} ) </vs-divider>\r\n                <vs-collapse>\r\n                    <vs-collapse-item icon-pack=\"feather\" icon-arrow=\"icon-arrow-down\">\r\n                        <div slot=\"header\">\r\n                            Ver ( {{seleccionadas.length}} )\r\n                        </div>\r\n                        <div class=\"vx-row\">\r\n                            <div class=\"vx-col sm:w-full text-right\" v-if=\"seleccionadas.length >1\">\r\n                                <!-- <vs-button type=\"border\" color=\"danger\" size=\"small\" @click=\"confirmaQuitar()\">Quitar todas <span class=\"feather icon icon-trash\"></span></vs-button> -->\r\n                            </div>\r\n                            <div class=\"vx-col sm:w-full\">\r\n                                <div v-for=\"(item, index) in seleccionadas\" :key=\"index\" class=\"m-1 p-1 asig-select text-dark\">\r\n                                    {{item.nombreasignatura}} &nbsp; &nbsp;\r\n                                    <vs-button @click=\"update=true;openModalEditarPermisos(item)\"  style=\"display:inline\" size=\"small\" color=\"primary\" radius type=\"border\" icon-pack=\"feather\" icon=\"icon-edit\"></vs-button>\r\n                                    <vs-button @click=\"eliminaAsignacionColegio(item)\" style=\"display:inline\" size=\"small\" color=\"danger\" radius type=\"border\" icon-pack=\"feather\" icon=\"icon-trash\"></vs-button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </vs-collapse-item>\r\n                </vs-collapse>\r\n            </div>\r\n            <div class=\"m-2\">\r\n                <vs-divider color=primary> Areas ( {{area.length}} ) </vs-divider>\r\n                <vs-collapse>\r\n                    <vs-collapse-item icon-pack=\"feather\" icon-arrow=\"icon-arrow-down\" v-for=\"(listItem, index) in area\" :key=\"index\" :title=\"listItem.name\">\r\n                        <div slot=\"header\">\r\n                            {{listItem.name}}\r\n                        </div>\r\n                        <vs-button v-for=\"(listIAsig, indexAsig) in listItem.children\" :key=\"indexAsig\" type=\"border\" color=\"primary\" class=\"p-2 m-1\" @click=\"openModalPermisos(listIAsig)\">\r\n                            {{listIAsig.name}}\r\n                        </vs-button>\r\n                    </vs-collapse-item>\r\n                </vs-collapse>\r\n            </div>   \r\n        </div>\r\n        <div v-if=\"verUsuarios\" class=\"mt-2\">\r\n            <usuarioRecursosExternosVue :institucion_id =\"institucion_id\"/>\r\n        </div>\r\n        <!--MODALES-->\r\n        <!--MODAL PARA GENERAR LINK-->\r\n        <vs-popup fullscreen title=\"Generar link\" :active.sync=\"popupLinkLibro\">\r\n            <div class=\"vx-row mb-base p-3\">\r\n                <div class=\"vx-col sm:w-1/2 w-full mb-3\">\r\n                <vs-input type=\"number\" class=\"w-full\" label=\"Página inicio\" v-model=\"link.pag_ini\" />\r\n                </div>\r\n                <div class=\"vx-col sm:w-1/2 w-full mb-3\">\r\n                <vs-input type=\"number\" class=\"w-full\" label=\"Página fin\" v-model=\"link.pag_fin\" />\r\n                </div>\r\n                <div class=\"vx-col sm:w-1/2 w-full mb-3\">\r\n                <div style=\"color: gray; font-size: 12px;\">Fecha inicio</div>\r\n                <flat-pickr class=\"w-full\" :config=\"configdateTimePicker\" v-model=\"link.fecha_inicio\" />\r\n                </div>\r\n                <div class=\"vx-col sm:w-1/2 w-full mb-3\">\r\n                <div style=\"color: gray; font-size: 12px;\">Fecha caducidad</div>\r\n                <flat-pickr class=\"w-full\" :config=\"configdateTimePicker\" v-model=\"link.fecha_caducidad\" />\r\n                </div>\r\n                <div class=\"vx-col w-full\">\r\n                <vs-button @click=\"guardarLink()\">Guardar link</vs-button>\r\n                </div>\r\n            </div>\r\n            <vs-divider></vs-divider>\r\n            <vs-table max-items=\"10\" stripe search pagination :data=\"links\" class=\"mb-3\">\r\n                <template slot=\"thead\">\r\n                    <vs-th>#</vs-th>\r\n                    <vs-th>Pág inicio</vs-th>\r\n                    <vs-th>Pág fin</vs-th>\r\n                    <vs-th>Fecha inicio</vs-th>\r\n                    <vs-th>Fecha fin</vs-th>\r\n                    <vs-th>Recurso externo</vs-th>\r\n                    <vs-th>Acciones</vs-th>\r\n                </template>\r\n                <template slot-scope=\"{data}\">\r\n                    <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                        <vs-td> {{indextr+1}} </vs-td>\r\n                        <vs-td> {{data[indextr].pag_ini}} </vs-td>\r\n                        <vs-td> {{data[indextr].pag_fin}} </vs-td>\r\n                        <vs-td> {{data[indextr].fecha_ini}} </vs-td>\r\n                        <vs-td> {{data[indextr].fecha_fin}} </vs-td>\r\n                        <vs-td> \r\n                            <div v-if=\"tr.recurso_externo == '0'\">\r\n                                <vs-chip color=\"warning\">No</vs-chip>   \r\n                            </div>\r\n                            <div v-else>\r\n                                <vs-chip color=\"warning\">Si</vs-chip><br><br>\r\n                                <small>Asignado a {{ tr.nombreInstitucion }}</small>\r\n                            </div>     \r\n                        </vs-td>\r\n                        <vs-td align=\"center\">\r\n                            <vx-tooltip style=\"display: inline-block;\" text=\"Copiar link\" position=\"top\" color=\"success\">\r\n                                <vs-button size=\"small\" class=\"modal-default-button\" color=\"success\" @click=\"copiarLink(data[indextr])\" type=\"line\" icon-pack=\"feather\" icon=\"icon-copy\"> </vs-button>\r\n                            </vx-tooltip>\r\n                        </vs-td>\r\n                    </vs-tr>\r\n                </template>\r\n            </vs-table>\r\n        </vs-popup>\r\n    </div>\r\n</template>\r\n<script>\r\nimport flatPickr from 'vue-flatpickr-component';\r\nimport 'flatpickr/dist/flatpickr.css';\r\nimport usuarioRecursosExternosVue from './usuarioRecursosExternos.vue';\r\nexport default {\r\n    data() {\r\n       return{\r\n          institucion_id:0,\r\n          area:[],\r\n          seleccionadas:[],\r\n          addPermisos:false,\r\n          verUsuarios:false,\r\n          id:0,\r\n          radicional_id:0,\r\n          asignatura_id:'',\r\n          nombreasignatura:'',\r\n          acordeon:{\r\n            libro:'1',\r\n            curso:'1',\r\n            cuaderno:'1',\r\n            planificacion:'1',\r\n            recursos_adicional:'1',\r\n          },\r\n          libro:{\r\n            libroweb:'1',\r\n            libro_con_guia:'1',\r\n            guia_didactica:'1',\r\n            unidades:'1',\r\n            todo:'1',\r\n          },\r\n          curso:{\r\n            ver:'1',\r\n            agregar:'1',\r\n            editar:'1',\r\n            eliminar:'1',\r\n          },\r\n          cuaderno:{\r\n            guia:'1',\r\n            didactica:'1',\r\n            web:'1',\r\n          },\r\n          planificacion:{\r\n            descargar:'1',\r\n            visualizar:'1',\r\n          },\r\n          //variables para recursos adicionales\r\n          mijuego:{\r\n            agregar:'1',\r\n            editar:'1',\r\n            eliminar:'1',\r\n            ver:'1',\r\n            asignar:'1',\r\n          },\r\n          juegoProlipa:{\r\n            asignar:'1',\r\n            ver:'1',\r\n            previsualizar:'1',\r\n          },\r\n          materialDigital:{\r\n            ver:'1',\r\n            previsualizar:'1',\r\n            asignar:'1',\r\n          },\r\n          materialpdf:{\r\n            subir:'1',\r\n            ver:'1',\r\n            descargar:'1',\r\n            asignar:'1',\r\n          },\r\n          propuesta:{\r\n            ver:'1',\r\n          },\r\n          adaptacion:{\r\n            ver:'1',\r\n          },\r\n          articulo:{\r\n            lengua:'1',\r\n            matematica:'1',\r\n            naturales:'1',\r\n            sociales:'1',\r\n            ensenanza:'1',\r\n          },\r\n          documentom:{\r\n            ver:'1',\r\n          },\r\n          //fin de variables para recursos adicionales\r\n          //VARIABLES PARA GENERAR LINK\r\n          libro_id:'',\r\n          libro_web:'',\r\n          links:[],\r\n          popupLinkLibro:false,\r\n          link:{\r\n            pag_ini: '',\r\n            pag_fin: '',\r\n            fecha_inicio: '',\r\n            fecha_caducidad: '',\r\n          },\r\n          configdateTimePicker: {\r\n              enableTime: true,\r\n              dateFormat: 'Y-m-d H:i:s'\r\n          },\r\n          //fin variable para generar link\r\n       } \r\n    },\r\n    components:{\r\n        usuarioRecursosExternosVue,\r\n        flatPickr\r\n    },\r\n    props:{\r\n        permisosInstitucion:{\r\n            type:String,\r\n            default:0\r\n        },\r\n        permisosNombreInstitucion:{\r\n            type:String,\r\n            default:\"\"\r\n        }\r\n    },\r\n    mounted(){\r\n        let me = this;\r\n        me.getAreaSelect();\r\n        me.getSeleccionadasColegios();\r\n        me.institucion_id = me.permisosInstitucion\r\n    },\r\n    methods:{\r\n         getAreaSelect() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + \"selectArea\").then(function (response) {\r\n                me.area = response.data.items;\r\n                me.$vs.loading.close();\r\n            });\r\n        },\r\n        getSeleccionadasColegios() {\r\n            let me = this;\r\n            me.seleccionadas = []\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + \"asignaturas_x_colegio?institucion_id=\"+me.permisosInstitucion)\r\n                .then(res => {\r\n                    let datos = res.data\r\n                    console.log('rr',res.data)\r\n                    for(let i = 0; i<datos.length; i++){\r\n                        me.seleccionadas.push({\r\n                            \"id\":datos[i].id,\r\n                            \"nombreasignatura\":datos[i].nombreasignatura,\r\n                            \"idasignatura\":datos[i].idasignatura,\r\n                            \"area_idarea\":datos[i].area_idarea,\r\n                            \"institucion_id\":datos[i].institucion_id,\r\n                            \"asignatura_id\":datos[i].asignatura_id,\r\n                            \"permisos_acordeon\":JSON.parse(datos[i].permisos_acordeon),\r\n                            \"permisos_libros\":JSON.parse(datos[i].permisos_libros),\r\n                            \"permisos_cursos\":JSON.parse(datos[i].permisos_cursos),\r\n                            \"permisos_cuadernos\":JSON.parse(datos[i].permisos_cuadernos),\r\n                            \"permisos_planificaciones\":JSON.parse(datos[i].permisos_planificaciones),\r\n                            \"zona_diversion_mi_juego\":JSON.parse(datos[i].zona_diversion_mi_juego),\r\n                            \"zona_diversion_juego_prolipa\":JSON.parse(datos[i].zona_diversion_juego_prolipa),\r\n                            \"material_apoyo_digital\":JSON.parse(datos[i].material_apoyo_digital),\r\n                            \"material_apoyo_pdf\":JSON.parse(datos[i].material_apoyo_pdf),\r\n                            \"propuestas_metodologicas\":JSON.parse(datos[i].propuestas_metodologicas),\r\n                            \"adaptaciones\":JSON.parse(datos[i].adaptaciones),\r\n                            \"articulos\":JSON.parse(datos[i].articulos),\r\n                            \"documentos_ministeriales\":JSON.parse(datos[i].documentos_ministeriales),\r\n                            \"radicional_id\":datos[i].radicional_id\r\n                        })\r\n                    }\r\n                    me.$vs.loading.close();\r\n                })\r\n                .catch(function(e){\r\n                    me.$vs.loading.close();\r\n                });\r\n        },\r\n        openModalPermisos(item){\r\n            let me = this;\r\n            me.id               = 0\r\n            me.radicional_id    = 0\r\n            me.addPermisos      = true\r\n            me.asignatura_id    = item.id\r\n            me.nombreasignatura = item.name\r\n            me.libro_id         = item.idlibro\r\n            me.libro_web       =  item.weblibro\r\n        },\r\n        openModalEditarPermisos(tr){\r\n            let me                      = this;\r\n            me.id                       = tr.id\r\n            me.radicional_id            = tr.radicional_id\r\n            me.nombreasignatura         = tr.nombreasignatura\r\n            me.asignatura_id            = tr.idasignatura\r\n            me.acordeon                 = tr.permisos_acordeon\r\n            me.libro                    = tr.permisos_libros\r\n            me.curso                    = tr.permisos_cursos\r\n            me.cuaderno                 = tr.permisos_cuadernos\r\n            me.planificacion            = tr.permisos_planificaciones\r\n            //data de los recursos adicionales\r\n            me.mijuego                  = tr.zona_diversion_mi_juego\r\n            me.juegoProlipa             = tr.zona_diversion_juego_prolipa \r\n            me.materialDigital          = tr.material_apoyo_digital \r\n            me.materialpdf              = tr.material_apoyo_pdf \r\n            me.propuesta                = tr.propuestas_metodologicas \r\n            me.adaptacion               = tr.adaptaciones \r\n            me.articulo                 = tr.articulos \r\n            me.documentom               = tr.documentos_ministeriales \r\n            me.addPermisos              = true\r\n        },\r\n        agregaAsignacion() {\r\n            let me = this;\r\n            let data = new FormData();\r\n            data.append('id',                               me.id)\r\n            data.append('radicional_id',                    me.radicional_id)\r\n            data.append('institucion_id',                   me.permisosInstitucion)\r\n            data.append('asignatura_id',                    me.asignatura_id)\r\n            data.append('permisos_acordeon',                JSON.stringify(me.acordeon))\r\n            data.append('permisos_libros',                  JSON.stringify(me.libro))\r\n            data.append('permisos_cursos',                  JSON.stringify(me.curso))\r\n            data.append('permisos_cuadernos',               JSON.stringify(me.cuaderno))\r\n            data.append('permisos_planificaciones',         JSON.stringify(me.planificacion))\r\n            //data de los recursos adicionales\r\n            data.append('zona_diversion_mi_juego',          JSON.stringify(me.mijuego))\r\n            data.append('zona_diversion_juego_prolipa',     JSON.stringify(me.juegoProlipa))\r\n            data.append('material_apoyo_digital',           JSON.stringify(me.materialDigital))\r\n            data.append('material_apoyo_pdf',               JSON.stringify(me.materialpdf))\r\n            data.append('propuestas_metodologicas',         JSON.stringify(me.propuesta))\r\n            data.append('adaptaciones',                     JSON.stringify(me.adaptacion))\r\n            data.append('articulos',                        JSON.stringify(me.articulo))\r\n            data.append('documentos_ministeriales',         JSON.stringify(me.documentom))\r\n            this.$http.post(this.$server_url + \"asignar_asignatura_colegio\", data)\r\n                .then(function (res) {\r\n                    // console.log(res.data);\r\n                    if (res.data > 0) {\r\n                        me.$vs.notify({\r\n                            time: 7000,\r\n                            text: 'Esta asignatura ya se encuentra asignada a la institución',\r\n                            color: 'danger',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-alert-triangle'\r\n                        })\r\n                    } else {\r\n                        me.$vs.notify({\r\n                            text: 'Asignatura agregada a la institución',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                        me.getSeleccionadasColegios()\r\n                        me.addPermisos = false \r\n                        me.limpiar()\r\n                    }\r\n                    me.$vs.loading.close();\r\n                });\r\n        },\r\n        eliminaAsignacionColegio(item) {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + \"eliminaAsignacionColegio/\" + item.id)\r\n                .then(function (res) {\r\n                    me.$vs.notify({\r\n                        text: item.nombreasignatura + ' eliminada',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.getSeleccionadasColegios() \r\n                    me.$vs.loading.close();\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        limpiar(){\r\n            let me = this\r\n            me.id                               = 0\r\n            me.asignatura_id                    = \"\"\r\n            me.nombreasignatura                 = \"\"\r\n            me.acordeon.libro                   = \"1\"\r\n            me.acordeon.curso                   = \"1\"\r\n            me.acordeon.cuaderno                = \"1\"\r\n            me.acordeon.planificacion           = \"1\"\r\n            me.acordeon.recursos_adicional      = \"1\"\r\n            me.libro.libroweb                   = \"1\"\r\n            me.libro.libro_con_guia             = \"1\"\r\n            me.libro.guia_didactica             = \"1\"\r\n            me.libro.unidades                   = \"1\"\r\n            me.curso.ver                        = \"1\"\r\n            me.curso.agregar                    = \"1\"\r\n            me.curso.editar                     = \"1\"\r\n            me.curso.eliminar                   = \"1\"\r\n            me.cuaderno.guia                    = \"1\"\r\n            me.cuaderno.didactica               = \"1\"\r\n            me.cuaderno.web                     = \"1\"\r\n            me.planificacion.descargar          = \"1\"\r\n            me.planificacion.visualizar         = \"1\"\r\n            //variables para recursos adicionales\r\n            me.mijuego.agregar                  = \"1\"\r\n            me.mijuego.editar                   = \"1\"\r\n            me.mijuego.eliminar                 = \"1\"\r\n            me.mijuego.ver                      = \"1\"\r\n            me.mijuego.asignar                  = \"1\"\r\n            me.juegoProlipa.asignar             = \"1\"\r\n            me.juegoProlipa.ver                 = \"1\"\r\n            me.juegoProlipa.previsualizar       = \"1\"\r\n            me.materialDigital.ver              = \"1\"\r\n            me.materialDigital.previsualizar    = \"1\"\r\n            me.materialDigital.asignar          = \"1\"\r\n            me.materialpdf.subir                = \"1\"\r\n            me.materialpdf.ver                  = \"1\"\r\n            me.materialpdf.descargar            = \"1\"\r\n            me.materialpdf.asignar              = \"1\"\r\n            me.propuesta.ver                    = \"1\"\r\n            me.adaptacion.ver                   = \"1\"\r\n            me.articulo.lengua                  = \"1\"\r\n            me.articulo.matematica              = \"1\"\r\n            me.articulo.naturales               = \"1\"\r\n            me.articulo.sociales                = \"1\"\r\n            me.articulo.ensenanza               = \"1\"\r\n            me.documentom.ver                   = \"1\"        \r\n          //fin de variables para recursos adicionales\r\n        },\r\n        //METODOS PARA GENERAR LINK\r\n         getLinksLibros(){\r\n          let me = this\r\n          me.$vs.loading();\r\n          me.$http.get(this.$server_url + 'colegios_get_links_libro?id_libro=' + me.libro_id+'&institucion_id='+me.permisosInstitucion)\r\n          .then(res => {\r\n              me.links = res.data\r\n              me.$vs.loading.close()\r\n          })\r\n          .catch(function (error) { me.$vs.loading.close() })\r\n        },\r\n         guardarLink(){\r\n          let me = this\r\n          me.$vs.loading();\r\n          //GENERA ENLCACE \r\n            let host = location.protocol + '//' + location.hostname +':'+ location.port\r\n            let ruta = host +'/libro_free/'+ me.link.pag_ini+'4.3'+me.link.pag_fin+'4.3'+me.link.fecha_inicio+'4.3'+me.link.fecha_caducidad+'4.3'+me.libro_web\r\n          let formData = new FormData();\r\n          formData.append('id_libro', me.libro_id);\r\n          formData.append('pag_ini', me.link.pag_ini);\r\n          formData.append('pag_fin', me.link.pag_fin);\r\n          formData.append('fecha_ini', me.link.fecha_inicio);\r\n          formData.append('fecha_fin', me.link.fecha_caducidad);\r\n          formData.append('institucion_id', me.permisosInstitucion);\r\n          formData.append('recurso_externo', \"yes\");\r\n          formData.append('link', ruta);\r\n          me.$http.post(this.$server_url + 'guardar_link_libro', formData)\r\n          .then(res => {\r\n             me.$vs.loading.close()\r\n              if(res.data.status == '0'){\r\n                   me.$vs.notify({\r\n                  text:res.data.message,\r\n                  color:'warning',\r\n                  iconPack: 'feather',\r\n                  icon:'icon-check'})\r\n                  return false\r\n              }\r\n              me.getLinksLibros();\r\n              me.$vs.loading.close()\r\n              me.$vs.notify({ text: 'Link guardado con éxito', color: 'success', iconPack: 'feather', icon: 'icon-check' })\r\n          })\r\n          .catch(function (error) { me.$vs.loading.close() })\r\n        },\r\n        copiarLink(item){\r\n          let me = this\r\n            let host = location.protocol + '//' + location.hostname +':'+ location.port\r\n            let ruta = host +'/libro_free/'+ item.pag_ini+'4.3'+item.pag_fin+'4.3'+item.fecha_ini+'4.3'+item.fecha_fin+'4.3'+item.weblibro\r\n            var aux = document.createElement(\"input\");\r\n            console.log('ruta',ruta)\r\n            aux.setAttribute(\"value\", ruta);\r\n            document.body.appendChild(aux);\r\n            aux.select();\r\n            try {\r\n                var status = document.execCommand('copy');\r\n                if (!status) {\r\n                    me.$vs.notify({ text: 'Error al copiar el link', color: 'warning', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n                } else {\r\n                    me.$vs.notify({ text: 'Link copiado', color: 'success', iconPack: 'feather', icon: 'icon-check' })\r\n                }\r\n            } catch (err) {\r\n                console.log('No se pudo copiar');\r\n            }\r\n\r\n            document.body.removeChild(aux);\r\n        }\r\n        //FIN METODO PARA GENERAR LINK\r\n    }\r\n}\r\n</script>"]}]}