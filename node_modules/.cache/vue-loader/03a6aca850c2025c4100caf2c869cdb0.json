{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\redactores\\admin\\control_cumplimientos.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\redactores\\admin\\control_cumplimientos.vue","mtime":1712682816489},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\n  import vSelect from 'vue-select'\r\n  import flatPickr from 'vue-flatpickr-component'\r\n  import 'flatpickr/dist/flatpickr.css'\r\n  import moment from 'moment'\r\n  \r\n  export default {\r\n      components:{\r\n        vSelect,\r\n        flatPickr\r\n      },\r\n      data: () => ({\r\n        usuario: [],\r\n        actividad_selected: [],\r\n        actividades: [],\r\n        area_selected: [],\r\n        serie_selected: [],\r\n        libro_selected: [],\r\n        periodo_selected: [],\r\n        serie_filtro: [],\r\n        areas: [],\r\n        format: \"yyyy-MM-dd\",\r\n        fecha_registro: '',\r\n        observacion: '',\r\n        areas_activa: false,\r\n        libro_activo: false,\r\n        unidad_activo: false,\r\n        periodo_activo: false,\r\n        cantidad: 0,\r\n        configdateTimePicker: {\r\n            enableTime: false,\r\n            dateFormat: 'Y-m-d'\r\n        },\r\n        fecha_inicio: '',\r\n        fecha_fin: '',\r\n        estadisticas: [],\r\n        estadisticas_edicion: [],\r\n        series: [],\r\n        libros: [],\r\n        periodos: [],\r\n        unidad_selected: '',\r\n        popupActividades: false,\r\n        actividad_filtro: [],\r\n        serie_filtro: [],\r\n        libro_filtro: [],\r\n        unidad_filtro: '',\r\n        redactores: [],\r\n        redactor_selected: [],\r\n      }),\r\n      mounted() {\r\n          let date = new Date()\r\n          this.fecha_inicio = moment(date, 'DD/MM/YYYY HH:mm:ss').format('YYYY-MM-DD')\r\n          this.fecha_fin = moment(date, 'DD/MM/YYYY HH:mm:ss').add(7, 'days').format('YYYY-MM-DD')\r\n  \r\n          this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n          // this.get_cumplimiento_redactor_normal()\r\n          // this.get_cumplimiento_redactor_edicion()\r\n          this.get_redactores()\r\n          this.get_actividades()\r\n          this.get_series_cumplimiento()\r\n          this.get_periodos_cumplimiento()\r\n      },\r\n      methods: {\r\n        get_redactores(){\r\n          let me = this\r\n          me.$vs.loading();\r\n          this.$http.get(this.$server_url+'get_redactores')\r\n          .then(res => {\r\n              me.redactores = res.data\r\n              me.redactor_selected = me.redactores[0]\r\n              me.$vs.loading.close();\r\n          })\r\n        },\r\n        get_actividades(){\r\n          let me = this\r\n          this.$http.get(this.$server_url+'get_actividades_cumplimiento')\r\n          .then(res => {\r\n              me.actividades = res.data\r\n          })\r\n        },\r\n        get_areas(){\r\n          let me = this\r\n          this.$http.get(this.$server_url+'get_areas_cumplimiento/' + me.actividad_selected.id_actividades)\r\n          .then(res => { me.areas = res.data })\r\n        },\r\n        get_series_cumplimiento(){\r\n          let me = this\r\n          this.$http.get(this.$server_url+'get_series_cumplimiento')\r\n          .then(res => { me.series = res.data })\r\n        },\r\n        get_libros_cumplimiento(id_serie){\r\n          let me = this\r\n          this.$http.get(this.$server_url+'get_libros_cumplimiento/' + id_serie)\r\n          .then(res => { me.libros = res.data })\r\n        },\r\n        get_periodos_cumplimiento(){\r\n          let me = this\r\n          this.$http.get(this.$server_url+'get_periodos_cumplimiento')\r\n          .then(res => { me.periodos = res.data })\r\n        },\r\n        get_cumplimiento_redactor_normal(){\r\n          let me = this\r\n          if( me.serie_filtro.id_serie === undefined ){\r\n            me.$vs.notify({ text: 'Seleccione una serie', color: 'warning', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n            return\r\n          }\r\n          \r\n          let id_libro = me.libro_filtro == null || me.libro_filtro == '' ? 0 : me.libro_filtro.idLibro\r\n          let unidad = me.unidad_filtro === undefined || me.unidad_filtro == '' ? 0 : me.unidad_filtro\r\n          \r\n          me.$vs.loading();\r\n          this.$http.get(this.$server_url+'get_cumplimiento_redactor_normal/'+me.fecha_inicio +'/'+ me.fecha_fin +'/'+ me.redactor_selected.idusuario+'/'+me.serie_filtro.id_serie+'/'+me.actividad_filtro.id_actividades+'/'+id_libro+'/'+unidad)\r\n          .then(res => {\r\n              me.estadisticas = res.data\r\n              me.$vs.loading.close();\r\n          })\r\n        },\r\n        get_cumplimiento_redactor_edicion(){\r\n          let me = this\r\n  \r\n          if( me.serie_filtro.id_serie === undefined ){\r\n            me.$vs.notify({ text: 'Seleccione una serie', color: 'warning', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n            return\r\n          }\r\n  \r\n          let id_libro = me.libro_filtro == null || me.libro_filtro == '' ? 0 : me.libro_filtro.idLibro\r\n          let unidad = me.unidad_filtro === undefined || me.unidad_filtro == '' ? 0 : me.unidad_filtro\r\n          \r\n          me.$vs.loading();\r\n          this.$http.get(this.$server_url+'get_cumplimiento_redactor_edicion/'+me.fecha_inicio +'/'+ me.fecha_fin +'/'+ me.redactor_selected.idusuario+'/'+me.serie_filtro.id_serie+'/'+me.actividad_filtro.id_actividades+'/'+id_libro+'/'+unidad)\r\n          .then(res => {\r\n              me.estadisticas_edicion = res.data\r\n              me.$vs.loading.close();\r\n          })\r\n        },\r\n  \r\n      },\r\n  }\r\n  ",{"version":3,"sources":["control_cumplimientos.vue"],"names":[],"mappings":";AA0FA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"control_cumplimientos.vue","sourceRoot":"src/views/redactores/admin","sourcesContent":["<template>\r\n  <div>\r\n  \r\n    <vx-card style=\"min-height: 600px;\">\r\n      <div class=\"w-full text-center flex flex-wrap gap-8 items-center justify-center text-lg mb-5\">\r\n        <p class=\"text-left\">Estad√≠sticas de cumplimiento del</p>\r\n        <flat-pickr :config=\"configdateTimePicker\" v-model=\"fecha_inicio\" />\r\n        <p>al</p>\r\n        <flat-pickr :config=\"configdateTimePicker\" v-model=\"fecha_fin\" />\r\n        <p>del redactor</p>\r\n        <v-select style=\"min-width: 350px;\" :options=\"redactores\" :reduce=\"redactores => redactores\" label=\"nombre_redactor\" v-model=\"redactor_selected\" />\r\n      </div>\r\n\r\n\r\n      <div class=\"w-full vx-row\">\r\n        <div class=\"vx-col sm:w-1/2 w-full mb-2\">\r\n          Actividad\r\n          <v-select class=\"flex-1\" :options=\"actividades\" :reduce=\"actividades => actividades\" label=\"nombre\" v-model=\"actividad_filtro\" @input=\"\r\n          serie_filtro=[]; libro_filtro=[]; unidad_filtro=''; \r\n          libro_activo = actividad_filtro.libro_activo == 1 ? false : true; \r\n          unidad_activo = actividad_filtro.unidad_activo == 1 ? false : true;\" />\r\n        </div>\r\n        <div class=\"vx-col sm:w-1/2 w-full mb-2\">\r\n          Serie\r\n          <v-select class=\"flex-1\" :options=\"series\" :reduce=\"series => series\" label=\"nombre_serie\" v-model=\"serie_filtro\" @input=\"get_libros_cumplimiento(serie_filtro.id_serie)\" />\r\n        </div>\r\n        <div class=\"vx-col sm:w-1/2 w-full mb-2\">\r\n          Libro\r\n          <v-select class=\"flex-1\" :options=\"libros\" :reduce=\"libros => libros\" label=\"nombrelibro\" v-model=\"libro_filtro\" :disabled=\"libro_activo\"/>\r\n        </div>\r\n        <div class=\"vx-col sm:w-1/4 w-full mb-2\">\r\n          Unidad\r\n          <v-select class=\"flex-1\" :options=\"[1,2,3,4,5,6,7,8,9,10]\" v-model=\"unidad_filtro\" :dir=\"$vs.rtl ? 'rtl' : 'ltr'\" :disabled=\"unidad_activo\"/>\r\n        </div>\r\n        <div class=\"vx-col sm:w-1/4 w-full mb-2 flex flex-wrap gap-4 items-end justify-center\">\r\n          <vx-tooltip text=\"Buscar con los filtros seleccionados\" position=\"top\">\r\n            <vs-button radius icon=\"icon-search\" icon-pack=\"feather\" @click=\"get_cumplimiento_redactor_normal(); get_cumplimiento_redactor_edicion();\"/>\r\n          </vx-tooltip>\r\n          <vx-tooltip text=\"Borrar filtros\" position=\"top\">\r\n            <vs-button radius icon=\"icon-trash\" icon-pack=\"feather\" type=\"border\" @click=\"actividad_filtro=''; serie_filtro=''; libro_filtro=''; unidad_filtro='';\"/>\r\n          </vx-tooltip>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <div :key=\"index\" v-for=\"(item, index) in estadisticas\">\r\n        <vs-divider class=\"mb-0\" color=\"#7443FF\" position=\"left\">{{item.actividad}}</vs-divider>\r\n        <div :key=\"index_ar\" v-for=\"(item_ar, index_ar) in item.areas\" class=\"px-5 flex flex-wrap gap-8 items-center justify-center\">\r\n          <vs-divider class=\"mb-0\" border-style=\"dashed\" position=\"center\">{{item_ar.nombre_area}}</vs-divider>\r\n\r\n          <div :key=\"index_av\" v-for=\"(item_av, index_av) in item_ar.avances\" class=\"flex-1 mb-4\">\r\n              <vx-tooltip :text=\"item_av.observacion_redactor\" color=\"dark\" position=\"bottom\">\r\n                <p> {{item_av.fecha}} - {{item_av.cant_avance}} / {{item_av.cant_diaria}}</p>\r\n                <span v-if=\"item_av.nombrelibro\">{{item_av.nombrelibro}}</span> <span v-if=\"item_av.periodoescolar\"> - {{item_av.periodoescolar}}</span>\r\n                <p v-if=\"item_av.unidad\"> Unidad {{item_av.unidad}}</p>\r\n                <vs-progress v-if=\"((item_av.cant_avance*100)/item_av.cant_diaria) >= 75\" height=\"7\" :percent=\"(item_av.cant_avance*100)/item_av.cant_diaria\" color=\"success\"></vs-progress>\r\n                <vs-progress v-if=\"((item_av.cant_avance*100)/item_av.cant_diaria) >= 50 && ((item_av.cant_avance*100)/item_av.cant_diaria) < 75\" height=\"7\" :percent=\"(item_av.cant_avance*100)/item_av.cant_diaria\" color=\"primary\"></vs-progress>\r\n                <vs-progress v-if=\"((item_av.cant_avance*100)/item_av.cant_diaria) >= 25 && ((item_av.cant_avance*100)/item_av.cant_diaria) < 50\" height=\"7\" :percent=\"(item_av.cant_avance*100)/item_av.cant_diaria\" color=\"warning\"></vs-progress>\r\n                <vs-progress v-if=\"((item_av.cant_avance*100)/item_av.cant_diaria) < 25\" height=\"7\" :percent=\"(item_av.cant_avance*100)/item_av.cant_diaria\" color=\"danger\"></vs-progress>\r\n              </vx-tooltip>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <div :key=\"index\" v-for=\"(item, index) in estadisticas_edicion\">\r\n          <vs-divider color=\"#7443FF\" position=\"left\">{{item.actividad}}</vs-divider>\r\n            <div class=\"px-5 flex flex-wrap gap-8 items-center justify-center mb-base\">\r\n              <div :key=\"index_av\" v-for=\"(item_av, index_av) in item.avances\" class=\"flex-1\">\r\n                <vx-tooltip :text=\"item_av.observacion_redactor\" color=\"dark\" position=\"bottom\">\r\n                <p> {{item_av.fecha}} - {{item_av.cant_avance}} / {{item_av.cant_diaria}}</p>\r\n                <span v-if=\"item_av.nombrelibro\">{{item_av.nombrelibro}}</span> <span v-if=\"item_av.periodoescolar\"> - {{item_av.periodoescolar}}</span>\r\n                <p v-if=\"item_av.unidad\"> Unidad {{item_av.unidad}}</p>\r\n                <vs-progress v-if=\"((item_av.cant_avance*100)/item_av.cant_diaria) >= 75\" height=\"7\" :percent=\"(item_av.cant_avance*100)/item_av.cant_diaria\" color=\"success\"></vs-progress>\r\n                <vs-progress v-if=\"((item_av.cant_avance*100)/item_av.cant_diaria) >= 50 && ((item_av.cant_avance*100)/item_av.cant_diaria) < 75\" height=\"7\" :percent=\"(item_av.cant_avance*100)/item_av.cant_diaria\" color=\"primary\"></vs-progress>\r\n                <vs-progress v-if=\"((item_av.cant_avance*100)/item_av.cant_diaria) >= 25 && ((item_av.cant_avance*100)/item_av.cant_diaria) < 50\" height=\"7\" :percent=\"(item_av.cant_avance*100)/item_av.cant_diaria\" color=\"warning\"></vs-progress>\r\n                <vs-progress v-if=\"((item_av.cant_avance*100)/item_av.cant_diaria) < 25\" height=\"7\" :percent=\"(item_av.cant_avance*100)/item_av.cant_diaria\" color=\"danger\"></vs-progress>\r\n                </vx-tooltip>\r\n              </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </vx-card>\r\n    \r\n  \r\n\r\n  </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import vSelect from 'vue-select'\r\n  import flatPickr from 'vue-flatpickr-component'\r\n  import 'flatpickr/dist/flatpickr.css'\r\n  import moment from 'moment'\r\n  \r\n  export default {\r\n      components:{\r\n        vSelect,\r\n        flatPickr\r\n      },\r\n      data: () => ({\r\n        usuario: [],\r\n        actividad_selected: [],\r\n        actividades: [],\r\n        area_selected: [],\r\n        serie_selected: [],\r\n        libro_selected: [],\r\n        periodo_selected: [],\r\n        serie_filtro: [],\r\n        areas: [],\r\n        format: \"yyyy-MM-dd\",\r\n        fecha_registro: '',\r\n        observacion: '',\r\n        areas_activa: false,\r\n        libro_activo: false,\r\n        unidad_activo: false,\r\n        periodo_activo: false,\r\n        cantidad: 0,\r\n        configdateTimePicker: {\r\n            enableTime: false,\r\n            dateFormat: 'Y-m-d'\r\n        },\r\n        fecha_inicio: '',\r\n        fecha_fin: '',\r\n        estadisticas: [],\r\n        estadisticas_edicion: [],\r\n        series: [],\r\n        libros: [],\r\n        periodos: [],\r\n        unidad_selected: '',\r\n        popupActividades: false,\r\n        actividad_filtro: [],\r\n        serie_filtro: [],\r\n        libro_filtro: [],\r\n        unidad_filtro: '',\r\n        redactores: [],\r\n        redactor_selected: [],\r\n      }),\r\n      mounted() {\r\n          let date = new Date()\r\n          this.fecha_inicio = moment(date, 'DD/MM/YYYY HH:mm:ss').format('YYYY-MM-DD')\r\n          this.fecha_fin = moment(date, 'DD/MM/YYYY HH:mm:ss').add(7, 'days').format('YYYY-MM-DD')\r\n  \r\n          this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n          // this.get_cumplimiento_redactor_normal()\r\n          // this.get_cumplimiento_redactor_edicion()\r\n          this.get_redactores()\r\n          this.get_actividades()\r\n          this.get_series_cumplimiento()\r\n          this.get_periodos_cumplimiento()\r\n      },\r\n      methods: {\r\n        get_redactores(){\r\n          let me = this\r\n          me.$vs.loading();\r\n          this.$http.get(this.$server_url+'get_redactores')\r\n          .then(res => {\r\n              me.redactores = res.data\r\n              me.redactor_selected = me.redactores[0]\r\n              me.$vs.loading.close();\r\n          })\r\n        },\r\n        get_actividades(){\r\n          let me = this\r\n          this.$http.get(this.$server_url+'get_actividades_cumplimiento')\r\n          .then(res => {\r\n              me.actividades = res.data\r\n          })\r\n        },\r\n        get_areas(){\r\n          let me = this\r\n          this.$http.get(this.$server_url+'get_areas_cumplimiento/' + me.actividad_selected.id_actividades)\r\n          .then(res => { me.areas = res.data })\r\n        },\r\n        get_series_cumplimiento(){\r\n          let me = this\r\n          this.$http.get(this.$server_url+'get_series_cumplimiento')\r\n          .then(res => { me.series = res.data })\r\n        },\r\n        get_libros_cumplimiento(id_serie){\r\n          let me = this\r\n          this.$http.get(this.$server_url+'get_libros_cumplimiento/' + id_serie)\r\n          .then(res => { me.libros = res.data })\r\n        },\r\n        get_periodos_cumplimiento(){\r\n          let me = this\r\n          this.$http.get(this.$server_url+'get_periodos_cumplimiento')\r\n          .then(res => { me.periodos = res.data })\r\n        },\r\n        get_cumplimiento_redactor_normal(){\r\n          let me = this\r\n          if( me.serie_filtro.id_serie === undefined ){\r\n            me.$vs.notify({ text: 'Seleccione una serie', color: 'warning', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n            return\r\n          }\r\n          \r\n          let id_libro = me.libro_filtro == null || me.libro_filtro == '' ? 0 : me.libro_filtro.idLibro\r\n          let unidad = me.unidad_filtro === undefined || me.unidad_filtro == '' ? 0 : me.unidad_filtro\r\n          \r\n          me.$vs.loading();\r\n          this.$http.get(this.$server_url+'get_cumplimiento_redactor_normal/'+me.fecha_inicio +'/'+ me.fecha_fin +'/'+ me.redactor_selected.idusuario+'/'+me.serie_filtro.id_serie+'/'+me.actividad_filtro.id_actividades+'/'+id_libro+'/'+unidad)\r\n          .then(res => {\r\n              me.estadisticas = res.data\r\n              me.$vs.loading.close();\r\n          })\r\n        },\r\n        get_cumplimiento_redactor_edicion(){\r\n          let me = this\r\n  \r\n          if( me.serie_filtro.id_serie === undefined ){\r\n            me.$vs.notify({ text: 'Seleccione una serie', color: 'warning', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n            return\r\n          }\r\n  \r\n          let id_libro = me.libro_filtro == null || me.libro_filtro == '' ? 0 : me.libro_filtro.idLibro\r\n          let unidad = me.unidad_filtro === undefined || me.unidad_filtro == '' ? 0 : me.unidad_filtro\r\n          \r\n          me.$vs.loading();\r\n          this.$http.get(this.$server_url+'get_cumplimiento_redactor_edicion/'+me.fecha_inicio +'/'+ me.fecha_fin +'/'+ me.redactor_selected.idusuario+'/'+me.serie_filtro.id_serie+'/'+me.actividad_filtro.id_actividades+'/'+id_libro+'/'+unidad)\r\n          .then(res => {\r\n              me.estadisticas_edicion = res.data\r\n              me.$vs.loading.close();\r\n          })\r\n        },\r\n  \r\n      },\r\n  }\r\n  </script>"]}]}