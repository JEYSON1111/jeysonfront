{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\ciudades\\listaCiudad.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\ciudades\\listaCiudad.vue","mtime":1712682815596},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport vSelect from 'vue-select';\r\nimport EditCiudad from './editCiudad.vue';\r\nexport default {\r\n    components: {\r\n        \"v-select\": vSelect,\r\n        EditCiudad\r\n    },\r\n    data() {\r\n        return {\r\n            listaProvincias: [],\r\n            listaCiudad: [],\r\n            modalEdit: false,\r\n            ciudad: '',\r\n            modalOk: 0,\r\n            titulo: '',\r\n        }\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        localStorage.removeItem('idCiudad');\r\n        me.getCiudades();\r\n    },\r\n    methods: {\r\n        getProvincias() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + 'getProvincias')\r\n                .then((result) => {\r\n                    // console.log(result.data)\r\n                    me.listaProvincias = result.data;\r\n                    me.$vs.loading.close();\r\n                }).catch((err) => {\r\n                    console.log(err)\r\n                    me.$vs.loading.close();\r\n                });\r\n        },\r\n        getCiudades() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + 'getCiudadProvincia/0')\r\n                .then((result) => {\r\n                    // console.log(result.data)\r\n                    me.listaCiudad = result.data;\r\n                    me.$vs.loading.close();\r\n                }).catch((err) => {\r\n                    console.log(err)\r\n                    me.$vs.loading.close();\r\n                });\r\n        },\r\n        btnEditCiudad(item) {\r\n            let me = this;\r\n            if (item == null) {\r\n              me.titulo = 'Agregar ciudad';\r\n              localStorage.setItem('idCiudad', 0)\r\n            }else{\r\n              me.titulo = 'Editar ciudad';\r\n              localStorage.setItem('idCiudad', item.idciudad)\r\n            }\r\n            me.modalOk = 1;\r\n            me.modalEdit = true;\r\n        },\r\n        closemodalEdit() {\r\n            let me = this;\r\n            me.modalOk = 0;\r\n        },\r\n        f_actualizada() {\r\n            let me = this;\r\n            me.modalOk = 0;\r\n            me.modalEdit = false;\r\n            me.getCiudades();\r\n        },\r\n    },\r\n}\r\n",{"version":3,"sources":["listaCiudad.vue"],"names":[],"mappings":";AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"listaCiudad.vue","sourceRoot":"src/views/ciudades","sourcesContent":["<template>\r\n<div>\r\n  <vs-button icon=\"add\" color=\"primary\" @click=\"btnEditCiudad()\" type=\"border\">Agregar</vs-button>\r\n    <vs-table max-items=\"40\" search pagination :data=\"listaCiudad\">\r\n        <template slot=\"header\">\r\n            <span>Cantidad: {{ listaCiudad.length }} </span>\r\n        </template>\r\n        <template slot=\"thead\">\r\n            <vs-th sort-key=\"idciudad\">id</vs-th>\r\n            <vs-th sort-key=\"nombre\">Ciudad</vs-th>\r\n            <vs-th sort-key=\"provincia_idprovincia\">Provincia</vs-th>\r\n            <vs-th sort-key=\"id_ciudad_milton\">Ciudad fact.</vs-th>\r\n            <vs-th sort-key=\"id_provincia_milton\">Provincia fact.</vs-th>\r\n            <vs-th></vs-th>\r\n        </template>\r\n        <template slot-scope=\"{data}\">\r\n            <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                <vs-td>\r\n                    {{data[indextr].idciudad}}\r\n                </vs-td>\r\n                <vs-td>\r\n                    {{data[indextr].nombre}}<br>\r\n                </vs-td>\r\n                <vs-td>\r\n                    id: {{data[indextr].provincia_idprovincia}} -\r\n                    {{data[indextr].nombreprovincia}}<br>\r\n                </vs-td>\r\n                <vs-td>\r\n                    {{data[indextr].id_ciudad_milton}}<br>\r\n                </vs-td>\r\n                <vs-td>\r\n                    {{data[indextr].id_provincia_milton}}<br>\r\n                </vs-td>\r\n                <vs-td>\r\n                    <vs-button icon=\"edit\" color=\"warning\" @click=\"btnEditCiudad(tr)\" />\r\n                </vs-td>\r\n            </vs-tr>\r\n        </template>\r\n    </vs-table>\r\n\r\n    <vs-popup :title=\"titulo\" :active.sync=\"modalEdit\" v-if=\"modalOk== 1\" @close=\"closemodalEdit\">\r\n        <EditCiudad @ciudad_update=\"f_actualizada()\" />\r\n    </vs-popup>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport vSelect from 'vue-select';\r\nimport EditCiudad from './editCiudad.vue';\r\nexport default {\r\n    components: {\r\n        \"v-select\": vSelect,\r\n        EditCiudad\r\n    },\r\n    data() {\r\n        return {\r\n            listaProvincias: [],\r\n            listaCiudad: [],\r\n            modalEdit: false,\r\n            ciudad: '',\r\n            modalOk: 0,\r\n            titulo: '',\r\n        }\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        localStorage.removeItem('idCiudad');\r\n        me.getCiudades();\r\n    },\r\n    methods: {\r\n        getProvincias() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + 'getProvincias')\r\n                .then((result) => {\r\n                    // console.log(result.data)\r\n                    me.listaProvincias = result.data;\r\n                    me.$vs.loading.close();\r\n                }).catch((err) => {\r\n                    console.log(err)\r\n                    me.$vs.loading.close();\r\n                });\r\n        },\r\n        getCiudades() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + 'getCiudadProvincia/0')\r\n                .then((result) => {\r\n                    // console.log(result.data)\r\n                    me.listaCiudad = result.data;\r\n                    me.$vs.loading.close();\r\n                }).catch((err) => {\r\n                    console.log(err)\r\n                    me.$vs.loading.close();\r\n                });\r\n        },\r\n        btnEditCiudad(item) {\r\n            let me = this;\r\n            if (item == null) {\r\n              me.titulo = 'Agregar ciudad';\r\n              localStorage.setItem('idCiudad', 0)\r\n            }else{\r\n              me.titulo = 'Editar ciudad';\r\n              localStorage.setItem('idCiudad', item.idciudad)\r\n            }\r\n            me.modalOk = 1;\r\n            me.modalEdit = true;\r\n        },\r\n        closemodalEdit() {\r\n            let me = this;\r\n            me.modalOk = 0;\r\n        },\r\n        f_actualizada() {\r\n            let me = this;\r\n            me.modalOk = 0;\r\n            me.modalEdit = false;\r\n            me.getCiudades();\r\n        },\r\n    },\r\n}\r\n</script>\r\n"]}]}