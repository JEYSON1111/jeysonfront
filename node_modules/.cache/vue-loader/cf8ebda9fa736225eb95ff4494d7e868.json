{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\admin\\capacitaciones.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\admin\\capacitaciones.vue","mtime":1712682815441},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\n\r\nimport vSelect from 'vue-select'\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            estado:'',\r\n            capacitaciones: '',\r\n            modalAdd: false,\r\n            capacitacion: {\r\n                'id': '',\r\n                'nueva_area': '',\r\n                'tema': '',\r\n                'capacitador': '',\r\n                'observacion':'',\r\n                'estado': '',\r\n            },\r\n            tipos: [],\r\n            areaSelect: '',\r\n            otra_area: 0,\r\n            txt_boton: 'Agregar',\r\n            color_boton: 'warning',\r\n            dato_eliminar: '',\r\n            popupSolicitudes: false,\r\n            popupEditSolicitud:false,\r\n            arregloSolicitudes: [],\r\n            id:0,\r\n            asesor:'',\r\n            comentario:''\r\n         \r\n        }\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        me.getTipoAreas();\r\n        me.getCapacitaciones();\r\n        me.verSolicitudes()\r\n    },\r\n    methods: {\r\n        GuardarEstadoSolicitud(){\r\n            let me = this;\r\n            let formData = new FormData();\r\n            formData.append('id', me.id);\r\n            formData.append('asesor', me.asesor);\r\n            formData.append('estado', me.estado);\r\n            formData.append('comentario', me.comentario);\r\n            me.$vs.loading();\r\n            this.$http.post(this.$server_url + 'editarSolicitudTema',formData)\r\n                .then(function (res) {\r\n                    me.$vs.loading.close()\r\n                    me.popupEditSolicitud = false\r\n                    me.$vs.notify({\r\n                    text: 'Se envio correctamente',\r\n                    color: 'primary',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.verSolicitudes()\r\n                    me.popupSolicitudes = true\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        verSolicitudes() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + 'solicitarTema?todo=yes')\r\n                .then(function (res) {\r\n                    me.$vs.loading.close()\r\n                    me.arregloSolicitudes = res.data;\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        openModalEditar(tr){\r\n            let me = this;\r\n            me.id = tr.id\r\n            me.asesor = tr.asesor_id\r\n            me.comentario = tr.comentario_admin\r\n            me.estado = tr.estado\r\n            me.popupSolicitudes = false\r\n            me.popupEditSolicitud = true\r\n        },\r\n        f_agregar_cap() {\r\n            let me = this;\r\n            me.color_boton = 'primary';\r\n            me.txt_boton = 'Agregar';\r\n            me.modalAdd = true;\r\n        },\r\n        getCapacitaciones() {\r\n            let me = this;\r\n            me.modalAdd = false;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + 'capacitacionTema')\r\n                .then(function (res) {\r\n                    me.capacitaciones = res.data\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        getTipoAreas() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n\r\n            this.$http.get(this.$server_url + 'areas')\r\n                .then(function (res) {\r\n                    me.tipos = res.data.area\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        f_verificar() {\r\n            let me = this;\r\n            if (me.capacitacion.tema == \"\" && me.capacitacion.tema != undefined) {\r\n                me.$vs.notify({\r\n                    text: 'Ingrese el tema de la capacitación',\r\n                    color: 'danger',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            // if (me.capacitacion.capacitador == \"\" && me.capacitacion.capacitador != null) {\r\n            //     me.$vs.notify({\r\n            //         text: 'Ingrese el el nombre del capacitador',\r\n            //         color: 'danger',\r\n            //         iconPack: 'feather',\r\n            //         icon: 'icon-alert-triangle'\r\n            //     })\r\n            //     return\r\n            // }\r\n            if (me.otra_area == 0) {\r\n                //si existe un area seleccionada, vaciar el input de  nueva area\r\n                me.capacitacion.nueva_area = ''\r\n                if (me.areaSelect == \"\" || me.areaSelect == 0 || me.areaSelect == null) {\r\n                    me.$vs.notify({\r\n                        text: 'Seleccione un área',\r\n                        color: 'danger',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    return\r\n                }\r\n            } else {\r\n                me.areaSelect = '';\r\n                if (me.capacitacion.nueva_area == \"\" || me.capacitacion.nueva_area == \"null\" || me.capacitacion.nueva_area == null) {\r\n                    me.$vs.notify({\r\n                        text: 'Ingrese el nombre de la nueva área',\r\n                        color: 'danger',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    return\r\n                }\r\n            }\r\n            // console.log( me.capacitacion, me.areaSelect )\r\n            // return\r\n            if (me.capacitacion.estado == true) {\r\n                me.capacitacion.estado = 1\r\n            } else {\r\n                me.capacitacion.estado = 0\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('id',           me.capacitacion.id);\r\n            formData.append('area',         me.areaSelect);\r\n            formData.append('nueva_area',   me.capacitacion.nueva_area);\r\n            formData.append('tema',         me.capacitacion.tema);\r\n            formData.append('capacitador',  me.capacitacion.capacitador);\r\n            formData.append('observacion',  me.capacitacion.observacion)\r\n            formData.append('estado',       me.capacitacion.estado);\r\n            // console.log(me.capacitacion, me.areaSelect)\r\n            // return\r\n            me.$vs.loading();\r\n            this.$http.post(this.$server_url + 'capacitacionTema', formData)\r\n                .then(function (res) {\r\n                    // console.log(res.data);\r\n                    me.getCapacitaciones();\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        f_carga_datos(item) {\r\n            let me = this;\r\n            me.txt_boton = 'Editar';\r\n            me.color_boton = 'warning';\r\n            me.areaSelect = item.area\r\n            item.estado == 1 ?\r\n                item.estado = true :\r\n                item.estado = false;\r\n            item.nueva_area == null ?\r\n                me.otra_area = 0 :\r\n                me.otra_area = 1;\r\n            me.capacitacion = item\r\n            // console.log(item)\r\n            me.modalAdd = true;\r\n        },\r\n        f_confirmar_elimina(item) {\r\n            let me = this;\r\n            // console.log(item)\r\n            me.dato_eliminar = item.id\r\n            me.$vs.dialog({\r\n                type: 'confirm',\r\n                color: 'danger',\r\n                title: `Eliminar`,\r\n                text: 'Desea eliminar este item?.',\r\n                acceptText: 'Aceptar',\r\n                cancelText: 'Cancelar',\r\n                accept: me.f_eliminarCapacitacion\r\n            })\r\n        },\r\n        f_eliminarCapacitacion() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.delete(this.$server_url + 'capacitacionTema/' + me.dato_eliminar)\r\n                .then(function (res) {\r\n                    // console.log(res.data);\r\n                    me.getCapacitaciones();\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        limpiar(){\r\n            let me = this;\r\n            me.capacitacion = {\r\n                'id': '',\r\n                'nueva_area': '',\r\n                'tema': '',\r\n                'capacitador': '',\r\n                'observacion':'',\r\n                'estado': '',\r\n            };\r\n        }\r\n    },\r\n}\r\n",{"version":3,"sources":["capacitaciones.vue"],"names":[],"mappings":";;AAgKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"capacitaciones.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n    <div class=\"mt-5\">\r\n        <div>\r\n            <vs-popup title=\"Agregar tema de capacitación \" :active.sync=\"modalAdd\">\r\n                <div class=\"m-2\">\r\n                    <vs-checkbox v-model=\"otra_area\">Otra área</vs-checkbox>\r\n                    <vs-input v-if=\"otra_area == 1\" v-model=\"capacitacion.nueva_area\" maxlength=\"300\" class=\"mb-4 w-full\" label=\"Nueva área\" placeholder=\"Ingrese el nombre de la nueva área\"></vs-input>\r\n                </div>\r\n                <div v-if=\"otra_area == 0\">Area\r\n                    <v-select :options=\"tipos\" :reduce=\"tipos => tipos.idarea\" label=\"nombrearea\" class=\"w-full\" v-model=\"areaSelect\" />\r\n                </div>\r\n        \r\n                <!-- {{areaSelect}} -->\r\n                <vs-input v-model=\"capacitacion.tema\" maxlength=\"300\" class=\"mb-4 w-full\" label=\"Tema\"></vs-input>\r\n                <vs-input v-model=\"capacitacion.capacitador\" hidden maxlength=\"300\" class=\"mb-4 w-full\" label=\"\"></vs-input>\r\n                <vs-input v-model=\"capacitacion.observacion\"  maxlength=\"300\" class=\"mb-4 w-full\" label=\"Observación\"></vs-input>\r\n                <label for=\"\">Estado</label>\r\n                <vs-switch style=\"width:85px\" color=\"success\" v-model=\"capacitacion.estado\">\r\n                    <span slot=\"on\">Activo</span>\r\n                    <span slot=\"off\">Inactivo</span>\r\n                </vs-switch>\r\n                <vs-button class=\"mt-5\" :color=\"color_boton\" @click=\"f_verificar()\" type=\"filled\">{{txt_boton}} </vs-button>\r\n            </vs-popup>\r\n        </div>\r\n        <div style=\"display:flex;\">\r\n            <vs-button color=\"primary\" type=\"border\" size=\"small\" style=\"font-size: 14px;\" @click=\"limpiar();f_agregar_cap();\">Agregar Tema</vs-button>\r\n            <vs-button color=\"warning\" class=\"ml-3\" icon=\"description\" type=\"border\" size=\"small\" style=\"font-size: 14px;\" @click=\"popupSolicitudes=true;\">Solicitudes de Temas</vs-button>\r\n            <vs-button radius color=\"warning\" v-if=\"arregloSolicitudes.length > 0\" class=\"ml-2\" type=\"filled\" icon=\"notifications_active\"></vs-button>\r\n        </div>\r\n        <vs-table max-items=\"10\" search pagination :data=\"capacitaciones\">\r\n            <template slot=\"header\">\r\n                Cantidad:<b> {{capacitaciones.length}}</b>\r\n            </template>\r\n            <template slot=\"thead\">\r\n                <vs-th>Tema</vs-th>\r\n                <vs-th>Capacitador</vs-th>\r\n                <vs-th>Area</vs-th>\r\n                <vs-th>Estado</vs-th>\r\n                <vs-th>Fechas</vs-th>\r\n                <vs-th></vs-th>\r\n\r\n            </template>\r\n            <template slot-scope=\"{data}\">\r\n                <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                    <vs-td>\r\n                        <b>Tema</b>\r\n                        <p>{{data[indextr].tema}}</p>\r\n                        <b>Observación</b>\r\n                        <p>{{ tr.observacion }}</p>\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        {{data[indextr].capacitador}}\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        <div v-if=\"data[indextr].area != null\">\r\n                            <span :key=\"itr\" v-for=\"(tr, itr) in tipos\">\r\n                                <span v-if=\"data[indextr].area == tr.idarea\"> {{tr.nombrearea}} </span>\r\n                            </span>\r\n                        </div>\r\n                        <div v-if=\"data[indextr].nueva_area != null\">\r\n                            {{data[indextr].nueva_area}}\r\n                        </div>\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        <span v-if=\"data[indextr].estado == 1\" class=\"text-success\">Activa</span>\r\n                        <span v-else class=\"text-danger\">Inactiva</span>\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        <small>Actualizado: {{fechaCorta(data[indextr].updated_at) }}</small><br>\r\n                        <small>Creado: {{fechaCorta(data[indextr].created_at) }}</small>\r\n                    </vs-td>\r\n                    <vs-td>\r\n                        <vs-button style=\"display:inline-block\" @click=\"f_carga_datos(tr);\" radius icon-pack=\"feather\" icon=\"icon-edit\" color=\"primary\" type=\"border\"></vs-button>\r\n                        <vs-button class=\"ml-2\" style=\"display:inline-block\" @click=\"f_confirmar_elimina(tr);\" radius icon-pack=\"feather\" icon=\"icon-trash\" color=\"danger\" type=\"border\"></vs-button>\r\n                    </vs-td>\r\n                </vs-tr>\r\n            </template>\r\n        </vs-table>\r\n        <!--POPUP DE LISTADO DE SOLICITUDES-->\r\n        <vs-popup class=\"holamundo\" title=\"Solicitudes\" fullscreen :active.sync=\"popupSolicitudes\">\r\n            <vs-table max-items=\"10\" stripe search pagination :data=\"arregloSolicitudes\">\r\n                <template slot=\"thead\">\r\n\r\n                    <vs-th>Asesor</vs-th>\r\n                    <vs-th>Tema</vs-th>\r\n                    <vs-th>Observacion</vs-th>\r\n                    <vs-th>Comentario Admin</vs-th>\r\n                    <vs-th>Estado</vs-th>\r\n                    <vs-th>Acciones</vs-th>\r\n\r\n                </template>\r\n                <template slot-scope=\"{data}\">\r\n                    <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                        <vs-td>\r\n                            {{data[indextr].asesor}}<br>\r\n                        </vs-td>\r\n                        <vs-td>\r\n                            {{data[indextr].tema}}<br>\r\n                        </vs-td>\r\n                        <vs-td>\r\n                            {{data[indextr].observacion}}<br>\r\n                        </vs-td>\r\n                        <vs-td>\r\n                            {{data[indextr].comentario_admin}}<br>\r\n                        </vs-td>\r\n                        <vs-td>\r\n                            <span v-if=\"data[indextr].estado == 0\"><br>\r\n                                <vs-chip color=\"danger\">Generado</vs-chip>\r\n                            </span>\r\n                            <span v-if=\"data[indextr].estado == 1\"><br>\r\n                                <vs-chip color=\"warning\">Tema Creado</vs-chip>\r\n                            </span>\r\n                            <span v-if=\"data[indextr].estado == 2\"><br>\r\n                                <vs-chip color=\"success\">No se pudo crear</vs-chip>\r\n                            </span>\r\n                        </vs-td>\r\n                        <vs-td>\r\n                            <div style=\"display:flex;\">   \r\n                                <vs-button radius color=\"success\" @click=\"openModalEditar(tr)\" type=\"line\" icon=\"edit\"></vs-button>\r\n                                <vs-button type=\"line\" style=\"border-radius: 10px;\" class=\"ml-3\" @click=\"limpiar();modalAdd = true;\">Agregar Tema</vs-button>\r\n                            </div>\r\n                        </vs-td>\r\n                    </vs-tr>\r\n                </template>\r\n            </vs-table>\r\n        </vs-popup>\r\n        <!--POPUP DE EDICION DE SOLICITUDES-->\r\n        <vs-popup class=\"holamundo\"  title=\"Enviar al asesor\" :active.sync=\"popupEditSolicitud\">\r\n            <vs-row>\r\n                <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                    <vs-input label=\"Comentario\" class=\"w-full\" placeholder=\"Comentario\" v-model=\"comentario\"/>\r\n                </vs-col>\r\n            </vs-row>\r\n            <vs-row class=\"mt-3\">\r\n                <vs-col vs-type=\"flex\" vs-justify=\"left\" vs-align=\"left\" vs-w=\"12\">\r\n                    <ul class=\"leftx\">\r\n                        <small>Estado</small>\r\n                        <li class=\"mt-2\">\r\n                        <vs-radio v-model=\"estado\" vs-name=\"radios1\" vs-value=\"0\">solicitud</vs-radio>\r\n                        </li>\r\n                        <li>\r\n                        <vs-radio v-model=\"estado\" vs-name=\"radios1\" vs-value=\"1\">Tema creado</vs-radio>\r\n                        </li>\r\n                        <li>\r\n                        <vs-radio v-model=\"estado\" vs-name=\"radios1\" vs-value=\"2\">No se pudo crear tema</vs-radio>\r\n                        </li> \r\n                    </ul>\r\n                </vs-col>\r\n            </vs-row>\r\n            <vs-row class=\"mt-2\">\r\n                <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                    <vs-button color=\"success\" @click=\"GuardarEstadoSolicitud()\" type=\"filled\">Enviar</vs-button>\r\n                </vs-col>\r\n            </vs-row>\r\n        </vs-popup>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport vSelect from 'vue-select'\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            estado:'',\r\n            capacitaciones: '',\r\n            modalAdd: false,\r\n            capacitacion: {\r\n                'id': '',\r\n                'nueva_area': '',\r\n                'tema': '',\r\n                'capacitador': '',\r\n                'observacion':'',\r\n                'estado': '',\r\n            },\r\n            tipos: [],\r\n            areaSelect: '',\r\n            otra_area: 0,\r\n            txt_boton: 'Agregar',\r\n            color_boton: 'warning',\r\n            dato_eliminar: '',\r\n            popupSolicitudes: false,\r\n            popupEditSolicitud:false,\r\n            arregloSolicitudes: [],\r\n            id:0,\r\n            asesor:'',\r\n            comentario:''\r\n         \r\n        }\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        me.getTipoAreas();\r\n        me.getCapacitaciones();\r\n        me.verSolicitudes()\r\n    },\r\n    methods: {\r\n        GuardarEstadoSolicitud(){\r\n            let me = this;\r\n            let formData = new FormData();\r\n            formData.append('id', me.id);\r\n            formData.append('asesor', me.asesor);\r\n            formData.append('estado', me.estado);\r\n            formData.append('comentario', me.comentario);\r\n            me.$vs.loading();\r\n            this.$http.post(this.$server_url + 'editarSolicitudTema',formData)\r\n                .then(function (res) {\r\n                    me.$vs.loading.close()\r\n                    me.popupEditSolicitud = false\r\n                    me.$vs.notify({\r\n                    text: 'Se envio correctamente',\r\n                    color: 'primary',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.verSolicitudes()\r\n                    me.popupSolicitudes = true\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        verSolicitudes() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + 'solicitarTema?todo=yes')\r\n                .then(function (res) {\r\n                    me.$vs.loading.close()\r\n                    me.arregloSolicitudes = res.data;\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        openModalEditar(tr){\r\n            let me = this;\r\n            me.id = tr.id\r\n            me.asesor = tr.asesor_id\r\n            me.comentario = tr.comentario_admin\r\n            me.estado = tr.estado\r\n            me.popupSolicitudes = false\r\n            me.popupEditSolicitud = true\r\n        },\r\n        f_agregar_cap() {\r\n            let me = this;\r\n            me.color_boton = 'primary';\r\n            me.txt_boton = 'Agregar';\r\n            me.modalAdd = true;\r\n        },\r\n        getCapacitaciones() {\r\n            let me = this;\r\n            me.modalAdd = false;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + 'capacitacionTema')\r\n                .then(function (res) {\r\n                    me.capacitaciones = res.data\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        getTipoAreas() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n\r\n            this.$http.get(this.$server_url + 'areas')\r\n                .then(function (res) {\r\n                    me.tipos = res.data.area\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        f_verificar() {\r\n            let me = this;\r\n            if (me.capacitacion.tema == \"\" && me.capacitacion.tema != undefined) {\r\n                me.$vs.notify({\r\n                    text: 'Ingrese el tema de la capacitación',\r\n                    color: 'danger',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            // if (me.capacitacion.capacitador == \"\" && me.capacitacion.capacitador != null) {\r\n            //     me.$vs.notify({\r\n            //         text: 'Ingrese el el nombre del capacitador',\r\n            //         color: 'danger',\r\n            //         iconPack: 'feather',\r\n            //         icon: 'icon-alert-triangle'\r\n            //     })\r\n            //     return\r\n            // }\r\n            if (me.otra_area == 0) {\r\n                //si existe un area seleccionada, vaciar el input de  nueva area\r\n                me.capacitacion.nueva_area = ''\r\n                if (me.areaSelect == \"\" || me.areaSelect == 0 || me.areaSelect == null) {\r\n                    me.$vs.notify({\r\n                        text: 'Seleccione un área',\r\n                        color: 'danger',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    return\r\n                }\r\n            } else {\r\n                me.areaSelect = '';\r\n                if (me.capacitacion.nueva_area == \"\" || me.capacitacion.nueva_area == \"null\" || me.capacitacion.nueva_area == null) {\r\n                    me.$vs.notify({\r\n                        text: 'Ingrese el nombre de la nueva área',\r\n                        color: 'danger',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    return\r\n                }\r\n            }\r\n            // console.log( me.capacitacion, me.areaSelect )\r\n            // return\r\n            if (me.capacitacion.estado == true) {\r\n                me.capacitacion.estado = 1\r\n            } else {\r\n                me.capacitacion.estado = 0\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('id',           me.capacitacion.id);\r\n            formData.append('area',         me.areaSelect);\r\n            formData.append('nueva_area',   me.capacitacion.nueva_area);\r\n            formData.append('tema',         me.capacitacion.tema);\r\n            formData.append('capacitador',  me.capacitacion.capacitador);\r\n            formData.append('observacion',  me.capacitacion.observacion)\r\n            formData.append('estado',       me.capacitacion.estado);\r\n            // console.log(me.capacitacion, me.areaSelect)\r\n            // return\r\n            me.$vs.loading();\r\n            this.$http.post(this.$server_url + 'capacitacionTema', formData)\r\n                .then(function (res) {\r\n                    // console.log(res.data);\r\n                    me.getCapacitaciones();\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        f_carga_datos(item) {\r\n            let me = this;\r\n            me.txt_boton = 'Editar';\r\n            me.color_boton = 'warning';\r\n            me.areaSelect = item.area\r\n            item.estado == 1 ?\r\n                item.estado = true :\r\n                item.estado = false;\r\n            item.nueva_area == null ?\r\n                me.otra_area = 0 :\r\n                me.otra_area = 1;\r\n            me.capacitacion = item\r\n            // console.log(item)\r\n            me.modalAdd = true;\r\n        },\r\n        f_confirmar_elimina(item) {\r\n            let me = this;\r\n            // console.log(item)\r\n            me.dato_eliminar = item.id\r\n            me.$vs.dialog({\r\n                type: 'confirm',\r\n                color: 'danger',\r\n                title: `Eliminar`,\r\n                text: 'Desea eliminar este item?.',\r\n                acceptText: 'Aceptar',\r\n                cancelText: 'Cancelar',\r\n                accept: me.f_eliminarCapacitacion\r\n            })\r\n        },\r\n        f_eliminarCapacitacion() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.delete(this.$server_url + 'capacitacionTema/' + me.dato_eliminar)\r\n                .then(function (res) {\r\n                    // console.log(res.data);\r\n                    me.getCapacitaciones();\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        limpiar(){\r\n            let me = this;\r\n            me.capacitacion = {\r\n                'id': '',\r\n                'nueva_area': '',\r\n                'tema': '',\r\n                'capacitador': '',\r\n                'observacion':'',\r\n                'estado': '',\r\n            };\r\n        }\r\n    },\r\n}\r\n</script>\r\n"]}]}