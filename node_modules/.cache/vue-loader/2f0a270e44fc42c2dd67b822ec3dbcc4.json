{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\registrar_responsable.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\registrar_responsable.vue","mtime":1712682816372},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport vSelect from 'vue-select'\r\nimport 'vue-select/dist/vue-select.css';\r\nimport VueDocPreview from 'vue-doc-preview'\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vue2Dropzone from 'vue2-dropzone'\r\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\r\nVue.use(axios)\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n        vueDropzone: vue2Dropzone,\r\n        VueDocPreview\r\n    },\r\n    data() {\r\n        return {\r\n            file: [],\r\n            user:[],\r\n            usuario: [],\r\n            usuario_creador: [],\r\n            error: '',\r\n            password: '',\r\n            passwordc: '',\r\n            btn: true,\r\n            instituciones: [],\r\n            idregion: '',\r\n            institucion_selected: '',\r\n            institucion_estudiante: [],\r\n        }\r\n    },\r\n    created() {\r\n        this.institucion_selected = localStorage.getItem('institucion_selected_pedido')\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        me.usuario_creador = JSON.parse(localStorage.getItem('usuario'));\r\n    },\r\n    methods: {\r\n        async guardar() {\r\n            let me = this\r\n\r\n             if( me.usuario.nombres == '' || me.usuario.apellidos == '' || me.usuario.email == '' || me.usuario.correo == '' ||  me.usuario.telefono == '' ){\r\n                me.$vs.notify({ color: 'warning', title: 'Alerta', text: 'Complete todos los campos antes de guardar.' })\r\n                return\r\n            }\r\n\r\n            me.$vs.loading();\r\n\r\n            let formData = new FormData();\r\n            formData.append('cedula', this.usuario.cedula);\r\n            formData.append('nombres', this.usuario.nombres);\r\n            formData.append('apellidos', this.usuario.apellidos);\r\n            formData.append('email', this.usuario.email);\r\n            formData.append('telefono', this.usuario.telefono);\r\n            formData.append('institucion_idInstitucion', this.institucion_selected);\r\n            formData.append('idcreadorusuario', this.usuario_creador.idusuario);\r\n\r\n            this.$http.post(this.$server_url+'guardar_responsable_pedido', formData)\r\n            .then(function (response) {\r\n                me.$vs.loading.close();\r\n                if(response.data.status == 0){\r\n                    me.$vs.notify({ color: 'danger', title:'Error' , text: response.data.message, time:4000})\r\n                    return\r\n                }\r\n                me.$vs.notify({ color: 'success', title: 'Éxito', text: 'Responsable registrado correctamente.' })\r\n                \r\n            })\r\n            .catch(function (error) {\r\n              me.$vs.loading.close()\r\n              if (error.response.status == 422) {\r\n                  try {\r\n                      me.$vs.notify({ color: 'warning', title: 'Alerta', text: error.response.data.errors.cedula[0] })\r\n                  } catch (error) {\r\n\r\n                  }\r\n                  try {\r\n                      me.$vs.notify({ color: 'warning', title: 'Alerta', text: error.response.data.errors.nombres[0] })\r\n                  } catch (error) {\r\n\r\n                  }\r\n                  try {\r\n                      me.$vs.notify({ color: 'warning', title: 'Alerta', text: error.response.data.errors.apellidos[0] })\r\n                  } catch (error) {\r\n\r\n                  }\r\n                  try {\r\n                      me.$vs.notify({ color: 'warning', title: 'Alerta', text: error.response.data.errors.email[0] })\r\n                  } catch (error) {\r\n\r\n                  }\r\n                  try {\r\n                      me.$vs.notify({ color: 'warning', title: 'Alerta', text: error.response.data.errors.password[0] })\r\n                  } catch (error) {\r\n\r\n                  }\r\n              }\r\n\r\n            })\r\n        },\r\n    },\r\n}\r\n",{"version":3,"sources":["registrar_responsable.vue"],"names":[],"mappings":";AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA","file":"registrar_responsable.vue","sourceRoot":"src/views/pedidos","sourcesContent":["<template>\r\n    <div class=\"px-3\">\r\n        <div class=\"vx-row mb-6\">\r\n            <div class=\"vx-col w-full sm:w-1/2\">\r\n                <vs-input class=\"w-full mb-3\" icon-pack=\"feather\" icon=\"icon-smartphone\" icon-no-border label=\"Cédula\" v-model=\"usuario.cedula\" />\r\n            </div>\r\n            <div class=\"vx-col w-full sm:w-1/2\">\r\n                <vs-input class=\"w-full mb-3\" icon-pack=\"feather\" icon=\"icon-user\" icon-no-border label=\"Nombres\" v-model=\"usuario.nombres\" />\r\n            </div>\r\n            <div class=\"vx-col w-full sm:w-1/2\">\r\n                <vs-input class=\"w-full mb-3\" icon-pack=\"feather\" icon=\"icon-user\" icon-no-border label=\"Apellidos\" v-model=\"usuario.apellidos\" />\r\n            </div>\r\n            <div class=\"vx-col w-full sm:w-1/2\">\r\n                <vs-input type=\"email\" class=\"w-full mb-3\" icon-pack=\"feather\" icon=\"icon-mail\" icon-no-border label=\"Correo\" v-model=\"usuario.email\" />\r\n            </div>\r\n            <div class=\"vx-col w-full sm:w-1/2\">\r\n                <vs-input class=\"w-full mb-3\" type=\"tel\" icon-pack=\"feather\" icon=\"icon-smartphone\" icon-no-border label=\"Teléfono\" v-model=\"usuario.telefono\" />\r\n            </div>\r\n        </div>\r\n        <div class=\"w-full\" align=\"right\">\r\n            <vs-button  @click=\"guardar\" color=\"success\">Guardar</vs-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport vSelect from 'vue-select'\r\nimport 'vue-select/dist/vue-select.css';\r\nimport VueDocPreview from 'vue-doc-preview'\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vue2Dropzone from 'vue2-dropzone'\r\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\r\nVue.use(axios)\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n        vueDropzone: vue2Dropzone,\r\n        VueDocPreview\r\n    },\r\n    data() {\r\n        return {\r\n            file: [],\r\n            user:[],\r\n            usuario: [],\r\n            usuario_creador: [],\r\n            error: '',\r\n            password: '',\r\n            passwordc: '',\r\n            btn: true,\r\n            instituciones: [],\r\n            idregion: '',\r\n            institucion_selected: '',\r\n            institucion_estudiante: [],\r\n        }\r\n    },\r\n    created() {\r\n        this.institucion_selected = localStorage.getItem('institucion_selected_pedido')\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        me.usuario_creador = JSON.parse(localStorage.getItem('usuario'));\r\n    },\r\n    methods: {\r\n        async guardar() {\r\n            let me = this\r\n\r\n             if( me.usuario.nombres == '' || me.usuario.apellidos == '' || me.usuario.email == '' || me.usuario.correo == '' ||  me.usuario.telefono == '' ){\r\n                me.$vs.notify({ color: 'warning', title: 'Alerta', text: 'Complete todos los campos antes de guardar.' })\r\n                return\r\n            }\r\n\r\n            me.$vs.loading();\r\n\r\n            let formData = new FormData();\r\n            formData.append('cedula', this.usuario.cedula);\r\n            formData.append('nombres', this.usuario.nombres);\r\n            formData.append('apellidos', this.usuario.apellidos);\r\n            formData.append('email', this.usuario.email);\r\n            formData.append('telefono', this.usuario.telefono);\r\n            formData.append('institucion_idInstitucion', this.institucion_selected);\r\n            formData.append('idcreadorusuario', this.usuario_creador.idusuario);\r\n\r\n            this.$http.post(this.$server_url+'guardar_responsable_pedido', formData)\r\n            .then(function (response) {\r\n                me.$vs.loading.close();\r\n                if(response.data.status == 0){\r\n                    me.$vs.notify({ color: 'danger', title:'Error' , text: response.data.message, time:4000})\r\n                    return\r\n                }\r\n                me.$vs.notify({ color: 'success', title: 'Éxito', text: 'Responsable registrado correctamente.' })\r\n                \r\n            })\r\n            .catch(function (error) {\r\n              me.$vs.loading.close()\r\n              if (error.response.status == 422) {\r\n                  try {\r\n                      me.$vs.notify({ color: 'warning', title: 'Alerta', text: error.response.data.errors.cedula[0] })\r\n                  } catch (error) {\r\n\r\n                  }\r\n                  try {\r\n                      me.$vs.notify({ color: 'warning', title: 'Alerta', text: error.response.data.errors.nombres[0] })\r\n                  } catch (error) {\r\n\r\n                  }\r\n                  try {\r\n                      me.$vs.notify({ color: 'warning', title: 'Alerta', text: error.response.data.errors.apellidos[0] })\r\n                  } catch (error) {\r\n\r\n                  }\r\n                  try {\r\n                      me.$vs.notify({ color: 'warning', title: 'Alerta', text: error.response.data.errors.email[0] })\r\n                  } catch (error) {\r\n\r\n                  }\r\n                  try {\r\n                      me.$vs.notify({ color: 'warning', title: 'Alerta', text: error.response.data.errors.password[0] })\r\n                  } catch (error) {\r\n\r\n                  }\r\n              }\r\n\r\n            })\r\n        },\r\n    },\r\n}\r\n</script>\r\n"]}]}