{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\certificados\\components\\ReporteCapacitacionIndividual.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\certificados\\components\\ReporteCapacitacionIndividual.vue","mtime":1712682815590},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport vSelect from 'vue-select';\r\nimport moment from 'moment'\r\nexport default{\r\n    data(){\r\n        return{\r\n            asesorSelect:'',\r\n            valorSelect:'',\r\n            tipoFiltro:0,\r\n            anios:[],\r\n            arregloReporte:[],\r\n            yactual:null,\r\n            menosUno:null,\r\n            menosDos:null,\r\n        }\r\n    },\r\n    components:{\r\n        vSelect,\r\n    },\r\n    props:{\r\n        lista_asesores:{\r\n            type:Array,\r\n            default:[],\r\n        },\r\n        periodos:{\r\n            type:Array,\r\n            default:[],\r\n        },\r\n        arregloCapacitadores:{\r\n            type:Array,\r\n            default:[],\r\n        },\r\n    },\r\n    created(){\r\n        let me = this;\r\n        me.yactual = moment().format('YYYY');\r\n        //restar Anios\r\n        me.menosUno = me.yactual - 1;\r\n        me.menosDos = me.yactual - 2;\r\n        me.anios.push({anio:me.yactual});\r\n        me.anios.push({anio:me.menosUno});\r\n        me.anios.push({anio:me.menosDos});  \r\n        me.anioSelect = this.anios[0].anio\r\n    },\r\n    methods:{\r\n        getReporte(){ \r\n            let me = this;\r\n            if( me.asesorSelect == \"\" || me.asesorSelect == null || me.asesorSelect == undefined ){\r\n                me.$vs.notify({\r\n                text:'Seleccione un capacitador para filtrar',\r\n                color:'warning',\r\n                iconPack: 'feather',\r\n                icon:'icon-check'})\r\n                return\r\n            }\r\n            if( me.valorSelect == \"\" || me.valorSelect == null || me.valorSelect == undefined ){\r\n                me.$vs.notify({\r\n                text:'Seleccione algun valor de filtro',\r\n                color:'warning',\r\n                iconPack: 'feather',\r\n                icon:'icon-check'})\r\n                return\r\n            }\r\n            this.$vs.loading()\r\n            var datos =  this.asesorSelect.idusuario +'*'+this.tipoFiltro + '*'+ this.valorSelect;\r\n            this.$http.get(this.$server_url + 'reporteCapacitaciones/' + datos)\r\n            .then(res => {\r\n               this.$vs.loading.close()\r\n               me.arregloReporte = res.data\r\n            })\r\n            .catch((e) =>{\r\n                this.$vs.loading.close()\r\n            })\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["ReporteCapacitacionIndividual.vue"],"names":[],"mappings":";AAgHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReporteCapacitacionIndividual.vue","sourceRoot":"src/views/certificados/components","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"flex mt-5\">\r\n            <div style=\"width: 25%;\">\r\n                <p> <ion-icon style=\"font-size: 18px;position: relative;top: 3px;\" name=\"people-circle-outline\"></ion-icon> Seleccione el capacitador</p>\r\n            </div>\r\n            <div style=\"width: 50%;\">\r\n                <v-select :options=\"arregloCapacitadores\" @input=\"arregloReporte = [];\" :reduce=\"arregloCapacitadores => arregloCapacitadores\" label=\"capacitador\" class=\"w-full\" v-model=\"asesorSelect\" />\r\n            </div>\r\n        </div>\r\n        <!-- <div class=\"flex mt-5\">\r\n            <div style=\"width: 25%;\">\r\n                <p> <ion-icon style=\"font-size: 18px;position: relative;top: 3px;\" name=\"people-circle-outline\"></ion-icon> Seleccione el asesor</p>\r\n            </div>\r\n            <div style=\"width: 50%;\">\r\n                <v-select :options=\"lista_asesores\" @input=\"arregloReporte = [];\" :reduce=\"lista_asesores => lista_asesores\" label=\"nombres\" class=\"w-full\" v-model=\"asesorSelect\" />\r\n            </div>\r\n        </div> -->\r\n        <vs-divider>Filtro de Reporte</vs-divider>\r\n        <div class=\"vx-row mb-4\">\r\n            <div class=\"vx-col w-full sm:w-full md:w-1/4 lg:w-1/4 xl:w-1/4 p-2 bg-gray-400 text-center\" >\r\n                <ul class=\"flex\">\r\n                    <li>\r\n                    <vs-radio v-model=\"tipoFiltro\" @input=\"valorSelect = '';arregloReporte = [];\" vs-name=\"radios1tipoFiltro\" vs-value=\"0\">Por período</vs-radio>\r\n                    </li>\r\n                    <li>\r\n                    <vs-radio v-model=\"tipoFiltro\" @input=\"valorSelect = '';arregloReporte = [];\" class=\"ml-2\" vs-name=\"radios1tipoFiltro\" vs-value=\"1\">Por meses</vs-radio>\r\n                    </li>\r\n                </ul> \r\n            </div>\r\n            <div class=\"vx-col w-full sm:w-full md:w-1/2 lg:w-1/2 xl:w-1/2 p-2 bg-gray-500\" >\r\n                <div v-if=\"tipoFiltro == 0\">\r\n                    <v-select :options=\"periodos\" :reduce=\"periodos => periodos.idperiodoescolar\" label=\"periodoescolar\" class=\"w-full\" v-model=\"valorSelect\" />\r\n                </div>    \r\n                <div v-if=\"tipoFiltro == 1\">\r\n                    <ul class=\"flex\">\r\n                        <li v-for=\"(tr,index) in anios\" :key=\"index\">\r\n                            <vs-radio v-model=\"valorSelect\" @input=\"arregloReporte = [];\" class=\"m-2\" vs-name=\"radios1\" :vs-value=\"tr.anio\">{{ tr.anio }}</vs-radio>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <vs-button class=\"mt-5\" @click=\"getReporte()\" color=\"primary\" type=\"border\" icon=\"search\">Buscar</vs-button>\r\n            </div>\r\n        </div>\r\n         <!--MOSTRAR REPORTE-->\r\n        <vs-table max-items=\"10\" stripe search pagination :data=\"arregloReporte\">\r\n            <template slot=\"header\">\r\n                <vs-chip  color=\"primary\">Cantidad: <b> {{ arregloReporte.length }}</b></vs-chip>\r\n            </template>\r\n            <template slot=\"thead\">\r\n                <vs-th>Institución</vs-th>\r\n                <vs-th>Contador capacitaciones</vs-th>\r\n            </template>\r\n            <template slot-scope=\"{data}\">\r\n                <vs-tr :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                    <vs-td>\r\n                        <!--Institucion prolipa-->\r\n                        <div v-if=\"tr.estado_institucion_temporal == 0\">\r\n                            <b>Asesor</b>\r\n                            <p>{{ tr.asesor }}</p>\r\n                            <b>Institución</b>\r\n                            <p>{{ tr.nombreInstitucion }}</p>\r\n                            <b>Ciudad</b>\r\n                            <p>{{ tr.ciudad }}</p>\r\n                            <!-- <b>Período</b>\r\n                            <p>{{ tr.periodo }}</p> -->\r\n                        </div>\r\n                        <!--Institucion Temporal-->\r\n                        <div v-else>\r\n                            <b>Institución</b>\r\n                            <p>{{ tr.nombre_institucion_temporal }}</p>\r\n                            <b>Ciudad</b>\r\n                            <p>{{ tr.ciudad_temporal }}</p>\r\n                            <b>Período</b>\r\n                            <p>{{ tr.periodo }}</p>\r\n                        </div>        \r\n                    </vs-td>\r\n                    <vs-td>\r\n                        <!--FILTRO POR PERIODO-->\r\n                        <div v-if=\"tipoFiltro == 0\">\r\n                            <vs-divider> <p><b>Total visitas:</b> {{ tr.reporte.length }} </p></vs-divider>\r\n                            <div v-if=\"tr.reporte.length > 0\">\r\n                                {{ item }}\r\n                                <p v-for=\"(item,key2) in tr.reporte\" :key=\"key2\"><b>*</b> {{ item.tema }}</p>\r\n                            </div>\r\n                        </div>\r\n                        <!--FILTRO POR MESES-->\r\n                        <div v-else>\r\n                            <vs-list>\r\n                                <vs-list-header :title=\"'Año '+valorSelect\"></vs-list-header>\r\n                                <p>Enero        <b v-if=\"tr.reporte[0].Ene > 0\">{{ tr.reporte[0].Ene }}</b> <span v-else>{{ tr.reporte[0].Ene }}</span></p>\r\n                                <p>Febrero      <b v-if=\"tr.reporte[0].Feb > 0\">{{ tr.reporte[0].Feb }}</b> <span v-else>{{ tr.reporte[0].Feb }}</span></p>\r\n                                <p>Marzo        <b v-if=\"tr.reporte[0].Mar > 0\">{{ tr.reporte[0].Mar }}</b> <span v-else>{{ tr.reporte[0].Mar }}</span></p>\r\n                                <p>Abril        <b v-if=\"tr.reporte[0].Abr > 0\">{{ tr.reporte[0].Abr }}</b> <span v-else>{{ tr.reporte[0].Abr }}</span></p>\r\n                                <p>Mayo         <b v-if=\"tr.reporte[0].May > 0\">{{ tr.reporte[0].May }}</b> <span v-else>{{ tr.reporte[0].May }}</span></p>\r\n                                <p>Junio        <b v-if=\"tr.reporte[0].Jun > 0\">{{ tr.reporte[0].Jun }}</b> <span v-else>{{ tr.reporte[0].Jun }}</span></p>\r\n                                <p>Julio        <b v-if=\"tr.reporte[0].Jul > 0\">{{ tr.reporte[0].Jul }}</b> <span v-else>{{ tr.reporte[0].Jul }}</span></p>\r\n                                <p>Agosto       <b v-if=\"tr.reporte[0].Ago > 0\">{{ tr.reporte[0].Ago }}</b> <span v-else>{{ tr.reporte[0].Ago }}</span></p>\r\n                                <p>Septiembre   <b v-if=\"tr.reporte[0].Sep > 0\">{{ tr.reporte[0].Sep }}</b> <span v-else>{{ tr.reporte[0].Sep }}</span></p>\r\n                                <p>Octubre      <b v-if=\"tr.reporte[0].Oct > 0\">{{ tr.reporte[0].Oct }}</b> <span v-else>{{ tr.reporte[0].Oct }}</span></p>\r\n                                <p>Noviembre    <b v-if=\"tr.reporte[0].Nov > 0\">{{ tr.reporte[0].Nov }}</b> <span v-else>{{ tr.reporte[0].Nov }}</span></p>\r\n                                <p>Diciembre    <b v-if=\"tr.reporte[0].Dic > 0\">{{ tr.reporte[0].Dic }}</b> <span v-else>{{ tr.reporte[0].Dic }}</span></p>\r\n                            </vs-list>\r\n                        </div>\r\n                    </vs-td>\r\n                </vs-tr>\r\n            </template>\r\n        </vs-table>\r\n        <br><br><br>\r\n    </div>\r\n</template>\r\n<script>\r\nimport vSelect from 'vue-select';\r\nimport moment from 'moment'\r\nexport default{\r\n    data(){\r\n        return{\r\n            asesorSelect:'',\r\n            valorSelect:'',\r\n            tipoFiltro:0,\r\n            anios:[],\r\n            arregloReporte:[],\r\n            yactual:null,\r\n            menosUno:null,\r\n            menosDos:null,\r\n        }\r\n    },\r\n    components:{\r\n        vSelect,\r\n    },\r\n    props:{\r\n        lista_asesores:{\r\n            type:Array,\r\n            default:[],\r\n        },\r\n        periodos:{\r\n            type:Array,\r\n            default:[],\r\n        },\r\n        arregloCapacitadores:{\r\n            type:Array,\r\n            default:[],\r\n        },\r\n    },\r\n    created(){\r\n        let me = this;\r\n        me.yactual = moment().format('YYYY');\r\n        //restar Anios\r\n        me.menosUno = me.yactual - 1;\r\n        me.menosDos = me.yactual - 2;\r\n        me.anios.push({anio:me.yactual});\r\n        me.anios.push({anio:me.menosUno});\r\n        me.anios.push({anio:me.menosDos});  \r\n        me.anioSelect = this.anios[0].anio\r\n    },\r\n    methods:{\r\n        getReporte(){ \r\n            let me = this;\r\n            if( me.asesorSelect == \"\" || me.asesorSelect == null || me.asesorSelect == undefined ){\r\n                me.$vs.notify({\r\n                text:'Seleccione un capacitador para filtrar',\r\n                color:'warning',\r\n                iconPack: 'feather',\r\n                icon:'icon-check'})\r\n                return\r\n            }\r\n            if( me.valorSelect == \"\" || me.valorSelect == null || me.valorSelect == undefined ){\r\n                me.$vs.notify({\r\n                text:'Seleccione algun valor de filtro',\r\n                color:'warning',\r\n                iconPack: 'feather',\r\n                icon:'icon-check'})\r\n                return\r\n            }\r\n            this.$vs.loading()\r\n            var datos =  this.asesorSelect.idusuario +'*'+this.tipoFiltro + '*'+ this.valorSelect;\r\n            this.$http.get(this.$server_url + 'reporteCapacitaciones/' + datos)\r\n            .then(res => {\r\n               this.$vs.loading.close()\r\n               me.arregloReporte = res.data\r\n            })\r\n            .catch((e) =>{\r\n                this.$vs.loading.close()\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>"]}]}