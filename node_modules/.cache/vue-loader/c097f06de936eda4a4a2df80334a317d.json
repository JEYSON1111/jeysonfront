{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\colegios\\colegios_libros.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\colegios\\colegios_libros.vue","mtime":1712682815687},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nimport 'vue-select/dist/vue-select.css';\r\nVue.use(axios)\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            activePrompt: false,\r\n            activePrompt2: false,\r\n            val: '',\r\n            idlibro: '',\r\n            valMultipe: {\r\n                value1: '',\r\n                value2: ''\r\n            },\r\n            select: [],\r\n            libros: [],\r\n            usuario: [],\r\n            asignaturas_docente: [],\r\n            variable_ejemplo: [],\r\n            idasignatura_doc: '',\r\n            series: [],\r\n            areas: [],\r\n            libros_area: [],\r\n            colores: ['#E74C3C', '#8E44AD', '#3498DB', '#16A085', '#F7DC6F', '#E67E22', '#5D6D7E', '#273746'],\r\n            serie_selected: '',\r\n            area_selected: '',\r\n            areas_activo: 1,\r\n            permisosExternos:{\r\n                \"id\": \"\",\r\n                \"nombreasignatura\": \"\",\r\n                \"idasignatura\": \"\",\r\n                \"area_idarea\": \"\",\r\n                \"institucion_id\": \"\",\r\n                \"asignatura_id\": \"\",\r\n                \"permisos_acordeon\": \"\",\r\n                \"permisos_libros\": \"\",\r\n                \"permisos_cursos\": \"\",\r\n                \"permisos_cuadernos\": \"\",\r\n                \"permisos_planificaciones\": \"\",\r\n                \"radicional_id\": \"\",\r\n                \"zona_diversion_mi_juego\": \"\",\r\n                \"zona_diversion_juego_prolipa\": \"\",\r\n                \"material_apoyo_digital\": \"\",\r\n                \"material_apoyo_pdf\": \"\",\r\n                \"propuestas_metodologicas\": \"\",\r\n                \"adaptaciones\": \"\",\r\n                \"articulos\": \"\",\r\n                \"documentos_ministeriales\": \"\",\r\n                \"colegio_permiso_id\": \"\"\r\n            }\r\n        }\r\n    },\r\n   \r\n    created() {\r\n        this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n    },\r\n    mounted() {\r\n        let me = this\r\n        this.series_libros_doc()\r\n        if( localStorage.serie_selected ){\r\n          this.verAreasSerie(localStorage.serie_selected)\r\n          if( localStorage.area_selected ){\r\n            this.verLibrosArea(localStorage.area_selected)\r\n          }\r\n        }\r\n        localStorage.removeItem(\"tipo_asignatura\");\r\n        me.getPeriodoInstitucion()\r\n    },\r\n    methods: {\r\n         //para obtener el perido atual\r\n        getPeriodoInstitucion() {\r\n            let me = this;\r\n            this.$http.get(this.$server_url+'institucionTraerPeriodo?institucion_id='+me.usuario.institucion_idInstitucion)\r\n                .then(function (res) { \r\n                    me.periodo = res.data[0].periodo\r\n                    localStorage.setItem('periodo_id',res.data[0].periodo)  \r\n                    localStorage.setItem('descripcion_periodo',res.data[0].descripcion)  \r\n                    localStorage.setItem('nombreInstitucion',res.data[0].nombreInstitucion) \r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                })\r\n        },\r\n        async series_libros_doc(){\r\n          let me = this\r\n          await this.$http.get(this.$server_url+'colegios_series_libros_doc/'+me.usuario.institucion_idInstitucion)\r\n          .then(function (response) {\r\n              me.series = response.data\r\n          })\r\n          .catch(function (error) {\r\n          })\r\n        },\r\n        irDesgloseLibro(item){\r\n            let me = this\r\n            localStorage.datoUser = localStorage.getItem(\"usuario\");\r\n            localStorage.idlibro = item.idlibro\r\n            localStorage.idasignatura = item.idasignatura\r\n            localStorage.nombreasignatura = item.nombreasignatura\r\n            localStorage.tipo_asignatura = \"prolipa\"; //asignaturas de prolipa\r\n            me.$router.push('/colegios/docente/libro/desgloselibro')\r\n            me.permisosDelibro(item.idasignatura);\r\n        },\r\n        permisosDelibro(asignatura_id){\r\n            let me = this;\r\n            this.$http.get(this.$server_url+\"asignaturas_x_colegio_x_asignatura?institucion_id=\"+me.usuario.institucion_idInstitucion+'&asignatura_id='+asignatura_id)\r\n            .then(function (res) {\r\n               let datos = res.data[0]\r\n               console.log('rr',datos)\r\n                me.permisosExternos={\r\n                \"id\": datos.id,\r\n                \"nombreasignatura\": datos.nombreasignatura,\r\n                \"idasignatura\": datos.idasignatura,\r\n                \"area_idarea\": datos.area_idarea,\r\n                \"institucion_id\": datos.institucion_id,\r\n                \"asignatura_id\": datos.asignatura_id,\r\n                \"permisos_acordeon\":JSON.parse(datos[i].permisos_acordeon),\r\n                \"permisos_libros\": JSON.parse(datos.permisos_libros),\r\n                \"permisos_cursos\": JSON.parse(datos.permisos_cursos),\r\n                \"permisos_cuadernos\": JSON.parse(datos.permisos_cuadernos),\r\n                \"permisos_planificaciones\": JSON.parse(datos.permisos_planificaciones),\r\n                \"radicional_id\":datos.radicional_id,\r\n                \"zona_diversion_mi_juego\": JSON.parse(datos.zona_diversion_mi_juego),\r\n                \"zona_diversion_juego_prolipa\": JSON.parse(datos.zona_diversion_juego_prolipa),\r\n                \"material_apoyo_digital\": JSON.parse(datos.material_apoyo_digital),\r\n                \"material_apoyo_pdf\": JSON.parse(datos.material_apoyo_pdf),\r\n                \"propuestas_metodologicas\": JSON.parse(datos.propuestas_metodologicas),\r\n                \"adaptaciones\": JSON.parse(datos.adaptaciones),\r\n                \"articulos\": JSON.parse(datos.articulos),\r\n                \"documentos_ministeriales\": JSON.parse(datos.documentos_ministeriales),\r\n                \"colegio_permiso_id\": datos.colegio_permiso_id\r\n            }\r\n               localStorage.setItem('permisosExternos',JSON.stringify(me.permisosExternos))\r\n               localStorage.setItem('status_permisos','yes')\r\n            })\r\n        },\r\n        async verAreasSerie(id_serie){\r\n          let me = this\r\n          localStorage.serie_selected = id_serie\r\n          me.$vs.loading();\r\n          console.log('asdasd')\r\n          if( id_serie == 6 ){\r\n            me.area_selected = 'PLAN LECTOR'\r\n            me.areas_activo = 0\r\n            me.verLibrosSerie(id_serie)\r\n          }else{\r\n            me.areas_activo = 1\r\n            await this.$http.get(this.$server_url+\"colegios_ver_areas_serie/\" + id_serie+'/'+me.usuario.institucion_idInstitucion)\r\n            .then(function (res) {\r\n                me.areas = res.data\r\n                me.libros_area = []\r\n                me.$vs.loading.close();\r\n            })\r\n          }\r\n        },\r\n        async verLibrosArea(id_area){\r\n          let me = this;\r\n\r\n          localStorage.area_selected = id_area\r\n          me.$vs.loading();\r\n          await this.$http.get(this.$server_url+'colegios_get_libros_area/'+me.usuario.institucion_idInstitucion+'/'+id_area+'/'+localStorage.serie_selected)\r\n          .then(function (response) {\r\n              me.libros_area = response.data\r\n              me.$vs.loading.close();\r\n          })\r\n        },\r\n        async verLibrosSerie(id_serie){\r\n          let me = this;\r\n          me.$vs.loading();\r\n          await this.$http.get(this.$server_url+'colegios_get_libros_serie/' +me.usuario.institucion_idInstitucion+'/'+id_serie)\r\n          .then(function (response) {\r\n              me.libros_area = response.data\r\n              me.$vs.loading.close();\r\n          })\r\n        },\r\n    },\r\n}\r\n",{"version":3,"sources":["colegios_libros.vue"],"names":[],"mappings":";AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"colegios_libros.vue","sourceRoot":"src/views/colegios","sourcesContent":["<template>\r\n<div>\r\n\r\n<vs-tabs alignment=\"fixed\">\r\n  <vs-tab label=\"LIBROS PROLIPA\" class=\"pt-8\">\r\n      <vx-card class=\"vx-row w-full mb-5\">\r\n        <div class=\"w-full px-3\" align=\"center\"> SERIES DE PROLIPA </div>\r\n        <div class=\"demo-alignment px-5\" align=\"center\">\r\n          <vs-button type=\"border\" color=\"success\" v-for=\"(item,$index) in series\" :key=\"$index.id\" @click=\"serie_selected=item.nombre_serie; verAreasSerie(item.id_serie);\">\r\n            <span style=\"text-transform: uppercase;\">{{item.nombre_serie}}</span>\r\n          </vs-button>\r\n        </div>\r\n      </vx-card>\r\n      <div></div>\r\n      <vx-card class=\"vx-row mb-5\" v-if=\"areas_activo==1\">\r\n        <div class=\"w-full px-3\" align=\"center\"> ÁREAS DE LA SERIE SELECCIONADA ({{serie_selected.toUpperCase()}}) </div>\r\n        <div class=\"demo-alignment px-5\" align=\"center\">\r\n          <vs-button type=\"border\" color=\"warning\" v-for=\"(item, index) in areas\" :key=\"index\" @click=\"area_selected=(item.nombre.replace(new RegExp('[0-9]','g'), ''));verLibrosArea(item.iniciales)\">\r\n            <span style=\"text-transform: uppercase;\">{{item.nombre.replace(new RegExp(\"[0-9]\",\"g\"), \"\")}}</span>\r\n          </vs-button>\r\n        </div>\r\n      </vx-card>\r\n      <vx-card class=\"vx-row mb-5\">\r\n        <div class=\"vx-row\">\r\n          <div class=\"w-full px-3 mb-3\" align=\"center\"> LIBROS DEL ÁREA SELECCIONADA ({{area_selected.toUpperCase()}})</div>\r\n          <div class=\"vx-col sm:w-1/3 w-1/2 md:w-1/4 xl:w-1/4 mt-3 mn-3\"  style=\"min-width: 220px;\" v-for=\"(item,$index) in libros_area\" :key=\"$index.id\">\r\n            <vx-card class=\"text-center\" style=\"cursor: pointer; min-height: 350px;\" @click=\"irDesgloseLibro(item)\">\r\n                <div slot=\"no-body\">\r\n                    <img v-if=\"item.weblibro != null \" class=\"responsive card-img-top\" v-bind:src=\"$data_url+'archivos/upload/libro/'+item.weblibro+'/portada.png'\" alt=\"Card image cap\">\r\n                    <img v-else class=\"responsive card-img-top\" v-bind:src=\"$data_url+'tareas/img/'+item.portada\" alt=\"Card image cap\">\r\n                </div>\r\n                <div class=\"mt-4\">\r\n                    <p class=\"font-bold\"> {{item.nombrelibro}} </p>\r\n                    <small> {{item.descripcionlibro}} </small>\r\n                </div>\r\n            </vx-card>\r\n            </div>\r\n        </div>\r\n      </vx-card>\r\n    </vs-tab>\r\n</vs-tabs>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nimport 'vue-select/dist/vue-select.css';\r\nVue.use(axios)\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            activePrompt: false,\r\n            activePrompt2: false,\r\n            val: '',\r\n            idlibro: '',\r\n            valMultipe: {\r\n                value1: '',\r\n                value2: ''\r\n            },\r\n            select: [],\r\n            libros: [],\r\n            usuario: [],\r\n            asignaturas_docente: [],\r\n            variable_ejemplo: [],\r\n            idasignatura_doc: '',\r\n            series: [],\r\n            areas: [],\r\n            libros_area: [],\r\n            colores: ['#E74C3C', '#8E44AD', '#3498DB', '#16A085', '#F7DC6F', '#E67E22', '#5D6D7E', '#273746'],\r\n            serie_selected: '',\r\n            area_selected: '',\r\n            areas_activo: 1,\r\n            permisosExternos:{\r\n                \"id\": \"\",\r\n                \"nombreasignatura\": \"\",\r\n                \"idasignatura\": \"\",\r\n                \"area_idarea\": \"\",\r\n                \"institucion_id\": \"\",\r\n                \"asignatura_id\": \"\",\r\n                \"permisos_acordeon\": \"\",\r\n                \"permisos_libros\": \"\",\r\n                \"permisos_cursos\": \"\",\r\n                \"permisos_cuadernos\": \"\",\r\n                \"permisos_planificaciones\": \"\",\r\n                \"radicional_id\": \"\",\r\n                \"zona_diversion_mi_juego\": \"\",\r\n                \"zona_diversion_juego_prolipa\": \"\",\r\n                \"material_apoyo_digital\": \"\",\r\n                \"material_apoyo_pdf\": \"\",\r\n                \"propuestas_metodologicas\": \"\",\r\n                \"adaptaciones\": \"\",\r\n                \"articulos\": \"\",\r\n                \"documentos_ministeriales\": \"\",\r\n                \"colegio_permiso_id\": \"\"\r\n            }\r\n        }\r\n    },\r\n   \r\n    created() {\r\n        this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n    },\r\n    mounted() {\r\n        let me = this\r\n        this.series_libros_doc()\r\n        if( localStorage.serie_selected ){\r\n          this.verAreasSerie(localStorage.serie_selected)\r\n          if( localStorage.area_selected ){\r\n            this.verLibrosArea(localStorage.area_selected)\r\n          }\r\n        }\r\n        localStorage.removeItem(\"tipo_asignatura\");\r\n        me.getPeriodoInstitucion()\r\n    },\r\n    methods: {\r\n         //para obtener el perido atual\r\n        getPeriodoInstitucion() {\r\n            let me = this;\r\n            this.$http.get(this.$server_url+'institucionTraerPeriodo?institucion_id='+me.usuario.institucion_idInstitucion)\r\n                .then(function (res) { \r\n                    me.periodo = res.data[0].periodo\r\n                    localStorage.setItem('periodo_id',res.data[0].periodo)  \r\n                    localStorage.setItem('descripcion_periodo',res.data[0].descripcion)  \r\n                    localStorage.setItem('nombreInstitucion',res.data[0].nombreInstitucion) \r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                })\r\n        },\r\n        async series_libros_doc(){\r\n          let me = this\r\n          await this.$http.get(this.$server_url+'colegios_series_libros_doc/'+me.usuario.institucion_idInstitucion)\r\n          .then(function (response) {\r\n              me.series = response.data\r\n          })\r\n          .catch(function (error) {\r\n          })\r\n        },\r\n        irDesgloseLibro(item){\r\n            let me = this\r\n            localStorage.datoUser = localStorage.getItem(\"usuario\");\r\n            localStorage.idlibro = item.idlibro\r\n            localStorage.idasignatura = item.idasignatura\r\n            localStorage.nombreasignatura = item.nombreasignatura\r\n            localStorage.tipo_asignatura = \"prolipa\"; //asignaturas de prolipa\r\n            me.$router.push('/colegios/docente/libro/desgloselibro')\r\n            me.permisosDelibro(item.idasignatura);\r\n        },\r\n        permisosDelibro(asignatura_id){\r\n            let me = this;\r\n            this.$http.get(this.$server_url+\"asignaturas_x_colegio_x_asignatura?institucion_id=\"+me.usuario.institucion_idInstitucion+'&asignatura_id='+asignatura_id)\r\n            .then(function (res) {\r\n               let datos = res.data[0]\r\n               console.log('rr',datos)\r\n                me.permisosExternos={\r\n                \"id\": datos.id,\r\n                \"nombreasignatura\": datos.nombreasignatura,\r\n                \"idasignatura\": datos.idasignatura,\r\n                \"area_idarea\": datos.area_idarea,\r\n                \"institucion_id\": datos.institucion_id,\r\n                \"asignatura_id\": datos.asignatura_id,\r\n                \"permisos_acordeon\":JSON.parse(datos[i].permisos_acordeon),\r\n                \"permisos_libros\": JSON.parse(datos.permisos_libros),\r\n                \"permisos_cursos\": JSON.parse(datos.permisos_cursos),\r\n                \"permisos_cuadernos\": JSON.parse(datos.permisos_cuadernos),\r\n                \"permisos_planificaciones\": JSON.parse(datos.permisos_planificaciones),\r\n                \"radicional_id\":datos.radicional_id,\r\n                \"zona_diversion_mi_juego\": JSON.parse(datos.zona_diversion_mi_juego),\r\n                \"zona_diversion_juego_prolipa\": JSON.parse(datos.zona_diversion_juego_prolipa),\r\n                \"material_apoyo_digital\": JSON.parse(datos.material_apoyo_digital),\r\n                \"material_apoyo_pdf\": JSON.parse(datos.material_apoyo_pdf),\r\n                \"propuestas_metodologicas\": JSON.parse(datos.propuestas_metodologicas),\r\n                \"adaptaciones\": JSON.parse(datos.adaptaciones),\r\n                \"articulos\": JSON.parse(datos.articulos),\r\n                \"documentos_ministeriales\": JSON.parse(datos.documentos_ministeriales),\r\n                \"colegio_permiso_id\": datos.colegio_permiso_id\r\n            }\r\n               localStorage.setItem('permisosExternos',JSON.stringify(me.permisosExternos))\r\n               localStorage.setItem('status_permisos','yes')\r\n            })\r\n        },\r\n        async verAreasSerie(id_serie){\r\n          let me = this\r\n          localStorage.serie_selected = id_serie\r\n          me.$vs.loading();\r\n          console.log('asdasd')\r\n          if( id_serie == 6 ){\r\n            me.area_selected = 'PLAN LECTOR'\r\n            me.areas_activo = 0\r\n            me.verLibrosSerie(id_serie)\r\n          }else{\r\n            me.areas_activo = 1\r\n            await this.$http.get(this.$server_url+\"colegios_ver_areas_serie/\" + id_serie+'/'+me.usuario.institucion_idInstitucion)\r\n            .then(function (res) {\r\n                me.areas = res.data\r\n                me.libros_area = []\r\n                me.$vs.loading.close();\r\n            })\r\n          }\r\n        },\r\n        async verLibrosArea(id_area){\r\n          let me = this;\r\n\r\n          localStorage.area_selected = id_area\r\n          me.$vs.loading();\r\n          await this.$http.get(this.$server_url+'colegios_get_libros_area/'+me.usuario.institucion_idInstitucion+'/'+id_area+'/'+localStorage.serie_selected)\r\n          .then(function (response) {\r\n              me.libros_area = response.data\r\n              me.$vs.loading.close();\r\n          })\r\n        },\r\n        async verLibrosSerie(id_serie){\r\n          let me = this;\r\n          me.$vs.loading();\r\n          await this.$http.get(this.$server_url+'colegios_get_libros_serie/' +me.usuario.institucion_idInstitucion+'/'+id_serie)\r\n          .then(function (response) {\r\n              me.libros_area = response.data\r\n              me.$vs.loading.close();\r\n          })\r\n        },\r\n    },\r\n}\r\n</script>\r\n"]}]}