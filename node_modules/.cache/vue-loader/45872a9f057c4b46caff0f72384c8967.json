{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\Home.vue","mtime":1712682815351},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nVue.use(axios)\r\nimport VueApexCharts from 'vue-apexcharts'\r\nimport StatisticsCardLine from '@/components/statistics-cards/StatisticsCardLine.vue'\r\nimport ChangeTimeDurationDropdown from '@/components/ChangeTimeDurationDropdown.vue'\r\nimport VxTimeline from '@/components/timeline/VxTimeline'\r\nimport vSelect from 'vue-select'\r\nimport Agenda from '../../src/views/docentes/agenda_docente.vue'\r\nimport ticketEstudiante from './soporte/ticketUsuario.vue'\r\nimport docenteHome from './home/docenteHome.vue'\r\n// import asesorHome from './home/asesorHome.vue'\r\nconst asesorHome = () => import('./home/asesorHome.vue')\r\nimport FacturadorAdminVue from './home/facturador/facturadorAdmin.vue'\r\n// import io from 'socket.io-client';\r\n// import EstudiantesMatricula from './gestion_matricula/estudiante/matricula_estudiante.vue'\r\nimport popupChangePasswordVue from './home/components/todos/popupChangePassword.vue'\r\nimport screen_gerenciaVue from './home/gerencia/screen_gerencia.vue'\r\nimport HomeNeetVue from '@/views/home/neet/HomeNeet'\r\nimport moment from 'moment'\r\nconst HomeBodegaAdminVue = () => import('./home/bodega/dashboardBodegaAdmin.vue')\r\n\r\n\r\n// const HomeBodegaAdminVue = () => import('./home/bodega/HomeBodegaAdmin.vue')\r\nimport {\r\n  mapState\r\n} from 'vuex'\r\nexport default {\r\n  data() {\r\n    return {\r\n      // socket: io(\"https://socket.prolipadigital.com.ec\"),\r\n      popupActive: false,\r\n      instituciones: [],\r\n      ciudades: [],\r\n      ciudad: '',\r\n      institucion: '',\r\n      usuario: [],\r\n      curso: [],\r\n      cursod: [],\r\n      tareasd: [],\r\n      contenidos: [],\r\n      tareasp: [],\r\n      tarease: [],\r\n      subscribersGained: {\r\n        series: [{\r\n          name: 'Subscribers',\r\n          data: [0, 3, 20, 4]\r\n        }],\r\n      },\r\n      usr_live: 0,\r\n      usr_students: [],\r\n      usr_teachers: [],\r\n      linkEvaluacion: '',\r\n      vectorLink: [],\r\n      urlBack: '',\r\n      urlV: [],\r\n      urlOrigen: '',\r\n      t_curso0: 0,\r\n      t_curso1: 0,\r\n      c_eval: 0,\r\n      c_preg0: 0,\r\n      c_preg1: 0,\r\n      c_preg2: 0,\r\n      c_preg3: 0,\r\n      c_preg4: 0,\r\n      c_multi0: 0,\r\n      c_multi1: 0,\r\n      c_juegos0: 0,\r\n      c_juegos1: 0,\r\n      c_semi: 0,\r\n      c_enc: 0,\r\n      c_user0: 0,\r\n      c_user1: 0,\r\n      c_user2: 0,\r\n      c_user3: 0,\r\n      c_codigos: 0,\r\n      c_codigos_total: 0,\r\n      c_accesos: 0,\r\n      d_accesos: 0,\r\n      e_accesos: 0,\r\n      a_accesos: 0,\r\n      conectados: 0,\r\n      reset_storage: 50, // accesos a la plataforma, y vuelve a recargar el localStorage, para verificar cambios futuros\r\n      cant_eval: [],\r\n      cantArchivos: [],\r\n      instituciones_director: [],\r\n      //salle\r\n      listaDocentes: '',\r\n      listaAdmins: '',\r\n      usuarioActivos: 0,\r\n      usuariosProlipa: 0,\r\n      salleInstituciones: '',\r\n      cantTicketsAbiertos: '',\r\n      cantTicketsCerrados: '',\r\n      areas_salle: 0,\r\n      asignaturas_salle: 0,\r\n      evaluaciones_salle: 0,\r\n      cantidadMensajesNovistos: 0,\r\n      cantidadMensajesVistos: 0,\r\n      aplica_matricula: 0,\r\n      //fin salle,\r\n      periodo: 0,\r\n      nombreInstitucion: '',\r\n      imagenInsitucion: '',\r\n      //form de docente\r\n      cantFormsDocente: 0,\r\n      cantFormsSolicitudes: 0,\r\n      //fin forms de docente\r\n      //variables para change password\r\n      popupChangePassword: false,\r\n      showCloseButton: false,\r\n      //fin variables para change password,\r\n      //variables salle\r\n      ObjectInstitucion:{},\r\n      configuracionSalle:[],\r\n      verEvaluacionSalle:false,\r\n      //fin variables salle\r\n    }\r\n  },\r\n  created() {\r\n    let me = this;\r\n    this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n    // me.formsDocente();\r\n  },\r\n  computed: {\r\n    ...mapState(['cursos'])\r\n  },\r\n  components: {\r\n    VueApexCharts,\r\n    StatisticsCardLine,\r\n    ChangeTimeDurationDropdown,\r\n    VxTimeline,\r\n    'v-select': vSelect,\r\n    Agenda,\r\n    ticketEstudiante,\r\n    docenteHome,\r\n    asesorHome,\r\n    FacturadorAdminVue,\r\n    // EstudiantesMatricula,\r\n    popupChangePasswordVue,\r\n    screen_gerenciaVue,\r\n    HomeNeetVue,\r\n    HomeBodegaAdminVue,\r\n  },\r\n  mounted() {\r\n    let me = this\r\n    me.getPeriodoInstitucion();\r\n    localStorage.removeItem('grupoInst');\r\n    this.linkEvaluacion = localStorage.getItem('evaluacionxLink')\r\n    if (this.linkEvaluacion) {\r\n      this.urlBack = window.location.href\r\n      this.urlV = this.urlBack.split('/')\r\n      this.urlOrigen = this.urlV[0] + '/' + this.urlV[1] + '/' + this.urlV[2]\r\n      this.vectorLink = (this.linkEvaluacion).split('-')\r\n      this.evaluacionUrl()\r\n    }\r\n    this.getInstitucion();\r\n    if (this.usuario.id_group == 4) { }\r\n    if (this.usuario.id_group == 6) {\r\n    }\r\n    if (this.usuario.id_group == 1) {\r\n      this.getConteo();\r\n      // this.ServiceSocket()\r\n      me.cantidadTicketsAbiertos();\r\n      me.cantidadTicketsCerrados();\r\n      me.getTicketsAbiertos();\r\n      me.getCantidadUsuarios();\r\n    };\r\n    if (this.usuario.id_group == 10) {\r\n      this.getInstitucionesDirector();\r\n    }\r\n    //salles\r\n    if (this.usuario.id_group == 12) {\r\n      this.getUsuariosSalle();\r\n    }\r\n    if (this.usuario.id_group === 29 || this.usuario.id_group === 30) {\r\n      // Redirect to 'biblioteca' route\r\n      this.$router.push({ name: 'biblioteca' })\r\n    }\r\n    //change password\r\n    me.changePassword()\r\n    if(this.usuario.id_group == 6 || this.usuario.id_group == 13  ){\r\n      me.getEvaluacionSalle()\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    getEvaluacionSalle(){\r\n      let me = this\r\n      this.$http.get(this.$server_url+'salle/periodos')\r\n      .then(res =>{\r\n        let datos  = res.data\r\n        var periodoEvaluacion = 0\r\n          if(datos.length > 0){\r\n            let searcEvaluacionActiva = datos.filter(p => p.estado == 1)\r\n            if(searcEvaluacionActiva.length > 0){\r\n              periodoEvaluacion = searcEvaluacionActiva[0].id\r\n              me.getEstadoEvaluacionSalle(periodoEvaluacion)\r\n            }else{\r\n            }\r\n          }else{\r\n          }\r\n      })\r\n    },\r\n    getEstadoEvaluacionSalle(periodoEvaluacion){\r\n      let me = this;\r\n      me.configuracionSalle = []\r\n      this.$http.get(this.$server_url+'institucionConfiguracionSalle/' + me.usuario.institucion_idInstitucion+'/'+periodoEvaluacion)\r\n      .then(res => {\r\n        me.configuracionSalle = res.data;\r\n        if(me.configuracionSalle.length == 0){\r\n          me.verEvaluacionSalle = false\r\n          return\r\n        }\r\n        const fechaActual = moment();\r\n        // Formatea la fecha en el formato \"Y-m-d\"\r\n        const fechaFormateada = fechaActual.format(\"YYYY-MM-DD\");\r\n        let datos = res.data[0]\r\n        const { fecha_fin } = datos\r\n        let getFechaFin = fecha_fin.substring(0,10)\r\n        if(fechaFormateada < getFechaFin ){ me.verEvaluacionSalle = true}\r\n        else                              { me.verEvaluacionSalle = false}\r\n      })\r\n    },\r\n    handleClose() {\r\n      let me = this;\r\n      me.popupChangePassword = true\r\n    },\r\n    changeRecarge(e) {\r\n      let me = this;\r\n      me.popupChangePassword = false\r\n    },\r\n    changePassword() {\r\n      let me = this;\r\n      //excepto los estudiantes\r\n      if (me.usuario.id_group == 4) {\r\n        return\r\n      } else {\r\n        var fecha30dias = me.usuario.fecha_change_password\r\n        var validateF = me.esFechaValida(fecha30dias)\r\n        var fechaActual = moment().format('YYYY-MM-DD')\r\n        if (validateF) {\r\n          //validar si existe la fecha despues de 30 dias\r\n          if ((fecha30dias <= fechaActual)) {\r\n            me.popupChangePassword = true\r\n          }\r\n          return\r\n        }\r\n        //si no tiene fecha de recordario\r\n        if (me.usuario.change_password == 1) {\r\n          me.popupChangePassword = true\r\n        }\r\n      }\r\n    },\r\n    esFechaValida(fecha) {\r\n      if (fecha == null || fecha == \"null\" || fecha == \"\") {\r\n        return false\r\n      }\r\n      var dateObj = new Date(fecha);\r\n      return !isNaN(dateObj);\r\n    },\r\n    //para ir a las solicitudes del formulario de registro de libros de los docentes\r\n    verSolicitudFormulario() {\r\n      let me = this;\r\n      localStorage.setItem('formulario', 'todo')\r\n      me.$router.push('/formulario/solicitudes')\r\n    },\r\n    //para obtener el perido atual\r\n    getPeriodoInstitucion() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'institucionTraerPeriodo?institucion_id=' + me.usuario.institucion_idInstitucion)\r\n        .then(function (res) {\r\n          me.periodo = res.data[0].periodo\r\n          localStorage.setItem('periodo_id', res.data[0].periodo)\r\n          localStorage.setItem('descripcion_periodo', res.data[0].descripcion)\r\n          localStorage.setItem('nombreInstitucion', res.data[0].nombreInstitucion)\r\n          localStorage.setItem('region', res.data[0].region)\r\n          me.nombreInstitucion = res.data[0].nombreInstitucion\r\n          me.imagenInsitucion = res.data[0].imgenInstitucion\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n        })\r\n    },\r\n\r\n\r\n    //para obtener el listado de los tickets\r\n    getTicketsAbiertos() {\r\n      let me = this;\r\n      // me.$vs.loading();\r\n      this.$http.get(this.$server_url + 'ticket?cantidadTicketNotificacion=yes&id=' + me.usuario.idusuario)\r\n        .then(function (res) {\r\n          console.log(res.data)\r\n          if (res.data.length > 0) {\r\n            me.cantidadMensajesNovistos = res.data[0].cantidad\r\n            me.cantidadMensajesVistos = res.data[0].cantidad_tickets_usuario\r\n          }\r\n          // me.$vs.loading.close()\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n          // me.$vs.loading.close()\r\n\r\n        })\r\n\r\n\r\n    },\r\n    ServiceSocket() {\r\n      console.log(\"id grupo\" + this.usuario.id_group)\r\n\r\n    },\r\n    getCantidadUsuarios() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'traerCantidadUsuarios')\r\n        .then(res => {\r\n          me.usuarioActivos = res.data.usuarioActivos[0].totalactivo\r\n          me.usuariosProlipa = res.data.usuariosProlipa[0].totalprolipa\r\n          // me.docentesCosta = res.data.docentesCosta.length\r\n          // me.docentesSierra = res.data.docentesSierra.length\r\n          // me.estudiantesCosta = res.data.estudiantesCosta.length\r\n          // me.estudiantesSierra = res.data.estudiantesSierra.length\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getUsuariosSalle() {\r\n      let me = this;\r\n      me.$vs.loading();\r\n      this.$http.get(this.$server_url + 'usuarioSalle')\r\n        .then(res => {\r\n          me.listaDocentes = res.data.docentes;\r\n          me.listaAdmins = res.data.admins;\r\n\r\n          me.$vs.loading.close();\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          me.$vs.loading.close();\r\n        })\r\n      this.$http.get(this.$server_url + 'institucionesSalle')\r\n        .then(res => {\r\n          // console.log(res.data)\r\n          me.salleInstituciones = res.data\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n\r\n      this.$http.get(this.$server_url + 'areas_salle')\r\n        .then(res => {\r\n          let datos = res.data\r\n          if (datos.length > 0) {\r\n            let proceso = datos.filter(p => p.n_evaluacion == localStorage.EvaluacionSelectSalle)\r\n            me.areas_salle = proceso.length\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n      this.$http.get(this.$server_url + 'asignaturas_salle')\r\n        .then(res => {\r\n          let datos = res.data\r\n          if (datos.length > 0) {\r\n            let proceso = datos.filter(p => p.n_evaluacion == localStorage.EvaluacionSelectSalle)\r\n            me.asignaturas_salle = proceso.length\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getTarease() {\r\n      let me = this;\r\n      me.$vs.loading({\r\n        color: '#046AE7'\r\n      })\r\n    },\r\n\r\n\r\n    //====TICKETS======\r\n    cantidadTicketsAbiertos() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'ticket?cantAbiertos=yes')\r\n        .then(function (response) {\r\n          let datos = response.data\r\n          if (datos.length > 0) {\r\n            if (me.usuario.id_group == '1') {\r\n              let getInfo = datos.filter(p => p.ticket_asesor == '0')\r\n              me.cantTicketsAbiertos = getInfo.length;\r\n            } else {\r\n              let getInfo = datos.filter(p => p.ticket_asesor == '1' && p.vendedorInstitucion == me.usuario.cedula)\r\n              me.cantTicketsAbiertos = getInfo.length;\r\n            }\r\n          }\r\n\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n    cantidadTicketsCerrados() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'ticket?cantCerrados=yes')\r\n        .then(function (response) {\r\n          if (response.data.length > 0) {\r\n            me.cantTicketsCerrados = response.data[0].cantidadC;\r\n          }\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n\r\n    //====FIN TICKETS======\r\n    //====FORMULARIO DOCENTE========\r\n    formsDocente() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'formularioDocente?all=yes')\r\n        .then(function (response) {\r\n          me.cantFormsDocente = response.data.forms.length;\r\n          me.cantFormsSolicitudes = response.data.solicitudes.length\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n    //====FIN FORMULARIO DOCENTE====\r\n    contenidosDocente() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'contenidos?idusuario=' + me.usuario.idusuario)\r\n        .then(function (response) {\r\n          me.contenidos = response.data;\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n    cantidadArchivos() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'cant_contenido/' + me.usuario.idusuario)\r\n        .then(function (response) {\r\n          me.cantArchivos = response.data;\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n    getInstitucion() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'verificarInstitucion/' + me.usuario.idusuario)\r\n        .then(function (response) {\r\n          if (response.data[0].institucion_idInstitucion === null) {\r\n            me.getCiudad();\r\n            me.popupActive = true\r\n          } else {\r\n            me.ObjectInstitucion = response.data[0]\r\n            me.aplica_matricula  = response.data[0].aplica_matricula\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n    },\r\n    getCiudad() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'ciudades')\r\n        .then(function (response) {\r\n          me.ciudades = response.data;\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n    verInstCiudad() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'verInstitucionCiudad/' + me.ciudad.id)\r\n        .then(function (response) {\r\n          me.instituciones = response.data;\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n    asignarInstitucion() {\r\n      let me = this;\r\n      if (me.institucion === '' || me.institucion === null) {\r\n        me.$vs.notify({\r\n          text: 'Seleccione una institución antes de guardar',\r\n          color: 'danger',\r\n          iconPack: 'feather',\r\n          icon: 'icon-alert-triangle'\r\n        });\r\n        return;\r\n      }\r\n      var formData = new FormData();\r\n      formData.append(\"institucion\", me.institucion.id);\r\n      formData.append(\"usuario\", me.usuario.idusuario);\r\n      this.$http.post(this.$server_url + 'asignarInstitucion', formData)\r\n        .then(function (response) {\r\n          me.popupActive = false;\r\n          me.$vs.notify({\r\n            text: 'Institución guardada exitosamente',\r\n            color: 'success',\r\n            iconPack: 'feather',\r\n            icon: 'icon-check'\r\n          });\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n    },\r\n    evaluacionUrl() {\r\n      let me = this\r\n      let formData = new FormData();\r\n      formData.append(\"codigo\", me.vectorLink[1]);\r\n      formData.append(\"idusuario\", me.usuario.idusuario);\r\n      this.$http.post(this.$server_url + 'verificarCursoEstudiante', formData)\r\n        .then(function (res) {\r\n          if (res.data != '') {\r\n            localStorage.evaluacionxLink = ''\r\n            window.location.href = me.urlOrigen + '/responderEvaluacion/' + me.linkEvaluacion\r\n          } else {\r\n            me.addClase()\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n    },\r\n    addClase() {\r\n      let me = this\r\n      let formData = new FormData();\r\n      formData.append(\"codigo\", me.vectorLink[1]);\r\n      formData.append(\"idusuario\", me.usuario.idusuario);\r\n      this.$http.post(this.$server_url + 'addClase', formData)\r\n        .then(function (res) {\r\n          localStorage.evaluacionxLink = ''\r\n          window.location.href = me.urlOrigen + '/responderEvaluacion/' + me.linkEvaluacion\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n    },\r\n    cantidad_evaluaciones() {\r\n      let me = this;\r\n      console.log(me.usuario.idusuario)\r\n      this.$http.get(this.$server_url + 'cant_evaluaciones/' + me.usuario.idusuario)\r\n        .then(function (res) {\r\n          me.cant_eval = res.data;\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n    },\r\n    getConteo() {\r\n      let me = this;\r\n      me.c_accesos = JSON.parse(localStorage.getItem('inProlipa'));\r\n      if (me.c_accesos == null) {\r\n        localStorage.inProlipa = 0;\r\n      }\r\n      me.c_accesos++\r\n      localStorage.inProlipa = me.c_accesos;\r\n      if (localStorage.inProlipa > me.reset_storage) {\r\n        localStorage.inProlipa = 0;\r\n      }\r\n      me.c_user0 = JSON.parse(localStorage.getItem('total_user0'));\r\n      me.c_user1 = JSON.parse(localStorage.getItem('total_user1'));\r\n      me.c_user2 = JSON.parse(localStorage.getItem('total_user2'));\r\n      me.c_user3 = JSON.parse(localStorage.getItem('total_user3'));\r\n      if (me.c_user0 == 0 || me.c_user0 == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_user')\r\n          .then(function (res) {\r\n            localStorage.total_user0 = me.c_user0 = res.data[1].cantidad;\r\n            localStorage.total_user1 = me.c_user1 = res.data[2].cantidad;\r\n            localStorage.total_user2 = me.c_user2 = res.data[3].cantidad;\r\n            localStorage.total_user3 = me.c_user3 = res.data[4].cantidad;\r\n            // console.log(me.c_user)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.t_curso0 = JSON.parse(localStorage.getItem('total_cur0'));\r\n      me.t_curso1 = JSON.parse(localStorage.getItem('total_cur1'));\r\n      if (me.t_curso0 == 0 || me.t_curso0 == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_cursos')\r\n          .then(function (res) {\r\n            localStorage.total_cur0 = me.t_curso0 = res.data[0].cantidad;\r\n            localStorage.total_cur1 = me.t_curso1 = res.data[1].cantidad;\r\n            // console.log(me.t_cursos)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_eval = JSON.parse(localStorage.getItem('total_eva'));\r\n      if (me.c_eval == 0 || me.c_eval == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_evaluaciones')\r\n          .then(function (res) {\r\n            // me.c_eval = (res.data)\r\n            localStorage.total_eva = me.c_eval = res.data[0].cantidad;\r\n            // console.log(me.c_eval)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_preg0 = JSON.parse(localStorage.getItem('total_preg0'));\r\n      me.c_preg1 = JSON.parse(localStorage.getItem('total_preg1'));\r\n      me.c_preg2 = JSON.parse(localStorage.getItem('total_preg2'));\r\n      me.c_preg3 = JSON.parse(localStorage.getItem('total_preg3'));\r\n      me.c_preg4 = JSON.parse(localStorage.getItem('total_preg4'));\r\n      if (me.c_preg0 == 0 || me.c_preg0 == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_preguntas')\r\n          .then(function (res) {\r\n            // me.c_preg = (res.data)\r\n            localStorage.total_preg0 = me.c_preg0 = res.data[0].cantidad;\r\n            localStorage.total_preg1 = me.c_preg1 = res.data[1].cantidad;\r\n            localStorage.total_preg2 = me.c_preg2 = res.data[2].cantidad;\r\n            localStorage.total_preg3 = me.c_preg3 = res.data[3].cantidad;\r\n            localStorage.total_preg4 = me.c_preg4 = res.data[4].cantidad;\r\n            // console.log(me.c_eval)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_multi0 = JSON.parse(localStorage.getItem('total_multi0'));\r\n      me.c_multi1 = JSON.parse(localStorage.getItem('total_multi1'));\r\n      if (me.c_multi0 == 0 || me.c_multi0 == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_multimedia')\r\n          .then(function (res) {\r\n            localStorage.total_multi0 = me.c_multi0 = res.data[0].cantidad;\r\n            localStorage.total_multi1 = me.c_multi1 = res.data[1].cantidad;\r\n            // console.log(me.c_multi)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_juegos0 = localStorage.getItem('total_juego0');\r\n      if (localStorage.inProlipa > 1) {\r\n        this.$http.get(this.$server_url + 'cant_juegos')\r\n          .then(function (res) {\r\n            // console.log( res.data[0].cantidad )\r\n            localStorage.total_juego0 = (res.data[0].cantidad);\r\n            me.c_juegos0 = res.data;\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_codigos = JSON.parse(localStorage.getItem('total_cod1'));\r\n      if (me.c_codigos == 0 || me.c_codigos == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_codigos')\r\n          .then(function (res) {\r\n            // me.c_codigos = (res.data[0].cantidad)\r\n            localStorage.total_cod1 = me.c_codigos = res.data[0].cantidad;\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_codigos_total = JSON.parse(localStorage.getItem('total_cod0'));\r\n      if (me.c_codigos_total == 0 || me.c_codigos_total == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_codigostotal')\r\n          .then(function (res) {\r\n            // me.c_codigos_total = (res.data[0].cantidad)\r\n            localStorage.total_cod0 = me.c_codigos_total = res.data[0].cantidad;\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_semi = JSON.parse(localStorage.getItem('semin'));\r\n      if (me.c_semi == 0 || me.c_semi == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_seminarios')\r\n          .then(function (res) {\r\n            // me.c_semi = (res.data)\r\n            localStorage.semin = me.c_semi = res.data[0].cantidad;\r\n            // console.log(me.c_semi)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_enc = JSON.parse(localStorage.getItem('total_encu'));\r\n      if (me.c_enc == 0 || me.c_enc == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_encuestas')\r\n          .then(function (res) {\r\n            // me.c_semi = (res.data)\r\n            localStorage.total_encu = me.c_enc = res.data[0].cantidad;\r\n            // console.log(me.c_semi)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n    },\r\n    getInstitucionesDirector() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'verInstitucionDirector?idusuario=' + me.usuario.idusuario)\r\n        .then(res => {\r\n          me.instituciones_director = (res.data)\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        })\r\n    },\r\n    //para cambiar de grupo al estudiante\r\n    cambiarGrupoMatricula(grupo) {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'cambiarEstadoMatricula?grupo=' + grupo + '&idusuario=' + me.usuario.idusuario)\r\n        .then(function (res) {\r\n          location.reload();\r\n          me.$router.push('/')\r\n          localStorage.clear();\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n        })\r\n    },\r\n    getEstadoMatricula(periodo) {\r\n      let me = this;\r\n      // let periodo = localStorage.getItem('periodo_id')\r\n      let idusuario = me.usuario.idusuario\r\n      this.$http.get(this.$server_url + 'valores/pensiones?periodo_id=' + periodo + '&idusuario=' + idusuario)\r\n        .then(function (res) {\r\n          if (res.data.length > 0) {\r\n            me.ifMatriculado = res.data.buscarEstudianteReserva[0].estado_matricula\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n        })\r\n    },\r\n  },\r\n\r\n}\r\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";AA4WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"dashboard-analytics\">\r\n    <div style=\"display: flex;\" v-if=\"imagenInsitucion == null || imagenInsitucion == ''\" class=\"nombreInstitucion\">\r\n      <p class=\"mt-1\"\r\n        style=\"color:white;font-weight: 400;letter-spacing: 2px;text-align: center;margin: 0 auto;padding: 15px;font-size: 20px;\">\r\n        <i class=\"fa fa-graduation-cap\" aria-hidden=\"true\"></i>{{ nombreInstitucion }}\r\n      </p>\r\n    </div>\r\n    <div v-else style=\"display: flex;height: 120px;justify-content: center;padding-top: 20px;\" class=\"nombreInstitucion\">\r\n      <div>\r\n        <p\r\n          style=\"color:white;font-weight: 400;letter-spacing: 2px;text-align: center;margin: 0 auto;padding: 15px;font-size: 20px;\">\r\n          <i class=\"fa fa-graduation-cap\" aria-hidden=\"true\"></i>{{ nombreInstitucion }}\r\n        </p>\r\n      </div>\r\n      <div>\r\n        <img style=\"height: 58px; border-radius: 5px 10px 10px;min-height:58px;\"\r\n          :src=\"$data_url + 'archivos/' + 'instituciones_logos/' + imagenInsitucion\" />\r\n        <!-- <img style=\"width: 100px;border-radius:90px; 30px 90px\"  :src=\"$server_url+'archivos/'+'instituciones_logos/'+imagenInsitucion\"> -->\r\n      </div>\r\n    </div>\r\n    <div class=\"vx-row mb-6\">\r\n      <!-- CARD 1: CONGRATS -->\r\n      <div class=\"vx-col w-full mt-2\" v-if=\"usuario.id_group == 10 && aplica_matricula != 1\">\r\n        <vx-card slot=\"no-body\" class=\" text-white text-center greet-user fondo-director\" style=\"min-height: 130px;\">\r\n          <h1 class=\"mb-6 text-white\">Bienvenido {{ usuario.nombres }} {{ usuario.apellidos }}</h1>\r\n          <p class=\"xl:w-3/4 lg:w-4/5 md:w-2/3 w-4/5 mx-auto\"><strong>DIRECTOR</strong></p>\r\n        </vx-card>\r\n      </div>\r\n      <div class=\"vx-col w-2/3 mt-2\" v-if=\"usuario.id_group == 10 && aplica_matricula == 1\">\r\n        <vx-card slot=\"no-body\" class=\" text-white text-center greet-user fondo-director\" style=\"min-height: 130px;\">\r\n          <h1 class=\"mb-6 text-white\">Bienvenido {{ usuario.nombres }} {{ usuario.apellidos }}</h1>\r\n          <p class=\"xl:w-3/4 lg:w-4/5 md:w-2/3 w-4/5 mx-auto\"><strong>DIRECTOR</strong></p>\r\n        </vx-card>\r\n      </div>\r\n      <div class=\"vx-col w-1/3 mt-2\" v-if=\"usuario.id_group == 10 && aplica_matricula == 1\">\r\n        <vx-card @click=\"$router.push('/matricula/listado_matriculas')\" slot=\"no-body\" class=\"text-center greet-user\"\r\n          style=\"cursor: pointer; min-height: 130px; border: 1px solid #0094F3;\">\r\n          <h1 class=\"mb-6\" style=\"color: gray;\"> Matriculación </h1>\r\n          <p class=\"w-full\" style=\"font-size: 20px;\"><strong>Ver módulo</strong></p>\r\n        </vx-card>\r\n      </div>\r\n      <!-- <div class=\"vx-col w-full mt-1\" v-else-if=\"usuario.id_group == 12 || usuario.id_group == 13\">\r\n            <vx-card slot=\"no-body\" class=\" text-white text-center greet-user fondo-director\">\r\n                <h1 class=\"mb-6 text-white\">Bienvenido {{ usuario.nombres }} {{ usuario.apellidos }}</h1>\r\n                <p class=\"xl:w-3/4 lg:w-4/5 md:w-2/3 w-4/5 mx-auto\"><strong>SALLE</strong></p>\r\n            </vx-card>\r\n        </div> -->\r\n    </div>\r\n    <!--NEET-->\r\n    <div v-if=\"usuario.id_group == 31\">\r\n      <HomeNeetVue />\r\n    </div>\r\n    <div v-if=\"usuario.id_group == 23 || usuario.id_group == 22\">\r\n      <FacturadorAdminVue />\r\n    </div>\r\n    <div>\r\n      <docenteHome v-if=\"usuario.id_group == 6\" :ObjectInstitucion=\"ObjectInstitucion\" :verEvaluacionSalle=\"verEvaluacionSalle\"></docenteHome>\r\n    </div>\r\n    <!--asesor-->\r\n    <div>\r\n      <asesorHome :cantTicketsAbiertos=\"cantTicketsAbiertos\" v-if=\"usuario.id_group == 11\"\r\n        :cantFormsDocente=\"cantFormsDocente\" :cantFormsSolicitudes=\"cantFormsSolicitudes\">\r\n      </asesorHome>\r\n    </div>\r\n    <div class=\"vx-col w-full mb-6\" v-if=\"usuario.id_group == 10\">\r\n      <Agenda />\r\n    </div>\r\n    <div class=\"vx-row\" v-if=\"usuario.id_group == 12\">\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-user\"\r\n            color=\"primary\"></vs-button>\r\n          <h5 style=\"display: inline-block;\" class=\"text-primary\"><b>Usuarios</b></h5>\r\n          <div class=\"vx-row\">\r\n            <p class=\"vx-col w-1/2 md:w-1/2 text-right color1\">Administradores: </p>\r\n            <p class=\"vx-col w-1/2 md:w-1/2 text-center numero2 color1\"><b> {{ listaAdmins.length }} </b></p>\r\n          </div>\r\n          <div class=\"vx-row\">\r\n            <p class=\"vx-col w-1/2 md:w-1/2 text-right color1\">Docentes: </p>\r\n            <p class=\"vx-col w-1/2 md:w-1/2 text-center numero2 color1\"><b> {{ listaDocentes.length }} </b></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-home\"\r\n            color=\"primary\"></vs-button>\r\n          <h5 style=\"display: inline-block;\" class=\"text-primary\"><b>Instituciones</b></h5>\r\n          <div class=\"vx-row\">\r\n            <p class=\"vx-col mx-auto numero1 color1\"><b> {{ salleInstituciones.length }} </b></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-bookmark\"\r\n            color=\"primary\"></vs-button>\r\n          <h5 style=\"display: inline-block;\" class=\"text-primary\"><b>Areas</b></h5>\r\n          <div class=\"vx-row\">\r\n            <p class=\"vx-col mx-auto numero1 color1\"><b> {{ areas_salle }} </b></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-type\"\r\n            color=\"primary\"></vs-button>\r\n          <h5 style=\"display: inline-block;\" class=\"text-primary\"><b>Asignaturas</b></h5>\r\n          <div class=\"vx-row\">\r\n            <p class=\"vx-col mx-auto numero1 color1\"><b> {{ asignaturas_salle }} </b></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-layers\"\r\n            color=\"primary\"></vs-button>\r\n          <h5 style=\"display: inline-block;\" class=\"text-primary\"><b>Evaluaciones</b></h5>\r\n          <div class=\"vx-row\">\r\n            <p class=\"vx-col mx-auto numero1 color1\"><b> {{ evaluaciones_salle }} </b></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- <div class=\"vx-row\" v-if=\"usuario.id_group == 14\">\r\n      <EstudiantesMatricula />\r\n    </div> -->\r\n    <div v-if=\"usuario.id_group == 4\">\r\n      <!-- <div style=\"display:flex;justify-content:center;width:100%;\">\r\n        <div class=\"vx-col w-1/3\" v-if=\"usuario.id_group == 4 && aplica_matricula == 1\">\r\n          <vx-card @click=\"$router.push('/matricula/estudiante')\" slot=\"no-body\" class=\"text-center greet-user\"\r\n            style=\"cursor: pointer; min-height: 130px; border: 1px solid #0094F3;\">\r\n            <h1 class=\"mb-6\" style=\"color: gray;\"> Matriculación </h1>\r\n            <p class=\"w-full\" style=\"font-size: 20px;\"><strong>Ver módulo</strong></p>\r\n          </vx-card>\r\n        </div>\r\n      </div> -->\r\n      <vs-card style=\"margin-top:20px;\">\r\n        <vs-tabs>\r\n          <vs-tab label=\"Notificaciones\" icon-pack=\"feather\" icon=\"icon-bell\">\r\n            <h2>Notificaciones</h2>\r\n            <vs-list>\r\n              <vs-list-header icon-pack=\"feather\" icon=\"icon-file-text\" title=\"Tareas pendientes\"\r\n                color=\"warning\"></vs-list-header>\r\n              <div v-for=\"(item, index) in cursos\" :key=\"index\">\r\n                <div class=\"ml-8\" v-if=\"item.tareas_pendientes.length != 0\">\r\n                  <vs-list-item v-if=\"item.tareas_pendientes.length != 0\" icon-pack=\"feather\" icon=\"icon-airplay\"\r\n                    :title=\"item.cursos.nombre\">\r\n                  </vs-list-item>\r\n                  <div v-for=\"(tarea, ind) in item.tareas_pendientes\" :key=\"ind\">\r\n                    <div class=\"ml-12 vs-list--subtitle\">\r\n                      <div class=\"vs-row\">\r\n                        <feather-icon icon=\"FileTextIcon\" class=\"inline-block m-3\" icon-color=\"success\"\r\n                          svgClasses=\"w-5 h-5\" />\r\n                        <span class=\"text-primary\">{{ tarea.descripcion }}</span>\r\n                      </div>\r\n                      <div class=\"flex flex-row ml-4 justify-between\">\r\n                        <span class=\"text-secundary\">Fecha de inicio: {{ tarea.fecha_inicio }}</span> <span\r\n                          class=\"text-danger\">Fecha de final: {{ tarea.fecha_final }}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <vs-list-header icon-pack=\"feather\" icon=\"icon-file-text\" title=\"Tareas entregadas\"\r\n                color=\"success\"></vs-list-header>\r\n              <div v-for=\"(item, index) in cursos\" :key=\"index\">\r\n                <div class=\"ml-8\" v-if=\"item.tareas_realizadas.length != 0\">\r\n                  <vs-list-item v-if=\"item.tareas_realizadas.length != 0\" icon-pack=\"feather\" icon=\"icon-airplay\"\r\n                    :title=\"item.cursos.nombre\">\r\n                  </vs-list-item>\r\n                  <div v-for=\"(tarea, ind) in item.tareas_realizadas\" :key=\"ind\">\r\n                    <div class=\"ml-12 vs-list--subtitle\">\r\n                      <div class=\"vs-row\">\r\n                        <feather-icon icon=\"FileTextIcon\" class=\"inline-block m-3\" icon-color=\"success\"\r\n                          svgClasses=\"w-5 h-5\" />\r\n                        <span class=\"text-primary\">{{ tarea.descripcion }}</span>\r\n                      </div>\r\n                      <div class=\"flex flex-row ml-4 justify-between\">\r\n                        <span class=\"text-secundary\">Fecha de inicio: {{ tarea.fecha_inicio }}</span> <span\r\n                          class=\"text-success\">Fecha de final: {{ tarea.fecha_final }}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </vs-list>\r\n          </vs-tab>\r\n          <vs-tab v-if=\"cantidadMensajesVistos < cantidadMensajesNovistos\" label=\"Tickets(Mensajes no leidos)\" color=\"red\"\r\n            icon-pack=\"feather\" icon=\"icon-edit\">\r\n            <ticketEstudiante />\r\n          </vs-tab>\r\n          <vs-tab v-else label=\"Tickets\" color=\"red\" icon-pack=\"feather\" icon=\"icon-edit\">\r\n            <ticketEstudiante />\r\n          </vs-tab>\r\n        </vs-tabs>\r\n      </vs-card>\r\n    </div>\r\n    <div class=\"vx-row\" v-if=\"usuario.id_group == 1\">\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" :to=\"{ name: 'soporte', params: {} }\" radius\r\n            icon-pack=\"feather\" icon=\"icon-credit-card\" color=\"warning\"></vs-button>\r\n          <h5 style=\"display: inline-block;\">Tickets</h5>\r\n\r\n          <p>Abiertos: <b> {{ cantTicketsAbiertos }} </b></p>\r\n          <p>Cerrados: <b> {{ cantTicketsCerrados }} </b></p>\r\n          <vs-button color=\"success\" class=\"mt-1\" :to=\"{ name: 'soporte', params: {} }\" size=\"small\" type=\"relief\">Ver\r\n            Tickets</vs-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\" style=\"cursor:pointer;\"\r\n        @click=\"$router.push('/usuario/periodos/')\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-user\"\r\n            color=\"primary\"></vs-button>\r\n          <h5 style=\"display: inline-block;\">Usuarios</h5>\r\n          <vs-row>\r\n            <vs-col vs-type=\"flex\" vs-justify=\"left\" vs-align=\"left\" vs-w=\"12\">\r\n              <p style=\"font-weight: bold;\">\r\n                Total Activos:<span style=\"font-weight: 500;\"> {{ usuarioActivos }}</span>\r\n              </p>\r\n\r\n            </vs-col>\r\n          </vs-row>\r\n          <vs-row style=\"margin-top: 5px;\">\r\n            <vs-col vs-type=\"flex\" vs-justify=\"left\" vs-align=\"left\" vs-w=\"12\">\r\n              <p style=\"font-weight: bold;\">\r\n                Total Prolipa: <span style=\"font-weight: 500;\"> {{ usuariosProlipa }}</span>\r\n              </p>\r\n            </vs-col>\r\n          </vs-row>\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n            <div class=\"p-5 vx-card alto\">\r\n                <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-users\" color=\"success\"></vs-button>\r\n                <h5 style=\"display: inline-block;\">Accesos</h5>\r\n                <p>Administradores: <b> {{a_accesos}} </b></p>\r\n                <p>Docentes: <b> {{d_accesos}} </b></p>\r\n                <p>Estudiantes: <b> {{e_accesos}} </b></p>\r\n                <p>Conectados: <b> {{conectados}} </b></p>\r\n            </div>\r\n        </div> -->\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-list\"\r\n            color=\"success\"></vs-button>\r\n          <h5 style=\"display: inline-block;\" class=\"ml-1\">Formularios</h5>\r\n          <p>Solicitudes pendientes: <b> {{ cantFormsSolicitudes }} </b></p>\r\n          <p>Total Formularios: <b> {{ cantFormsDocente }} </b></p>\r\n          <vs-button color=\"warning\" @click=\"verSolicitudFormulario()\" class=\"mt-2\" size=\"small\" type=\"relief\">Ver\r\n            Solicitudes</vs-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-server\"\r\n            color=\"warning\"></vs-button>\r\n          <h5 style=\"display: inline-block;\">Cursos</h5>\r\n          <p>Activos: <b> {{ t_curso1 }} </b></p>\r\n          <p>Eliminados: <b> {{ t_curso0 }} </b></p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-check-circle\"\r\n            color=\"danger\"></vs-button>\r\n          <h5 style=\"display: inline-block;\">Evaluaciones</h5>\r\n          <p>Creadas: <b> {{ c_eval }} </b></p>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-search\"\r\n            color=\"primary\"></vs-button>\r\n          <h5 style=\"display: inline-block;\">Preguntas</h5>\r\n          <p>Opción múltiple: <b>{{ c_preg0 }}</b> </p>\r\n          <p>Respuesta cerrada: <b>{{ c_preg1 }}</b> </p>\r\n          <p>Verdadero falso: <b>{{ c_preg2 }}</b> </p>\r\n          <p>Opción simple: <b>{{ c_preg3 }}</b> </p>\r\n          <p>Respuesta abierta: <b>{{ c_preg4 }}</b> </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-aperture\"\r\n            color=\"success\"></vs-button>\r\n          <h5 style=\"display: inline-block;\">Contenido Multimedia</h5>\r\n          <p>Actividades: <b>{{ c_multi0 }}</b> </p>\r\n          <p>Animaciones: <b>{{ c_multi1 }}</b> </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-package\"\r\n            color=\"warning\"></vs-button>\r\n          <h5 style=\"display: inline-block;\">Juegos administrables</h5>\r\n          <p v-for=\"(item, index) in c_juegos0\" :key=\"index\">\r\n            <span> {{ item.nombre_tipo_juego }}: </span>\r\n            <b>{{ item.cantidad }}</b>\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-slack\"\r\n            color=\"danger\"></vs-button>\r\n          <h5 style=\"display: inline-block;\">Códigos libros</h5>\r\n          <p>Usados: <b>{{ c_codigos }}</b> </p>\r\n          <p>Creados: <b>{{ c_codigos_total }}</b> </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n        <div class=\"p-5 vx-card alto\">\r\n          <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-award\"\r\n            color=\"primary\"></vs-button>\r\n          <h5 style=\"display: inline-block;\">Seminarios</h5>\r\n          <p>Realizados: <b>{{ c_semi }}</b> </p>\r\n          <p>Encuestas: <b>{{ c_enc }}</b> </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"usuario.id_group == 10\">\r\n      <div class=\"vx-row mr-1\">\r\n        <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/3 mb-6\">\r\n          <div class=\"p-5 vx-card alto\">\r\n            <vs-button class=\"mb-2\" style=\"display: inline-block;\" radius icon-pack=\"feather\" icon=\"icon-home\"\r\n              color=\"primary\"></vs-button>\r\n            <h5 style=\"display: inline-block;\">Instituciones</h5>\r\n            <center>\r\n              <h1><b> {{ instituciones_director.length }} </b></h1>\r\n            </center>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <vx-card v-if=\"usuario.id_group == 25\">\r\n      <screen_gerenciaVue />\r\n    </vx-card>\r\n    <!--bodega admin-->\r\n    <div>\r\n      <HomeBodegaAdminVue v-if=\"usuario.id_group == 27\" />\r\n    </div>\r\n    <vs-popup title=\"Seleccione su institución\" :active.sync=\"popupActive\">\r\n      <p class=\"mb-6\">Por favor seleccione la institución a la que pertenece antes de continuar.</p>\r\n      Ciudad:\r\n      <v-select class=\"w-full mb-6\" :options=\"ciudades\" v-model=\"ciudad\" @input=\"verInstCiudad()\"\r\n        :dir=\"$vs.rtl ? 'rtl' : 'ltr'\" />\r\n      Institución:\r\n      <v-select class=\"w-full mb-6\" :options=\"instituciones\" v-model=\"institucion\" :dir=\"$vs.rtl ? 'rtl' : 'ltr'\" />\r\n      <vs-button class=\"w-full mt-4 mb-1\" @click=\"asignarInstitucion()\" color=\"success\" type=\"filled\">Guardar</vs-button>\r\n    </vs-popup>\r\n    <!--MODAL PARA CAMBIAR DE PASSWORD-->\r\n    <vs-popup class=\"holamundo\" title=\"Actualización de contraseña\" :active.sync=\"popupChangePassword\"\r\n      @close=\"handleClose\" :class=\"{ 'hide-close': !showCloseButton }\">\r\n      <popupChangePasswordVue v-if=\"popupChangePassword\" @changeRecarge=\"changeRecarge\" />\r\n    </vs-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nVue.use(axios)\r\nimport VueApexCharts from 'vue-apexcharts'\r\nimport StatisticsCardLine from '@/components/statistics-cards/StatisticsCardLine.vue'\r\nimport ChangeTimeDurationDropdown from '@/components/ChangeTimeDurationDropdown.vue'\r\nimport VxTimeline from '@/components/timeline/VxTimeline'\r\nimport vSelect from 'vue-select'\r\nimport Agenda from '../../src/views/docentes/agenda_docente.vue'\r\nimport ticketEstudiante from './soporte/ticketUsuario.vue'\r\nimport docenteHome from './home/docenteHome.vue'\r\n// import asesorHome from './home/asesorHome.vue'\r\nconst asesorHome = () => import('./home/asesorHome.vue')\r\nimport FacturadorAdminVue from './home/facturador/facturadorAdmin.vue'\r\n// import io from 'socket.io-client';\r\n// import EstudiantesMatricula from './gestion_matricula/estudiante/matricula_estudiante.vue'\r\nimport popupChangePasswordVue from './home/components/todos/popupChangePassword.vue'\r\nimport screen_gerenciaVue from './home/gerencia/screen_gerencia.vue'\r\nimport HomeNeetVue from '@/views/home/neet/HomeNeet'\r\nimport moment from 'moment'\r\nconst HomeBodegaAdminVue = () => import('./home/bodega/dashboardBodegaAdmin.vue')\r\n\r\n\r\n// const HomeBodegaAdminVue = () => import('./home/bodega/HomeBodegaAdmin.vue')\r\nimport {\r\n  mapState\r\n} from 'vuex'\r\nexport default {\r\n  data() {\r\n    return {\r\n      // socket: io(\"https://socket.prolipadigital.com.ec\"),\r\n      popupActive: false,\r\n      instituciones: [],\r\n      ciudades: [],\r\n      ciudad: '',\r\n      institucion: '',\r\n      usuario: [],\r\n      curso: [],\r\n      cursod: [],\r\n      tareasd: [],\r\n      contenidos: [],\r\n      tareasp: [],\r\n      tarease: [],\r\n      subscribersGained: {\r\n        series: [{\r\n          name: 'Subscribers',\r\n          data: [0, 3, 20, 4]\r\n        }],\r\n      },\r\n      usr_live: 0,\r\n      usr_students: [],\r\n      usr_teachers: [],\r\n      linkEvaluacion: '',\r\n      vectorLink: [],\r\n      urlBack: '',\r\n      urlV: [],\r\n      urlOrigen: '',\r\n      t_curso0: 0,\r\n      t_curso1: 0,\r\n      c_eval: 0,\r\n      c_preg0: 0,\r\n      c_preg1: 0,\r\n      c_preg2: 0,\r\n      c_preg3: 0,\r\n      c_preg4: 0,\r\n      c_multi0: 0,\r\n      c_multi1: 0,\r\n      c_juegos0: 0,\r\n      c_juegos1: 0,\r\n      c_semi: 0,\r\n      c_enc: 0,\r\n      c_user0: 0,\r\n      c_user1: 0,\r\n      c_user2: 0,\r\n      c_user3: 0,\r\n      c_codigos: 0,\r\n      c_codigos_total: 0,\r\n      c_accesos: 0,\r\n      d_accesos: 0,\r\n      e_accesos: 0,\r\n      a_accesos: 0,\r\n      conectados: 0,\r\n      reset_storage: 50, // accesos a la plataforma, y vuelve a recargar el localStorage, para verificar cambios futuros\r\n      cant_eval: [],\r\n      cantArchivos: [],\r\n      instituciones_director: [],\r\n      //salle\r\n      listaDocentes: '',\r\n      listaAdmins: '',\r\n      usuarioActivos: 0,\r\n      usuariosProlipa: 0,\r\n      salleInstituciones: '',\r\n      cantTicketsAbiertos: '',\r\n      cantTicketsCerrados: '',\r\n      areas_salle: 0,\r\n      asignaturas_salle: 0,\r\n      evaluaciones_salle: 0,\r\n      cantidadMensajesNovistos: 0,\r\n      cantidadMensajesVistos: 0,\r\n      aplica_matricula: 0,\r\n      //fin salle,\r\n      periodo: 0,\r\n      nombreInstitucion: '',\r\n      imagenInsitucion: '',\r\n      //form de docente\r\n      cantFormsDocente: 0,\r\n      cantFormsSolicitudes: 0,\r\n      //fin forms de docente\r\n      //variables para change password\r\n      popupChangePassword: false,\r\n      showCloseButton: false,\r\n      //fin variables para change password,\r\n      //variables salle\r\n      ObjectInstitucion:{},\r\n      configuracionSalle:[],\r\n      verEvaluacionSalle:false,\r\n      //fin variables salle\r\n    }\r\n  },\r\n  created() {\r\n    let me = this;\r\n    this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n    // me.formsDocente();\r\n  },\r\n  computed: {\r\n    ...mapState(['cursos'])\r\n  },\r\n  components: {\r\n    VueApexCharts,\r\n    StatisticsCardLine,\r\n    ChangeTimeDurationDropdown,\r\n    VxTimeline,\r\n    'v-select': vSelect,\r\n    Agenda,\r\n    ticketEstudiante,\r\n    docenteHome,\r\n    asesorHome,\r\n    FacturadorAdminVue,\r\n    // EstudiantesMatricula,\r\n    popupChangePasswordVue,\r\n    screen_gerenciaVue,\r\n    HomeNeetVue,\r\n    HomeBodegaAdminVue,\r\n  },\r\n  mounted() {\r\n    let me = this\r\n    me.getPeriodoInstitucion();\r\n    localStorage.removeItem('grupoInst');\r\n    this.linkEvaluacion = localStorage.getItem('evaluacionxLink')\r\n    if (this.linkEvaluacion) {\r\n      this.urlBack = window.location.href\r\n      this.urlV = this.urlBack.split('/')\r\n      this.urlOrigen = this.urlV[0] + '/' + this.urlV[1] + '/' + this.urlV[2]\r\n      this.vectorLink = (this.linkEvaluacion).split('-')\r\n      this.evaluacionUrl()\r\n    }\r\n    this.getInstitucion();\r\n    if (this.usuario.id_group == 4) { }\r\n    if (this.usuario.id_group == 6) {\r\n    }\r\n    if (this.usuario.id_group == 1) {\r\n      this.getConteo();\r\n      // this.ServiceSocket()\r\n      me.cantidadTicketsAbiertos();\r\n      me.cantidadTicketsCerrados();\r\n      me.getTicketsAbiertos();\r\n      me.getCantidadUsuarios();\r\n    };\r\n    if (this.usuario.id_group == 10) {\r\n      this.getInstitucionesDirector();\r\n    }\r\n    //salles\r\n    if (this.usuario.id_group == 12) {\r\n      this.getUsuariosSalle();\r\n    }\r\n    if (this.usuario.id_group === 29 || this.usuario.id_group === 30) {\r\n      // Redirect to 'biblioteca' route\r\n      this.$router.push({ name: 'biblioteca' })\r\n    }\r\n    //change password\r\n    me.changePassword()\r\n    if(this.usuario.id_group == 6 || this.usuario.id_group == 13  ){\r\n      me.getEvaluacionSalle()\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    getEvaluacionSalle(){\r\n      let me = this\r\n      this.$http.get(this.$server_url+'salle/periodos')\r\n      .then(res =>{\r\n        let datos  = res.data\r\n        var periodoEvaluacion = 0\r\n          if(datos.length > 0){\r\n            let searcEvaluacionActiva = datos.filter(p => p.estado == 1)\r\n            if(searcEvaluacionActiva.length > 0){\r\n              periodoEvaluacion = searcEvaluacionActiva[0].id\r\n              me.getEstadoEvaluacionSalle(periodoEvaluacion)\r\n            }else{\r\n            }\r\n          }else{\r\n          }\r\n      })\r\n    },\r\n    getEstadoEvaluacionSalle(periodoEvaluacion){\r\n      let me = this;\r\n      me.configuracionSalle = []\r\n      this.$http.get(this.$server_url+'institucionConfiguracionSalle/' + me.usuario.institucion_idInstitucion+'/'+periodoEvaluacion)\r\n      .then(res => {\r\n        me.configuracionSalle = res.data;\r\n        if(me.configuracionSalle.length == 0){\r\n          me.verEvaluacionSalle = false\r\n          return\r\n        }\r\n        const fechaActual = moment();\r\n        // Formatea la fecha en el formato \"Y-m-d\"\r\n        const fechaFormateada = fechaActual.format(\"YYYY-MM-DD\");\r\n        let datos = res.data[0]\r\n        const { fecha_fin } = datos\r\n        let getFechaFin = fecha_fin.substring(0,10)\r\n        if(fechaFormateada < getFechaFin ){ me.verEvaluacionSalle = true}\r\n        else                              { me.verEvaluacionSalle = false}\r\n      })\r\n    },\r\n    handleClose() {\r\n      let me = this;\r\n      me.popupChangePassword = true\r\n    },\r\n    changeRecarge(e) {\r\n      let me = this;\r\n      me.popupChangePassword = false\r\n    },\r\n    changePassword() {\r\n      let me = this;\r\n      //excepto los estudiantes\r\n      if (me.usuario.id_group == 4) {\r\n        return\r\n      } else {\r\n        var fecha30dias = me.usuario.fecha_change_password\r\n        var validateF = me.esFechaValida(fecha30dias)\r\n        var fechaActual = moment().format('YYYY-MM-DD')\r\n        if (validateF) {\r\n          //validar si existe la fecha despues de 30 dias\r\n          if ((fecha30dias <= fechaActual)) {\r\n            me.popupChangePassword = true\r\n          }\r\n          return\r\n        }\r\n        //si no tiene fecha de recordario\r\n        if (me.usuario.change_password == 1) {\r\n          me.popupChangePassword = true\r\n        }\r\n      }\r\n    },\r\n    esFechaValida(fecha) {\r\n      if (fecha == null || fecha == \"null\" || fecha == \"\") {\r\n        return false\r\n      }\r\n      var dateObj = new Date(fecha);\r\n      return !isNaN(dateObj);\r\n    },\r\n    //para ir a las solicitudes del formulario de registro de libros de los docentes\r\n    verSolicitudFormulario() {\r\n      let me = this;\r\n      localStorage.setItem('formulario', 'todo')\r\n      me.$router.push('/formulario/solicitudes')\r\n    },\r\n    //para obtener el perido atual\r\n    getPeriodoInstitucion() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'institucionTraerPeriodo?institucion_id=' + me.usuario.institucion_idInstitucion)\r\n        .then(function (res) {\r\n          me.periodo = res.data[0].periodo\r\n          localStorage.setItem('periodo_id', res.data[0].periodo)\r\n          localStorage.setItem('descripcion_periodo', res.data[0].descripcion)\r\n          localStorage.setItem('nombreInstitucion', res.data[0].nombreInstitucion)\r\n          localStorage.setItem('region', res.data[0].region)\r\n          me.nombreInstitucion = res.data[0].nombreInstitucion\r\n          me.imagenInsitucion = res.data[0].imgenInstitucion\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n        })\r\n    },\r\n\r\n\r\n    //para obtener el listado de los tickets\r\n    getTicketsAbiertos() {\r\n      let me = this;\r\n      // me.$vs.loading();\r\n      this.$http.get(this.$server_url + 'ticket?cantidadTicketNotificacion=yes&id=' + me.usuario.idusuario)\r\n        .then(function (res) {\r\n          console.log(res.data)\r\n          if (res.data.length > 0) {\r\n            me.cantidadMensajesNovistos = res.data[0].cantidad\r\n            me.cantidadMensajesVistos = res.data[0].cantidad_tickets_usuario\r\n          }\r\n          // me.$vs.loading.close()\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n          // me.$vs.loading.close()\r\n\r\n        })\r\n\r\n\r\n    },\r\n    ServiceSocket() {\r\n      console.log(\"id grupo\" + this.usuario.id_group)\r\n\r\n    },\r\n    getCantidadUsuarios() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'traerCantidadUsuarios')\r\n        .then(res => {\r\n          me.usuarioActivos = res.data.usuarioActivos[0].totalactivo\r\n          me.usuariosProlipa = res.data.usuariosProlipa[0].totalprolipa\r\n          // me.docentesCosta = res.data.docentesCosta.length\r\n          // me.docentesSierra = res.data.docentesSierra.length\r\n          // me.estudiantesCosta = res.data.estudiantesCosta.length\r\n          // me.estudiantesSierra = res.data.estudiantesSierra.length\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getUsuariosSalle() {\r\n      let me = this;\r\n      me.$vs.loading();\r\n      this.$http.get(this.$server_url + 'usuarioSalle')\r\n        .then(res => {\r\n          me.listaDocentes = res.data.docentes;\r\n          me.listaAdmins = res.data.admins;\r\n\r\n          me.$vs.loading.close();\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          me.$vs.loading.close();\r\n        })\r\n      this.$http.get(this.$server_url + 'institucionesSalle')\r\n        .then(res => {\r\n          // console.log(res.data)\r\n          me.salleInstituciones = res.data\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n\r\n      this.$http.get(this.$server_url + 'areas_salle')\r\n        .then(res => {\r\n          let datos = res.data\r\n          if (datos.length > 0) {\r\n            let proceso = datos.filter(p => p.n_evaluacion == localStorage.EvaluacionSelectSalle)\r\n            me.areas_salle = proceso.length\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n      this.$http.get(this.$server_url + 'asignaturas_salle')\r\n        .then(res => {\r\n          let datos = res.data\r\n          if (datos.length > 0) {\r\n            let proceso = datos.filter(p => p.n_evaluacion == localStorage.EvaluacionSelectSalle)\r\n            me.asignaturas_salle = proceso.length\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    getTarease() {\r\n      let me = this;\r\n      me.$vs.loading({\r\n        color: '#046AE7'\r\n      })\r\n    },\r\n\r\n\r\n    //====TICKETS======\r\n    cantidadTicketsAbiertos() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'ticket?cantAbiertos=yes')\r\n        .then(function (response) {\r\n          let datos = response.data\r\n          if (datos.length > 0) {\r\n            if (me.usuario.id_group == '1') {\r\n              let getInfo = datos.filter(p => p.ticket_asesor == '0')\r\n              me.cantTicketsAbiertos = getInfo.length;\r\n            } else {\r\n              let getInfo = datos.filter(p => p.ticket_asesor == '1' && p.vendedorInstitucion == me.usuario.cedula)\r\n              me.cantTicketsAbiertos = getInfo.length;\r\n            }\r\n          }\r\n\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n    cantidadTicketsCerrados() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'ticket?cantCerrados=yes')\r\n        .then(function (response) {\r\n          if (response.data.length > 0) {\r\n            me.cantTicketsCerrados = response.data[0].cantidadC;\r\n          }\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n\r\n    //====FIN TICKETS======\r\n    //====FORMULARIO DOCENTE========\r\n    formsDocente() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'formularioDocente?all=yes')\r\n        .then(function (response) {\r\n          me.cantFormsDocente = response.data.forms.length;\r\n          me.cantFormsSolicitudes = response.data.solicitudes.length\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n    //====FIN FORMULARIO DOCENTE====\r\n    contenidosDocente() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'contenidos?idusuario=' + me.usuario.idusuario)\r\n        .then(function (response) {\r\n          me.contenidos = response.data;\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n    cantidadArchivos() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'cant_contenido/' + me.usuario.idusuario)\r\n        .then(function (response) {\r\n          me.cantArchivos = response.data;\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n    getInstitucion() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'verificarInstitucion/' + me.usuario.idusuario)\r\n        .then(function (response) {\r\n          if (response.data[0].institucion_idInstitucion === null) {\r\n            me.getCiudad();\r\n            me.popupActive = true\r\n          } else {\r\n            me.ObjectInstitucion = response.data[0]\r\n            me.aplica_matricula  = response.data[0].aplica_matricula\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n    },\r\n    getCiudad() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'ciudades')\r\n        .then(function (response) {\r\n          me.ciudades = response.data;\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n    verInstCiudad() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'verInstitucionCiudad/' + me.ciudad.id)\r\n        .then(function (response) {\r\n          me.instituciones = response.data;\r\n        })\r\n        .catch(function (error) { })\r\n    },\r\n    asignarInstitucion() {\r\n      let me = this;\r\n      if (me.institucion === '' || me.institucion === null) {\r\n        me.$vs.notify({\r\n          text: 'Seleccione una institución antes de guardar',\r\n          color: 'danger',\r\n          iconPack: 'feather',\r\n          icon: 'icon-alert-triangle'\r\n        });\r\n        return;\r\n      }\r\n      var formData = new FormData();\r\n      formData.append(\"institucion\", me.institucion.id);\r\n      formData.append(\"usuario\", me.usuario.idusuario);\r\n      this.$http.post(this.$server_url + 'asignarInstitucion', formData)\r\n        .then(function (response) {\r\n          me.popupActive = false;\r\n          me.$vs.notify({\r\n            text: 'Institución guardada exitosamente',\r\n            color: 'success',\r\n            iconPack: 'feather',\r\n            icon: 'icon-check'\r\n          });\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n    },\r\n    evaluacionUrl() {\r\n      let me = this\r\n      let formData = new FormData();\r\n      formData.append(\"codigo\", me.vectorLink[1]);\r\n      formData.append(\"idusuario\", me.usuario.idusuario);\r\n      this.$http.post(this.$server_url + 'verificarCursoEstudiante', formData)\r\n        .then(function (res) {\r\n          if (res.data != '') {\r\n            localStorage.evaluacionxLink = ''\r\n            window.location.href = me.urlOrigen + '/responderEvaluacion/' + me.linkEvaluacion\r\n          } else {\r\n            me.addClase()\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n    },\r\n    addClase() {\r\n      let me = this\r\n      let formData = new FormData();\r\n      formData.append(\"codigo\", me.vectorLink[1]);\r\n      formData.append(\"idusuario\", me.usuario.idusuario);\r\n      this.$http.post(this.$server_url + 'addClase', formData)\r\n        .then(function (res) {\r\n          localStorage.evaluacionxLink = ''\r\n          window.location.href = me.urlOrigen + '/responderEvaluacion/' + me.linkEvaluacion\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n    },\r\n    cantidad_evaluaciones() {\r\n      let me = this;\r\n      console.log(me.usuario.idusuario)\r\n      this.$http.get(this.$server_url + 'cant_evaluaciones/' + me.usuario.idusuario)\r\n        .then(function (res) {\r\n          me.cant_eval = res.data;\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        })\r\n    },\r\n    getConteo() {\r\n      let me = this;\r\n      me.c_accesos = JSON.parse(localStorage.getItem('inProlipa'));\r\n      if (me.c_accesos == null) {\r\n        localStorage.inProlipa = 0;\r\n      }\r\n      me.c_accesos++\r\n      localStorage.inProlipa = me.c_accesos;\r\n      if (localStorage.inProlipa > me.reset_storage) {\r\n        localStorage.inProlipa = 0;\r\n      }\r\n      me.c_user0 = JSON.parse(localStorage.getItem('total_user0'));\r\n      me.c_user1 = JSON.parse(localStorage.getItem('total_user1'));\r\n      me.c_user2 = JSON.parse(localStorage.getItem('total_user2'));\r\n      me.c_user3 = JSON.parse(localStorage.getItem('total_user3'));\r\n      if (me.c_user0 == 0 || me.c_user0 == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_user')\r\n          .then(function (res) {\r\n            localStorage.total_user0 = me.c_user0 = res.data[1].cantidad;\r\n            localStorage.total_user1 = me.c_user1 = res.data[2].cantidad;\r\n            localStorage.total_user2 = me.c_user2 = res.data[3].cantidad;\r\n            localStorage.total_user3 = me.c_user3 = res.data[4].cantidad;\r\n            // console.log(me.c_user)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.t_curso0 = JSON.parse(localStorage.getItem('total_cur0'));\r\n      me.t_curso1 = JSON.parse(localStorage.getItem('total_cur1'));\r\n      if (me.t_curso0 == 0 || me.t_curso0 == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_cursos')\r\n          .then(function (res) {\r\n            localStorage.total_cur0 = me.t_curso0 = res.data[0].cantidad;\r\n            localStorage.total_cur1 = me.t_curso1 = res.data[1].cantidad;\r\n            // console.log(me.t_cursos)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_eval = JSON.parse(localStorage.getItem('total_eva'));\r\n      if (me.c_eval == 0 || me.c_eval == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_evaluaciones')\r\n          .then(function (res) {\r\n            // me.c_eval = (res.data)\r\n            localStorage.total_eva = me.c_eval = res.data[0].cantidad;\r\n            // console.log(me.c_eval)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_preg0 = JSON.parse(localStorage.getItem('total_preg0'));\r\n      me.c_preg1 = JSON.parse(localStorage.getItem('total_preg1'));\r\n      me.c_preg2 = JSON.parse(localStorage.getItem('total_preg2'));\r\n      me.c_preg3 = JSON.parse(localStorage.getItem('total_preg3'));\r\n      me.c_preg4 = JSON.parse(localStorage.getItem('total_preg4'));\r\n      if (me.c_preg0 == 0 || me.c_preg0 == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_preguntas')\r\n          .then(function (res) {\r\n            // me.c_preg = (res.data)\r\n            localStorage.total_preg0 = me.c_preg0 = res.data[0].cantidad;\r\n            localStorage.total_preg1 = me.c_preg1 = res.data[1].cantidad;\r\n            localStorage.total_preg2 = me.c_preg2 = res.data[2].cantidad;\r\n            localStorage.total_preg3 = me.c_preg3 = res.data[3].cantidad;\r\n            localStorage.total_preg4 = me.c_preg4 = res.data[4].cantidad;\r\n            // console.log(me.c_eval)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_multi0 = JSON.parse(localStorage.getItem('total_multi0'));\r\n      me.c_multi1 = JSON.parse(localStorage.getItem('total_multi1'));\r\n      if (me.c_multi0 == 0 || me.c_multi0 == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_multimedia')\r\n          .then(function (res) {\r\n            localStorage.total_multi0 = me.c_multi0 = res.data[0].cantidad;\r\n            localStorage.total_multi1 = me.c_multi1 = res.data[1].cantidad;\r\n            // console.log(me.c_multi)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_juegos0 = localStorage.getItem('total_juego0');\r\n      if (localStorage.inProlipa > 1) {\r\n        this.$http.get(this.$server_url + 'cant_juegos')\r\n          .then(function (res) {\r\n            // console.log( res.data[0].cantidad )\r\n            localStorage.total_juego0 = (res.data[0].cantidad);\r\n            me.c_juegos0 = res.data;\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_codigos = JSON.parse(localStorage.getItem('total_cod1'));\r\n      if (me.c_codigos == 0 || me.c_codigos == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_codigos')\r\n          .then(function (res) {\r\n            // me.c_codigos = (res.data[0].cantidad)\r\n            localStorage.total_cod1 = me.c_codigos = res.data[0].cantidad;\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_codigos_total = JSON.parse(localStorage.getItem('total_cod0'));\r\n      if (me.c_codigos_total == 0 || me.c_codigos_total == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_codigostotal')\r\n          .then(function (res) {\r\n            // me.c_codigos_total = (res.data[0].cantidad)\r\n            localStorage.total_cod0 = me.c_codigos_total = res.data[0].cantidad;\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_semi = JSON.parse(localStorage.getItem('semin'));\r\n      if (me.c_semi == 0 || me.c_semi == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_seminarios')\r\n          .then(function (res) {\r\n            // me.c_semi = (res.data)\r\n            localStorage.semin = me.c_semi = res.data[0].cantidad;\r\n            // console.log(me.c_semi)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n      me.c_enc = JSON.parse(localStorage.getItem('total_encu'));\r\n      if (me.c_enc == 0 || me.c_enc == null || localStorage.inProlipa == 0) {\r\n        this.$http.get(this.$server_url + 'cant_encuestas')\r\n          .then(function (res) {\r\n            // me.c_semi = (res.data)\r\n            localStorage.total_encu = me.c_enc = res.data[0].cantidad;\r\n            // console.log(me.c_semi)\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          })\r\n      }\r\n    },\r\n    getInstitucionesDirector() {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'verInstitucionDirector?idusuario=' + me.usuario.idusuario)\r\n        .then(res => {\r\n          me.instituciones_director = (res.data)\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        })\r\n    },\r\n    //para cambiar de grupo al estudiante\r\n    cambiarGrupoMatricula(grupo) {\r\n      let me = this;\r\n      this.$http.get(this.$server_url + 'cambiarEstadoMatricula?grupo=' + grupo + '&idusuario=' + me.usuario.idusuario)\r\n        .then(function (res) {\r\n          location.reload();\r\n          me.$router.push('/')\r\n          localStorage.clear();\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n        })\r\n    },\r\n    getEstadoMatricula(periodo) {\r\n      let me = this;\r\n      // let periodo = localStorage.getItem('periodo_id')\r\n      let idusuario = me.usuario.idusuario\r\n      this.$http.get(this.$server_url + 'valores/pensiones?periodo_id=' + periodo + '&idusuario=' + idusuario)\r\n        .then(function (res) {\r\n          if (res.data.length > 0) {\r\n            me.ifMatriculado = res.data.buscarEstudianteReserva[0].estado_matricula\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error + ' error');\r\n        })\r\n    },\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.hide-close .vs-popup--close {\r\n  display: none;\r\n}\r\n\r\n/*! rtl:begin:ignore */\r\n#dashboard-analytics {\r\n\r\n  .nombreInstitucion {\r\n    background: #00b09b;\r\n    /* fallback for old browsers */\r\n    background: -webkit-linear-gradient(to right, #96c93d, #00b09b);\r\n    /* Chrome 10-25, Safari 5.1-6 */\r\n    background: linear-gradient(to right, #96c93d, #00b09b);\r\n    /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n    box-shadow: 5px 4px 10px #ccc;\r\n    border-radius: 10px 5px;\r\n\r\n\r\n\r\n  }\r\n\r\n  .fondo-director {\r\n    background-image: linear-gradient(to top, #00c6fb 0%, #005bea 100%);\r\n  }\r\n\r\n  .alto {\r\n    min-height: 190px;\r\n  }\r\n\r\n  .numero1 {\r\n    font-size: 1.5em;\r\n  }\r\n\r\n  .color1 {\r\n    color: rgb(45, 133, 171);\r\n  }\r\n\r\n  .con-example-images {\r\n    max-height: 500px,\r\n      overflow auto\r\n  }\r\n\r\n\r\n\r\n  .greet-user {\r\n    position: relative;\r\n\r\n    .decore-left {\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n    }\r\n\r\n    .decore-right {\r\n      position: absolute;\r\n      right: 0;\r\n      top: 0;\r\n    }\r\n  }\r\n\r\n  @media(max-width: 576px) {\r\n\r\n    .decore-left,\r\n    .decore-right {\r\n      width: 140px;\r\n    }\r\n  }\r\n}\r\n\r\n/*! rtl:end:ignore */</style>\r\n\r\n"]}]}