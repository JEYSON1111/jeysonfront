{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\bodega\\listaCodigos.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\bodega\\listaCodigos.vue","mtime":1712682815574},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport $ from 'jquery'\r\nimport vSelect from 'vue-select'\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            busquedaIndividual:'',\r\n            ifInsititucion: false,\r\n            error: false,\r\n            desglose: false,\r\n            popupActivo: false,\r\n            popupIndividual:false,\r\n            institucion_id: '',\r\n            counterDanger: false,\r\n            arregloCiudad: [],\r\n            instituciones: [],\r\n            popupInstitucion: false,\r\n            nombreInstitucion: '',\r\n            popupAddNuevaInstitucion: false,\r\n            temporalInstitucion: {\r\n                ciudad: '',\r\n                nombreInstitucion: '',\r\n                region: '2',\r\n            },\r\n            institucion_id_temporal: '',\r\n            estado_institucion_temporal: 2,\r\n            periodo_id_temporal: 0,\r\n            nombreInstitucionTemporal: '',\r\n            busquedaInstitucion: '',\r\n            longitud: '0',\r\n            txt_ingreso: '',\r\n            txt_observacion: '',\r\n            todoCodigos: '',\r\n            m_mensaje: '',\r\n            codigos: '',\r\n            repetidas: '',\r\n            codigosDuplicados: false,\r\n            arrayCodigosDuplicados: [],\r\n            id: '',\r\n            codigo: '',\r\n            popupDuplicados: false,\r\n            codigosEscuelas: [],\r\n            usuario: [],\r\n            popupBusqueda: false,\r\n            filtroBusqueda: [],\r\n            arregloBusquedaIndividual:[],\r\n            busqueda: '',\r\n        }\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        this.focusInput();\r\n        // me.f_get_codigos();\r\n    },\r\n    created() {\r\n        this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n        this.listaCiudades()\r\n    },\r\n    methods: {\r\n        //busqueda individual de codigo\r\n        busquedaCodigoIndividual() {\r\n            let me = this\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url + 'bodega?individual=yes&codigo='+me.busquedaIndividual)\r\n            .then(res => {\r\n                    me.$vs.loading.close()\r\n                    me.arregloBusquedaIndividual = res.data;\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                    console.log(error)\r\n                })\r\n        },\r\n\r\n        limpiar() {\r\n            let me = this;\r\n            me.txt_observacion = \"\";\r\n            me.institucion_id = \"\";\r\n            me.institucion_temporal_id = \"\"\r\n            me.nombreInstitucion = \"\";\r\n            me.estado_institucion_temporal = \"2\"\r\n            $(\"#detalle\").prop('disabled', false);\r\n        },\r\n        asginarInstitucion(tr) {\r\n            let me = this;\r\n            me.institucion_id = tr.idInstitucion\r\n            me.nombreInstitucion = tr.nombreInstitucion\r\n            me.txt_observacion = me.nombreInstitucion\r\n            me.estado_institucion_temporal = 0;\r\n            me.ifInsititucion = true\r\n            me.instituciones = []\r\n            $(\"#detalle\").prop('disabled', true);\r\n        },\r\n        //lista de ciudades para usar en el select\r\n        listaCiudades() {\r\n            let me = this\r\n            this.$http.get(this.$server_url + `ciudad`).then(res => {\r\n                    me.arregloCiudad = res.data;\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error)\r\n                })\r\n        },\r\n\r\n        getInstitucion() {\r\n            let me = this;\r\n            me.instituciones = [];\r\n            if (me.busquedaInstitucion.length < 5) {\r\n                me.$vs.notify({\r\n                    text: 'Minimo 5 caracteres de busqueda',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-check'\r\n                })\r\n                return false;\r\n            }\r\n\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url + 'listaInsitucion?busqueda=' + me.busquedaInstitucion)\r\n                .then(function (res) {\r\n                    // me.tmpInstituciones = res.data;\r\n                    me.instituciones = res.data;\r\n                    // me.filtroRegion();\r\n                    me.$vs.loading.close()\r\n                    if (res.data.message) {\r\n                        me.$vs.notify({\r\n                            text: res.data.message,\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-user',\r\n                            time: 8000\r\n                        })\r\n                    }\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        agregarInstitucionTemporal() {\r\n\r\n            let me = this;\r\n            if (me.temporalInstitucion.nombre_institucion == \"\" || me.temporalInstitucion.nombre_institucion == null || me.temporalInstitucion.nombre_institucion == undefined) {\r\n                me.$vs.notify({\r\n                    color: 'primary',\r\n                    title: 'Mensaje',\r\n                    text: 'Debe escribir una institución por favor'\r\n                })\r\n                return false;\r\n            }\r\n\r\n            let formData = new FormData();\r\n            formData.append('nombre_institucion', me.temporalInstitucion.nombre_institucion);\r\n            formData.append('ciudad', me.temporalInstitucion.ciudad.nombre);\r\n            formData.append('region', me.temporalInstitucion.region);\r\n            formData.append('asesor_id', me.usuario.idusuario);\r\n\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url + 'GuardarInstitucionTemporal', formData)\r\n                .then(res => {\r\n                    me.$vs.loading.close()\r\n                    me.popupAddNuevaInstitucion = false;\r\n                    me.popupInstitucion = true\r\n                    me.nombreInstitucion = me.temporalInstitucion.nombre_institucion\r\n                    me.txt_observacion = me.nombreInstitucion\r\n                    me.institucion_id_temporal = res.data.institucion_temporal_id\r\n                    me.instituciones = []\r\n                    me.periodo_id_temporal = res.data.periodo_id\r\n                    me.estado_institucion_temporal = 1;\r\n                    me.ifInsititucion = true\r\n                    $(\"#detalle\").prop('disabled', true);\r\n                    me.$vs.notify({\r\n                        text: \"Se guardo correctamente\",\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                })\r\n        },\r\n\r\n        //para obtener el filtro de busqueda\r\n        filtrarBusqueda() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + 'bodegaFiltro?busqueda=' + me.busqueda)\r\n                .then(function (res) {\r\n                    me.filtroBusqueda = res.data\r\n                    me.popupBusqueda = true\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n\r\n        //para obtener el listado de las areas\r\n        getCodigosEscuela() {\r\n            let me = this;\r\n            if (me.busqueda == \"\") {\r\n                me.$vs.notify({\r\n                    text: 'ingrese un detalle para esta busqueda',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle',\r\n                    time: 8000,\r\n                })\r\n                return;\r\n            }\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + 'desgloseCodigo?escuela=' + me.txt_observacion)\r\n                .then(function (res) {\r\n                    let codigos = res.data\r\n                    let extraida = []\r\n                    let resultado = codigos.reduce((acumulador, obj) => {\r\n                        let key = obj.codigo\r\n                        // console.log(key)\r\n                        //  console.log(key,'rr',key.indexOf('-')) \r\n                        extraida.push(\r\n                            key.substring(0, key.indexOf('-'))\r\n                        );\r\n                        if (!acumulador[key]) {\r\n                            acumulador[key] = []\r\n                        }\r\n                        acumulador[key].push(obj)\r\n                        return acumulador;\r\n                    }, {});\r\n                    var repetidos = {};\r\n                    extraida.forEach(function (numero) {\r\n                        repetidos[numero] = (repetidos[numero] || 0) + 1;\r\n                    });\r\n                    console.log(repetidos);\r\n                    me.codigosEscuelas = repetidos\r\n                    me.desglose = true\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        focusInput() {\r\n            this.$refs.ingreso.$el.focus()\r\n        },\r\n        buscarEscuela() {\r\n            let me = this;\r\n        },\r\n        f_ingresar() {\r\n            let me = this;\r\n            me.codigos = \"\";\r\n            me.repetidas = \"\";\r\n            if (me.txt_observacion == \"\") {\r\n                me.$vs.notify({\r\n                    text: 'ingrese un detalle para este grupo',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle',\r\n                    time: 8000,\r\n                })\r\n                return;\r\n            }\r\n            if (me.txt_ingreso.length > me.longitud) {\r\n                me.popupActivo = true\r\n                return;\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('codigo', me.txt_ingreso);\r\n            formData.append('observacion', me.txt_observacion);\r\n            formData.append('usuario', me.usuario.idusuario);\r\n            formData.append('institucion_id', me.institucion_id);\r\n            formData.append('institucion_id_temporal', me.institucion_id_temporal);\r\n            formData.append('estado_institucion_temporal', me.estado_institucion_temporal);\r\n            formData.append('periodo_id_temporal', me.periodo_id_temporal);\r\n            formData.append('nombreInstitucion', me.nombreInstitucion);\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url + 'add_codigo', formData)\r\n                .then(function (res) {\r\n                    if (res.data.codigosRepetidos.length == 0) {\r\n                    } else {\r\n                        me.popupDuplicados = true\r\n                        me.codigosDuplicados = true\r\n                        me.codigos = res.data.codigosRepetidos.codigos\r\n                        me.repetidas = res.data.codigosRepetidos.repetidas\r\n                        me.arrayCodigosDuplicados.push({\r\n                            \"codigo\": res.data.codigosRepetidos.codigos,\r\n                            \"repetidas\": res.data.codigosRepetidos.repetidas\r\n                        })\r\n                    }\r\n                  \r\n                    me.$vs.loading.close()\r\n                    me.txt_ingreso = \"\"\r\n                    me.f_get_codigos();\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        f_get_codigos() {\r\n            let me = this;\r\n            // me.$vs.loading()\r\n            me.m_mensaje = 'cargando lista....';\r\n            this.$http.get(this.$server_url + 'get_codigo')\r\n                .then(function (res) {\r\n                    // console.log(res.data)\r\n                    me.todoCodigos = res.data;\r\n                    me.m_mensaje = '';\r\n                    me.txt_ingreso = ''\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n\r\n        openConfirm(item) {\r\n            let me = this;\r\n            me.id = item.id\r\n            me.codigo = item.codigo\r\n            this.$vs.dialog({\r\n                type: 'confirm',\r\n                color: 'danger',\r\n                title: `Confirm`,\r\n                text: 'ESTA SEGURO DE ELIMINAR_.',\r\n                accept: this.f_eliminar\r\n            })\r\n        },\r\n        f_eliminar(item) {\r\n            let me = this;\r\n            // console.log(item)\r\n            // return\r\n            me.$vs.loading()\r\n            let formData = new FormData();\r\n            formData.append('id', me.id);\r\n            formData.append('codigo', me.codigo);\r\n            formData.append('observacion', me.txt_observacion);\r\n            this.$http.post(this.$server_url + 'elimina_codigo', formData)\r\n                .then(function (res) {\r\n                    console.log(res.data)\r\n                    // me.todoCodigos= res.data;\r\n                    me.f_get_codigos();\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n    },\r\n}\r\n",{"version":3,"sources":["listaCodigos.vue"],"names":[],"mappings":";AAkVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"listaCodigos.vue","sourceRoot":"src/views/bodega","sourcesContent":["<template>\r\n<div>\r\n    <vx-card>\r\n        <vs-input ref=\"ingreso\" size=\"large\" autofocus class=\"m-3 mb-5 w-full\" label-placeholder=\"código\" v-model=\"txt_ingreso\" @change=\"f_ingresar\" @key.enter=\"f_ingresar\" /> <br>\r\n        <vs-row>\r\n            <vs-col vs-type=\"flex\" vs-justify=\"left\" vs-align=\"left\" vs-w=\"4\">\r\n\r\n                <vs-input class=\"m-3 w-full\" label-placeholder=\"longitud del codigo\" v-model=\"longitud\" />\r\n            </vs-col>\r\n\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"8\">\r\n                <vs-input size=\"large\" class=\"m-3\" style=\"width: 60%;\" id=\"detalle\" label-placeholder=\"detalle del grupo de codigos\" v-model=\"txt_observacion\" />\r\n                <vs-button color=\"warning\" v-if=\"ifInsititucion == false\" @click=\"popupInstitucion = true\" icon=\"search\" type=\"filled\" class=\"ml-4\">Seleccionar Institución</vs-button>\r\n                <vs-button color=\"danger\" v-if=\"ifInsititucion == true\" @click=\"ifInsititucion = false;limpiar()\" icon=\"search\" type=\"filled\" class=\"ml-4\">Quitar Institución</vs-button>\r\n            </vs-col>\r\n\r\n        </vs-row>\r\n        <br />\r\n\r\n        <div style=\"display:flex;\">\r\n            <vs-button color=\"primary\" icon=\"clock\" type=\"border\" class=\"ml-4 mt-3\" @click=\"f_get_codigos()\">Actualizar</vs-button>\r\n            <vs-button color=\"primary\" icon=\"filter\" type=\"filled\" @click=\"popupBusqueda = true\" class=\"ml-4 mt-3\">Filtrar Escuelas</vs-button>\r\n            <vs-button color=\"success\" type=\"filled\" icon=\"code\" @click=\"popupIndividual = true\" class=\"ml-4 mt-3\">Busqueda Individual</vs-button>\r\n        </div>\r\n\r\n        <!-- {{ codigosEscuelas }} -->\r\n\r\n        <vs-list v-if=\"desglose == true\" class=\"mt-5\">\r\n            <vs-list-header :title=\"'Desglose de codigos de ' + txt_observacion \">\r\n\r\n            </vs-list-header>\r\n            <div>\r\n                <vs-button size=\"small\" icon=\"cancel\" color=\"danger\" type=\"border\" @click=\"desglose = false\" class=\"ml-4 mt-3\">Ocultar</vs-button>\r\n            </div>\r\n            <vs-row>\r\n                <vs-col :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in codigosEscuelas\" vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"4\">\r\n                    <vs-list-item>{{indextr}}: {{tr}}</vs-list-item>\r\n                </vs-col>\r\n            </vs-row>\r\n\r\n        </vs-list>\r\n\r\n        <center class=\"\">\r\n            <h3 class=\"text-warning\">{{m_mensaje}}</h3>\r\n        </center>\r\n\r\n        <vs-row class=\"mt-5\">\r\n              <vs-divider color=\"primary\">ultimos codigos</vs-divider>\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"8\">\r\n                <vs-collapse style=\"width: 100%;\">\r\n                    <vs-collapse-item>\r\n                        <div slot=\"header\">\r\n                            Códigos Ingresados\r\n                        </div>\r\n\r\n                        <vs-table pagination max-items=\"1000\" search :data=\"todoCodigos\" style=\"width: 100%;\">\r\n                            <template slot=\"header\">\r\n                                <div class=\"vx-row\">\r\n                                    <div class=\"vx-col w-full\">\r\n                                        Cantidad: {{todoCodigos.length}}\r\n                                    </div>\r\n                                    <div class=\"vx-col w-full\">\r\n                                        <small>se listan maximo 5000</small>\r\n                                    </div>\r\n                                </div>\r\n                            </template>\r\n                            <template slot=\"thead\">\r\n                                <vs-th>Codigo</vs-th>\r\n                                <vs-th>Observacion</vs-th>\r\n                                <vs-th>eliminar</vs-th>\r\n                            </template>\r\n                            <template slot-scope=\"{data}\">\r\n                                <vs-tr :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                                    <vs-td>\r\n                                        {{ data[indextr].codigo}}\r\n                                        <vs-chip color=\"danger\" v-if=\"tr.repetido > 2\">\r\n                                            Repetido\r\n                                        </vs-chip>\r\n                                    </vs-td>\r\n                                    <vs-td>\r\n                                        {{ data[indextr].observacion}}<br/>\r\n                                        {{ tr.fecha_create }}\r\n                                    </vs-td>\r\n                                    <vs-td>\r\n                                        <vs-button style=\"display: inline-block;\" class=\"m-2 mb-2\" radius icon-pack=\"feather\" icon=\"icon-trash\" color=\"danger\" type=\"line\" @click=\"openConfirm(tr)\"></vs-button>\r\n                                    </vs-td>\r\n                                </vs-tr>\r\n                            </template>\r\n                        </vs-table>\r\n                    </vs-collapse-item>\r\n                </vs-collapse>\r\n            </vs-col>\r\n\r\n            <vs-col vs-type=\"flex\" vs-justify=\"start\" vs-align=\"start\" vs-w=\"3\" class=\"ml-5\">\r\n                <vs-card>\r\n                    <vs-row v-if=\"codigosDuplicados == true\">\r\n                        <vs-col vs-type=\"flex\" vs-justify=\"start\" vs-align=\"start\" vs-w=\"12\">\r\n\r\n                            <vs-list>\r\n                                <vs-list-header icon=\"supervisor_account\" title=\"Ultimo codigo repetido\"></vs-list-header>\r\n                                <vs-list-item icon=\"check\" :title=\"codigos\">\r\n                                    <vs-chip color=\"primary\">Total Duplicados {{repetidas}}</vs-chip>\r\n                                </vs-list-item>\r\n\r\n                            </vs-list>\r\n                        </vs-col>\r\n\r\n                    </vs-row>\r\n                </vs-card>\r\n            </vs-col>\r\n\r\n            <vs-card>\r\n                <vs-row v-if=\"codigosDuplicados == true\">\r\n                    <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"6\">\r\n\r\n                        <vs-list>\r\n                            <vs-list-header icon=\"supervisor_account\" title=\"Códigos ya existentes\"></vs-list-header>\r\n                            <vs-list-item :key=\"indextr\" v-for=\"(tr, indextr) in arrayCodigosDuplicados\" icon=\"check\" :title=\"tr.codigo\">\r\n                                <vs-chip color=\"danger\">Total Duplicados {{tr.repetidas}}</vs-chip>\r\n                            </vs-list-item>\r\n\r\n                        </vs-list>\r\n                    </vs-col>\r\n\r\n                </vs-row>\r\n            </vs-card>\r\n\r\n        </vs-row>\r\n\r\n    </vx-card>\r\n\r\n    <vs-popup class=\"holamundo\" title=\"Longitud maxima\" :active.sync=\"popupActivo\">\r\n        <p>\r\n            Codigo supera la longitud\r\n        </p>\r\n    </vs-popup>\r\n\r\n    <vs-popup class=\"holamundo\" title=\"Existe codigos duplicados\" :active.sync=\"popupDuplicados\">\r\n        <p>\r\n            Existe codigos duplicados\r\n        </p>\r\n    </vs-popup>\r\n\r\n    <vs-popup class=\"holamundo\" title=\"Filtro de busqueda de escuela\" :active.sync=\"popupBusqueda\">\r\n        <vs-row>\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                <vs-input label=\"Busqueda\" class=\"w-full\" placeholder=\"Busqueda\" v-model=\"busqueda\" />\r\n            </vs-col>\r\n        </vs-row>\r\n\r\n        <vs-row class=\"mt-5\">\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                <vs-button color=\"success\" type=\"filled\" @click=\"filtrarBusqueda()\">Filtrar Escuelas</vs-button>\r\n            </vs-col>\r\n        </vs-row>\r\n\r\n        <vs-row v-if=\"filtroBusqueda.length > 0\">\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                <vs-table pagination max-items=\"10\" search :data=\"filtroBusqueda\" style=\"width: 100%;\">\r\n\r\n                    <template slot=\"thead\">\r\n                        <vs-th>Colegio</vs-th>\r\n                        <vs-th>Acciones</vs-th>\r\n\r\n                    </template>\r\n                    <template slot-scope=\"{data}\">\r\n                        <vs-tr :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                            <vs-td>\r\n                                {{ data[indextr].observacion}}\r\n\r\n                            </vs-td>\r\n                            <vs-td>\r\n                                <vs-button color=\"primary\" @click=\"txt_observacion = tr.observacion; popupBusqueda = false;getCodigosEscuela();\" type=\"filled\">Seleccionar</vs-button>\r\n                            </vs-td>\r\n\r\n                        </vs-tr>\r\n                    </template>\r\n                </vs-table>\r\n            </vs-col>\r\n        </vs-row>\r\n\r\n    </vs-popup>\r\n\r\n    <!--MODAL PARA AGREGAR  INSTITUCION-->\r\n\r\n    <vs-popup background-color=\"rgba(255,255,255,.6)\" title=\"Seleccionar Institución\" :active.sync=\"popupInstitucion\">\r\n\r\n        <vs-row class=\"mt-2\">\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                <p style=\"color:red;\" v-if=\"nombreInstitucion == '' || nombreInstitucion == null \">\r\n                    Sin Institución\r\n                </p>\r\n                <vs-chip color=\"success\" v-else>\r\n                    Institución {{ nombreInstitucion}}\r\n                </vs-chip>\r\n            </vs-col>\r\n        </vs-row>\r\n\r\n        <vs-row class=\"mt-2\">\r\n            <vs-col vs-type=\"flex\" vs-justify=\"left\" vs-align=\"left\" vs-w=\"6\">\r\n\r\n                <vs-button size=\"small\" class=\"ml-3\" @click=\"popupAddNuevaInstitucion = true;popupInstitucion = false;\" type=\"relief\">Añadir nueva institución</vs-button>\r\n            </vs-col>\r\n\r\n        </vs-row>\r\n\r\n        <div style=\"width:100%;display:flex;\" class=\"mt-5\">\r\n            <div style=\"width:90%;\">\r\n                <vs-input icon=\"search\" style=\"width:100%;\" placeholder=\"Search\" @keyup.enter=\"getInstitucion()\" v-model=\"busquedaInstitucion\" />\r\n            </div>\r\n\r\n            <div style=\"width:10%;margin-left:15px;\">\r\n                <vs-button radius color=\"warning\" @click=\"getInstitucion()\" type=\"filled\" icon=\"search\"></vs-button>\r\n            </div>\r\n        </div>\r\n\r\n        <div v-if=\"instituciones.length >0\">\r\n            <vs-table stripe max-items=\"5\" search pagination :data=\"instituciones\">\r\n                <template slot=\"header\">\r\n                    <div class=\"vx-row\">\r\n                        <div class=\"vx-col w-full m-3\">\r\n                            Cantidad: {{instituciones.length}}\r\n                        </div>\r\n\r\n                    </div>\r\n                </template>\r\n                <template slot=\"thead\">\r\n                    <vs-th sort-key=\"nombreInstitucion\">Institución</vs-th>\r\n                    <vs-th sort-key=\"nombre\">Localidad</vs-th>\r\n                    <vs-th>Acciones</vs-th>\r\n                </template>\r\n                <template slot-scope=\"{data}\">\r\n                    <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n\r\n                        <vs-td :data=\"data[indextr].nombreInstitucion\">\r\n                            {{data[indextr].nombreInstitucion}}<br>\r\n\r\n                        </vs-td>\r\n                        <vs-td :data=\"data[indextr].nombreregion\">\r\n                            {{data[indextr].nombreregion}} <br>\r\n                            <small>{{data[indextr].ciudad}}</small>\r\n                        </vs-td>\r\n                        <vs-td>\r\n                            <div class=\"flex\">\r\n                                <vs-button size=\"small\" type=\"relief\" style=\"border-radius: 5px;\" icon-pack=\"feather\" icon=\"icon-bookmark\" class=\"mr-2\" color=\"primary\" @click=\"asginarInstitucion(tr);error=false\">\r\n                                    Asignar\r\n                                </vs-button>\r\n                            </div>\r\n                        </vs-td>\r\n                    </vs-tr>\r\n                </template>\r\n            </vs-table>\r\n        </div>\r\n    </vs-popup>\r\n\r\n    <!--MODAL PARA AGREGAR NUEVA INSTITUCION-->\r\n\r\n    <vs-popup background-color=\"rgba(255,255,255,.6)\" title=\"Agregar Nueva Institución\" :active.sync=\"popupAddNuevaInstitucion\">\r\n        <vs-button size=\"small\" color=\"success\" radius=\"\" @click=\"popupAddNuevaInstitucion=false;popupInstitucion = true;\" icon=\"reply\" type=\"gradient\"></vs-button>\r\n        <vs-row>\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                <div class=\"vx-col w-full mt-5\">\r\n\r\n                    Seleccione una ciudad:\r\n                    <v-select :options=\"arregloCiudad\" :reduce=\"arregloCiudad => arregloCiudad\" label=\"nombre\" class=\"w-full\" v-model=\"temporalInstitucion.ciudad\" />\r\n                </div>\r\n            </vs-col>\r\n        </vs-row>\r\n        <vs-row class=\"mt-2\">\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                <vs-input label=\"Escriba un nombre para la institución\" class=\"w-full\" v-model=\"temporalInstitucion.nombre_institucion\" placeholder=\"Institución\" />\r\n            </vs-col>\r\n        </vs-row>\r\n\r\n        <vs-row class=\"mt-2\">\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                <ul class=\"leftx\" style=\"display:flex;flex-direction: row;\">\r\n\r\n                    <li class=\"ml-2\">\r\n                        <vs-radio v-model=\"temporalInstitucion.region\" vs-name=\"radios1\" vs-value=\"1\">Sierra</vs-radio>\r\n                    </li>\r\n                    <li class=\"ml-2\">\r\n                        <vs-radio v-model=\"temporalInstitucion.region\" vs-name=\"radios1\" vs-value=\"2\">Costa</vs-radio>\r\n                    </li>\r\n\r\n                </ul>\r\n            </vs-col>\r\n        </vs-row>\r\n        <vs-row class=\"mt-5\">\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                <vs-button @click=\"agregarInstitucionTemporal();error = false\" type=\"gradient\">Agregar Institución</vs-button>\r\n            </vs-col>\r\n        </vs-row>\r\n    </vs-popup>\r\n    <!--MODAL PARA BUSQUEDA Invidual-->\r\n     <vs-popup class=\"holamundo\"  title=\"Buscar informacion del codigo\" :active.sync=\"popupIndividual\">\r\n      <vs-row>\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                <vs-input label=\"Ingrese el codigo a buscar\" class=\"w-full\"  placeholder=\"Codigo\" v-model=\"busquedaIndividual\" />\r\n            </vs-col>\r\n        </vs-row>\r\n        <vs-row class=\"mt-5\">\r\n            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                <vs-button color=\"success\" type=\"filled\" @click=\"busquedaCodigoIndividual()\">Buscar</vs-button>\r\n            </vs-col>\r\n        </vs-row>\r\n        <div v-if=\"arregloBusquedaIndividual.length >0\">\r\n            <vs-table stripe max-items=\"5\" search pagination :data=\"arregloBusquedaIndividual\">\r\n                <template slot=\"header\">\r\n                    <p>Cantidad: <span style=\"font-weight: bold;\">{{arregloBusquedaIndividual.length}}</span></p>\r\n                </template>\r\n                <template slot=\"thead\">\r\n                    <vs-th sort-key=\"nombreInstitucion\">Escuela</vs-th>\r\n                    <vs-th sort-key=\"nombre\">Codigo</vs-th>\r\n                    <vs-th>Fecha Create</vs-th>\r\n                </template>\r\n                <template slot-scope=\"{data}\">\r\n                    <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                        <vs-td>\r\n                            {{tr.observacion}}<br>\r\n                            <small v-if=\"tr.libro_idlibro > 0\">\r\n                                  <vs-chip color=\"warning\">Codigo original</vs-chip>  \r\n                            </small>\r\n                        </vs-td>\r\n                        <vs-td>\r\n                            {{ tr.codigo }}\r\n                        </vs-td>\r\n                        <vs-td>\r\n                            <vs-chip color=\"success\">{{tr.fecha_create}}</vs-chip>\r\n                        </vs-td>\r\n                    </vs-tr>\r\n                </template>\r\n            </vs-table>\r\n        </div>\r\n    </vs-popup>\r\n</div>\r\n</template>\r\n<script>\r\nimport $ from 'jquery'\r\nimport vSelect from 'vue-select'\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            busquedaIndividual:'',\r\n            ifInsititucion: false,\r\n            error: false,\r\n            desglose: false,\r\n            popupActivo: false,\r\n            popupIndividual:false,\r\n            institucion_id: '',\r\n            counterDanger: false,\r\n            arregloCiudad: [],\r\n            instituciones: [],\r\n            popupInstitucion: false,\r\n            nombreInstitucion: '',\r\n            popupAddNuevaInstitucion: false,\r\n            temporalInstitucion: {\r\n                ciudad: '',\r\n                nombreInstitucion: '',\r\n                region: '2',\r\n            },\r\n            institucion_id_temporal: '',\r\n            estado_institucion_temporal: 2,\r\n            periodo_id_temporal: 0,\r\n            nombreInstitucionTemporal: '',\r\n            busquedaInstitucion: '',\r\n            longitud: '0',\r\n            txt_ingreso: '',\r\n            txt_observacion: '',\r\n            todoCodigos: '',\r\n            m_mensaje: '',\r\n            codigos: '',\r\n            repetidas: '',\r\n            codigosDuplicados: false,\r\n            arrayCodigosDuplicados: [],\r\n            id: '',\r\n            codigo: '',\r\n            popupDuplicados: false,\r\n            codigosEscuelas: [],\r\n            usuario: [],\r\n            popupBusqueda: false,\r\n            filtroBusqueda: [],\r\n            arregloBusquedaIndividual:[],\r\n            busqueda: '',\r\n        }\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        this.focusInput();\r\n        // me.f_get_codigos();\r\n    },\r\n    created() {\r\n        this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n        this.listaCiudades()\r\n    },\r\n    methods: {\r\n        //busqueda individual de codigo\r\n        busquedaCodigoIndividual() {\r\n            let me = this\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url + 'bodega?individual=yes&codigo='+me.busquedaIndividual)\r\n            .then(res => {\r\n                    me.$vs.loading.close()\r\n                    me.arregloBusquedaIndividual = res.data;\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                    console.log(error)\r\n                })\r\n        },\r\n\r\n        limpiar() {\r\n            let me = this;\r\n            me.txt_observacion = \"\";\r\n            me.institucion_id = \"\";\r\n            me.institucion_temporal_id = \"\"\r\n            me.nombreInstitucion = \"\";\r\n            me.estado_institucion_temporal = \"2\"\r\n            $(\"#detalle\").prop('disabled', false);\r\n        },\r\n        asginarInstitucion(tr) {\r\n            let me = this;\r\n            me.institucion_id = tr.idInstitucion\r\n            me.nombreInstitucion = tr.nombreInstitucion\r\n            me.txt_observacion = me.nombreInstitucion\r\n            me.estado_institucion_temporal = 0;\r\n            me.ifInsititucion = true\r\n            me.instituciones = []\r\n            $(\"#detalle\").prop('disabled', true);\r\n        },\r\n        //lista de ciudades para usar en el select\r\n        listaCiudades() {\r\n            let me = this\r\n            this.$http.get(this.$server_url + `ciudad`).then(res => {\r\n                    me.arregloCiudad = res.data;\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error)\r\n                })\r\n        },\r\n\r\n        getInstitucion() {\r\n            let me = this;\r\n            me.instituciones = [];\r\n            if (me.busquedaInstitucion.length < 5) {\r\n                me.$vs.notify({\r\n                    text: 'Minimo 5 caracteres de busqueda',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-check'\r\n                })\r\n                return false;\r\n            }\r\n\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url + 'listaInsitucion?busqueda=' + me.busquedaInstitucion)\r\n                .then(function (res) {\r\n                    // me.tmpInstituciones = res.data;\r\n                    me.instituciones = res.data;\r\n                    // me.filtroRegion();\r\n                    me.$vs.loading.close()\r\n                    if (res.data.message) {\r\n                        me.$vs.notify({\r\n                            text: res.data.message,\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-user',\r\n                            time: 8000\r\n                        })\r\n                    }\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        agregarInstitucionTemporal() {\r\n\r\n            let me = this;\r\n            if (me.temporalInstitucion.nombre_institucion == \"\" || me.temporalInstitucion.nombre_institucion == null || me.temporalInstitucion.nombre_institucion == undefined) {\r\n                me.$vs.notify({\r\n                    color: 'primary',\r\n                    title: 'Mensaje',\r\n                    text: 'Debe escribir una institución por favor'\r\n                })\r\n                return false;\r\n            }\r\n\r\n            let formData = new FormData();\r\n            formData.append('nombre_institucion', me.temporalInstitucion.nombre_institucion);\r\n            formData.append('ciudad', me.temporalInstitucion.ciudad.nombre);\r\n            formData.append('region', me.temporalInstitucion.region);\r\n            formData.append('asesor_id', me.usuario.idusuario);\r\n\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url + 'GuardarInstitucionTemporal', formData)\r\n                .then(res => {\r\n                    me.$vs.loading.close()\r\n                    me.popupAddNuevaInstitucion = false;\r\n                    me.popupInstitucion = true\r\n                    me.nombreInstitucion = me.temporalInstitucion.nombre_institucion\r\n                    me.txt_observacion = me.nombreInstitucion\r\n                    me.institucion_id_temporal = res.data.institucion_temporal_id\r\n                    me.instituciones = []\r\n                    me.periodo_id_temporal = res.data.periodo_id\r\n                    me.estado_institucion_temporal = 1;\r\n                    me.ifInsititucion = true\r\n                    $(\"#detalle\").prop('disabled', true);\r\n                    me.$vs.notify({\r\n                        text: \"Se guardo correctamente\",\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                })\r\n        },\r\n\r\n        //para obtener el filtro de busqueda\r\n        filtrarBusqueda() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + 'bodegaFiltro?busqueda=' + me.busqueda)\r\n                .then(function (res) {\r\n                    me.filtroBusqueda = res.data\r\n                    me.popupBusqueda = true\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n\r\n        //para obtener el listado de las areas\r\n        getCodigosEscuela() {\r\n            let me = this;\r\n            if (me.busqueda == \"\") {\r\n                me.$vs.notify({\r\n                    text: 'ingrese un detalle para esta busqueda',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle',\r\n                    time: 8000,\r\n                })\r\n                return;\r\n            }\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + 'desgloseCodigo?escuela=' + me.txt_observacion)\r\n                .then(function (res) {\r\n                    let codigos = res.data\r\n                    let extraida = []\r\n                    let resultado = codigos.reduce((acumulador, obj) => {\r\n                        let key = obj.codigo\r\n                        // console.log(key)\r\n                        //  console.log(key,'rr',key.indexOf('-')) \r\n                        extraida.push(\r\n                            key.substring(0, key.indexOf('-'))\r\n                        );\r\n                        if (!acumulador[key]) {\r\n                            acumulador[key] = []\r\n                        }\r\n                        acumulador[key].push(obj)\r\n                        return acumulador;\r\n                    }, {});\r\n                    var repetidos = {};\r\n                    extraida.forEach(function (numero) {\r\n                        repetidos[numero] = (repetidos[numero] || 0) + 1;\r\n                    });\r\n                    console.log(repetidos);\r\n                    me.codigosEscuelas = repetidos\r\n                    me.desglose = true\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        focusInput() {\r\n            this.$refs.ingreso.$el.focus()\r\n        },\r\n        buscarEscuela() {\r\n            let me = this;\r\n        },\r\n        f_ingresar() {\r\n            let me = this;\r\n            me.codigos = \"\";\r\n            me.repetidas = \"\";\r\n            if (me.txt_observacion == \"\") {\r\n                me.$vs.notify({\r\n                    text: 'ingrese un detalle para este grupo',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle',\r\n                    time: 8000,\r\n                })\r\n                return;\r\n            }\r\n            if (me.txt_ingreso.length > me.longitud) {\r\n                me.popupActivo = true\r\n                return;\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('codigo', me.txt_ingreso);\r\n            formData.append('observacion', me.txt_observacion);\r\n            formData.append('usuario', me.usuario.idusuario);\r\n            formData.append('institucion_id', me.institucion_id);\r\n            formData.append('institucion_id_temporal', me.institucion_id_temporal);\r\n            formData.append('estado_institucion_temporal', me.estado_institucion_temporal);\r\n            formData.append('periodo_id_temporal', me.periodo_id_temporal);\r\n            formData.append('nombreInstitucion', me.nombreInstitucion);\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url + 'add_codigo', formData)\r\n                .then(function (res) {\r\n                    if (res.data.codigosRepetidos.length == 0) {\r\n                    } else {\r\n                        me.popupDuplicados = true\r\n                        me.codigosDuplicados = true\r\n                        me.codigos = res.data.codigosRepetidos.codigos\r\n                        me.repetidas = res.data.codigosRepetidos.repetidas\r\n                        me.arrayCodigosDuplicados.push({\r\n                            \"codigo\": res.data.codigosRepetidos.codigos,\r\n                            \"repetidas\": res.data.codigosRepetidos.repetidas\r\n                        })\r\n                    }\r\n                  \r\n                    me.$vs.loading.close()\r\n                    me.txt_ingreso = \"\"\r\n                    me.f_get_codigos();\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        f_get_codigos() {\r\n            let me = this;\r\n            // me.$vs.loading()\r\n            me.m_mensaje = 'cargando lista....';\r\n            this.$http.get(this.$server_url + 'get_codigo')\r\n                .then(function (res) {\r\n                    // console.log(res.data)\r\n                    me.todoCodigos = res.data;\r\n                    me.m_mensaje = '';\r\n                    me.txt_ingreso = ''\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n\r\n        openConfirm(item) {\r\n            let me = this;\r\n            me.id = item.id\r\n            me.codigo = item.codigo\r\n            this.$vs.dialog({\r\n                type: 'confirm',\r\n                color: 'danger',\r\n                title: `Confirm`,\r\n                text: 'ESTA SEGURO DE ELIMINAR_.',\r\n                accept: this.f_eliminar\r\n            })\r\n        },\r\n        f_eliminar(item) {\r\n            let me = this;\r\n            // console.log(item)\r\n            // return\r\n            me.$vs.loading()\r\n            let formData = new FormData();\r\n            formData.append('id', me.id);\r\n            formData.append('codigo', me.codigo);\r\n            formData.append('observacion', me.txt_observacion);\r\n            this.$http.post(this.$server_url + 'elimina_codigo', formData)\r\n                .then(function (res) {\r\n                    console.log(res.data)\r\n                    // me.todoCodigos= res.data;\r\n                    me.f_get_codigos();\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n    },\r\n}\r\n</script>\r\n"]}]}