{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\salle\\administrador\\usuarios\\listaUsuarios.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\salle\\administrador\\usuarios\\listaUsuarios.vue","mtime":1712682816533},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nimport RevisarEvaluacionSalleVue from '../../docente/evaluaciones/RevisarEvaluacionSalle.vue'\r\nimport usuarioAsignaturaVue from './usuarioAsignatura.vue'\r\nimport agregarUsuarioVue from './agregarUsuario.vue'\r\nexport default {\r\n    components: {\r\n      'v-select': vSelect,\r\n      RevisarEvaluacionSalleVue,\r\n      usuarioAsignaturaVue,\r\n      agregarUsuarioVue\r\n    },\r\n    data() {\r\n        return {\r\n          listaDocentes: '',\r\n          listaAdmins: '',\r\n          miusuario: '',\r\n          datoEditar: '',\r\n          num: '',\r\n          ///variables para previsualizar evaluacion\r\n          user:{},\r\n          popupEditar:false,\r\n          popupRevisarEvaluacion:false,\r\n          //fin variables para previsualizar evaluacion\r\n          //variables para asignar asignaturas\r\n          popupAsignarAsignaturas:false,\r\n          //fin variables para asignar asignaturas ss\r\n          editar:0,\r\n        }\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        localStorage.removeItem('datoUsuario')\r\n        localStorage.removeItem('editar')\r\n        me.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n        me.miusuario = me.usuario;\r\n        me.getUsuarios();\r\n    },\r\n    methods: {\r\n        recharge(e){\r\n            let me  = this;\r\n            if(e == 1) { me.popupEditar = false; return }\r\n            me.popupEditar = false\r\n            me.getUsuarios()\r\n        },\r\n      changeReturn(){\r\n        let me = this;\r\n        me.popupRevisarEvaluacion = false;\r\n      },\r\n      getUsuarios() {\r\n        let me = this;\r\n        me.$vs.loading();\r\n        this.$http.get(this.$server_url+'usuarioSalle/'+localStorage.EvaluacionSelectSalle)\r\n          .then(res => {\r\n              me.listaDocentes = res.data.docentes;\r\n              me.listaAdmins = res.data.admins;\r\n              me.$vs.loading.close();\r\n          })\r\n          .catch(err => {\r\n              console.log(err)\r\n              me.$vs.loading.close();\r\n          })\r\n      },\r\n        agregarUsuario() {\r\n          let me = this;\r\n          me.popupEditar = true\r\n          me.editar = 0\r\n        },\r\n        editarUsuario(item) {\r\n            let me = this;\r\n            me.editar = 1\r\n            me.user = item\r\n            me.popupEditar = true\r\n        },\r\n        confirmaEstado(item) {\r\n            let me = this;\r\n            let msj = '';\r\n            console.log(item)\r\n            me.datoEditar = item;\r\n            if (item.estado_idEstado == 1) {\r\n                msj = \"BLOQUEAR \";\r\n                me.num = 2;\r\n            } else {\r\n                msj = \"ACTIVAR \";\r\n                me.num = 1;\r\n            }\r\n            me.$vs.dialog({\r\n                type: 'confirm',\r\n                color: 'danger',\r\n                title: `Confirmar`,\r\n                text: '¿Está seguro en ' + msj + ' a este usuario?',\r\n                acceptText: 'Aceptar',\r\n                cancelText: 'Cancelar',\r\n                accept: me.estadoUsuario\r\n            })\r\n        },\r\n        estadoUsuario() {\r\n            let me = this;\r\n            let datas = new FormData();\r\n            datas.append('idusuario', me.datoEditar.idusuario);\r\n            datas.append('estado', me.num);\r\n            me.$vs.loading();\r\n            this.$http.post(this.$server_url+'activa_desactiva_user', datas)\r\n                .then(res => {\r\n                    // console.log(res.data)\r\n                    me.$vs.notify({\r\n                        text: 'Usuario editado',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.$vs.loading.close();\r\n                    me.getUsuarios();\r\n                })\r\n                .catch(err => {\r\n                    me.$vs.loading.close();\r\n                    // console.log(err)\r\n                })\r\n        },\r\n        confirmaResetear(item) {\r\n            let me = this;\r\n            // console.log(item)\r\n            me.datoEditar = item;\r\n            me.$vs.dialog({\r\n                type: 'confirm',\r\n                color: 'danger',\r\n                title: `Confirmar`,\r\n                text: 'La contraseña será reemplazada por el número de cédula.',\r\n                acceptText: 'Aceptar',\r\n                cancelText: 'Cancelar',\r\n                accept: me.resetearClave\r\n            })\r\n        },\r\n        resetearClave() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            let datas = new FormData();\r\n            datas.append('idusuario', me.datoEditar.idusuario);\r\n            datas.append('cedula', me.datoEditar.cedula);\r\n            this.$http.post(this.$server_url+'updatePassword', datas)\r\n                .then(res => {\r\n                    // console.log(res.data)\r\n                    me.$vs.notify({\r\n                        text: 'Contraseña reseteada, correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.$vs.loading.close();\r\n                    me.getUsuarios();\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                    me.$vs.loading.close();\r\n                })\r\n        },\r\n        asignaturasUsuario(item){\r\n            let me = this;\r\n            localStorage.usuSalle =  (item.idusuario);\r\n            me.$router.push('/admin/usuarioasignaturas');\r\n        },\r\n        confirmaIntento(item) {\r\n            let me = this;\r\n            me.datoEditar = item;\r\n            me.$vs.dialog({\r\n                type: 'confirm',\r\n                color: 'danger',\r\n                title: `Confirmar`,\r\n                text: 'Está seguro de renovar el intento para el docente seleccionado? La evaluación actual ya no será calificada.',\r\n                acceptText: 'Aceptar',\r\n                cancelText: 'Cancelar',\r\n                accept: me.renovarIntento\r\n            })\r\n        },\r\n        renovarIntento(){\r\n          let me = this\r\n          me.$vs.loading();\r\n          let data = new FormData();\r\n          data.append('idusuario',   me.datoEditar.idusuario);\r\n          data.append('n_evaluacion',localStorage.EvaluacionSelectSalle)\r\n          this.$http.post(this.$server_url+'salle_intento_eval', data)\r\n          .then(res => {\r\n            me.$vs.notify({\r\n              text: 'El docente podrá rendir la evaluación una vez más',\r\n              color: 'success',\r\n              iconPack: 'feather',\r\n              icon: 'icon-check'\r\n            })\r\n            me.$vs.loading.close();\r\n          })\r\n          .catch(err => {\r\n            console.log(err)\r\n            me.$vs.loading.close();\r\n          })\r\n        },\r\n        irPrevisualizacion(tr){\r\n          let me = this\r\n          me.user.nombres                     = tr.nombres\r\n          me.user.apellidos                   = tr.apellidos\r\n          me.user.cedula                      = tr.cedula\r\n          me.user.institucion_idInstitucion   = tr.idInstitucion\r\n          me.user.idusuario                   = tr.idusuario\r\n          me.user.id_evaluacion                    = tr.id_evaluacion\r\n          me.popupRevisarEvaluacion           = true\r\n        },\r\n        revisarEvaluacion(item){\r\n          let me = this\r\n          if( item.id_evaluacion == null || item.id_evaluacion == 'null' || item.id_evaluacion == ''){\r\n            me.$vs.notify({\r\n              text: 'El docente seleccionado aún no ha rendido una evaluación',\r\n              color: 'warning',\r\n              iconPack: 'feather',\r\n              icon: 'icon-alert-triangle'\r\n            })\r\n          }else{\r\n            let datos_docente = item.nombres + ' ' + item.apellidos + ' - ' + item.cedula\r\n            localStorage.setItem('tipo_revisar', 1);\r\n            localStorage.setItem('revisa_admin_salle', 1);\r\n            localStorage.setItem('id_evaluacion_salle', item.id_evaluacion);\r\n            localStorage.setItem('idusuario_evaluacion_salle', item.idusuario);\r\n            localStorage.setItem('idInstitucionDocente',item.idInstitucion)\r\n            localStorage.setItem('datos_docente_revisando', datos_docente);\r\n            me.$router.push('/salle/docente/evaluacion');\r\n          }\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["listaUsuarios.vue"],"names":[],"mappings":";AAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"listaUsuarios.vue","sourceRoot":"src/views/salle/administrador/usuarios","sourcesContent":["<template>\r\n<div class=\"vx-col md:w-full w-full mb-base\">\r\n    <vx-card>\r\n        <vs-button color=\"primary\" type=\"border\" icon-pack=\"feather\" icon=\"icon-plus\" @click=\"agregarUsuario();\">Agregar</vs-button>\r\n        <vs-tabs alignment=\"fixed\">\r\n            <vs-tab :label=\"'Docentes ( ' + listaDocentes.length +' )'\">\r\n                <vs-table max-items=\"20\" search pagination :data=\"listaDocentes\" style=\"margin-top:-20px\">\r\n                    <template slot=\"thead\">\r\n                        <vs-th sort-key=\"nombre\">Nombre</vs-th>\r\n                        <vs-th sort-key=\"cedula\">Cedula</vs-th>\r\n                        <vs-th sort-key=\"email\">Email</vs-th>\r\n                        <vs-th sort-key=\"estado\">Estado</vs-th>\r\n                        <vs-th sort-key=\"institucion\">Institucion</vs-th>\r\n                        <vs-th>Acciones</vs-th>\r\n                    </template>\r\n                    <template slot-scope=\"{data}\">\r\n                        <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                            <vs-td>\r\n                                {{data[indextr].nombres}} {{data[indextr].apellidos}}\r\n                            </vs-td>\r\n                            <vs-td>\r\n                                {{data[indextr].cedula}}\r\n                            </vs-td>\r\n                            <vs-td>\r\n                                {{data[indextr].email}}\r\n                            </vs-td>\r\n                            <vs-td>\r\n                                <div @click=\"confirmaEstado(tr)\">\r\n                                    <vs-button v-if=\"data[indextr].estado_idEstado == 1\" color=\"success\" size=\"small\">Activo</vs-button>\r\n                                    <vs-button v-if=\"data[indextr].estado_idEstado == 2\" color=\"danger\" size=\"small\">Bloqueado</vs-button>\r\n                                </div>\r\n                            </vs-td>\r\n                            <vs-td>\r\n                                {{data[indextr].institucion_ciudad}}\r\n                            </vs-td>\r\n                            <vs-td style=\"width: 350px;\" align=\"center\">\r\n                              <vs-dropdown vs-custom-content vs-trigger-click>\r\n                                <vs-button type=\"relief\" class=\"a-icon\">\r\n                                    Opciones\r\n                                    <vs-icon class=\"\" icon=\"expand_more\"></vs-icon>\r\n                                </vs-button>\r\n                                <vs-dropdown-menu class=\"loginx\">\r\n                                    <vs-dropdown-item style=\"width:200px;\" @click=\"user = tr;popupAsignarAsignaturas=true;\">\r\n                                        <span class=\"feather icon icon-book\"></span> Asignaturas\r\n                                    </vs-dropdown-item>\r\n                                    <vs-dropdown-item style=\"width:200px;margin-top:5px;\"  @click=\"editarUsuario(tr)\">\r\n                                        <span class=\"feather icon icon-edit\"></span> Editar\r\n                                    </vs-dropdown-item>\r\n                                    <vs-dropdown-item style=\"width:200px;margin-top:5px;\" @click=\"confirmaResetear(tr)\">\r\n                                        <span class=\"feather icon-corner-down-left\"></span> Resetear contraseña\r\n                                    </vs-dropdown-item>\r\n                                    <vs-dropdown-item style=\"width:200px;margin-top:5px;\" @click=\"confirmaIntento(tr)\">\r\n                                        <span class=\"feather icon-refresh-ccw\"></span> Permitir nuevo intento de evaluación\r\n                                    </vs-dropdown-item>\r\n                                    <vs-dropdown-item style=\"width:200px;margin-top:5px;\" @click=\"irPrevisualizacion(tr);\">\r\n                                        <span class=\"feather icon icon-eye\"></span> Previsualizar\r\n                                    </vs-dropdown-item>\r\n                                    <vs-dropdown-item style=\"width:200px;margin-top:5px;\" @click=\"revisarEvaluacion(tr)\">\r\n                                        <span class=\"feather icon icon-check\"></span> Revisar Evaluación\r\n                                    </vs-dropdown-item>\r\n                                </vs-dropdown-menu>\r\n                              </vs-dropdown>\r\n                            </vs-td>\r\n                        </vs-tr>\r\n                    </template>\r\n                </vs-table>\r\n            </vs-tab>\r\n            <vs-tab :label=\"'Administradores ( '+listaAdmins.length+' )'\">\r\n                <vs-table max-items=\"20\" search pagination :data=\"listaAdmins\" style=\"margin-top:-20px\">\r\n                    <template slot=\"thead\">\r\n                        <vs-th sort-key=\"nombre\">Nombre</vs-th>\r\n                        <vs-th sort-key=\"cedula\">Cedula</vs-th>\r\n                        <vs-th sort-key=\"email\">Email</vs-th>\r\n                        <vs-th sort-key=\"estado\">Estado</vs-th>\r\n                        <vs-th sort-key=\"institucion\">Institucion</vs-th>\r\n                        <vs-th>Acciones</vs-th>\r\n                    </template>\r\n                    <template slot-scope=\"{data}\">\r\n                        <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                            <vs-td>\r\n                                {{data[indextr].nombres}} {{data[indextr].apellidos}}\r\n                            </vs-td>\r\n                            <vs-td>\r\n                                {{data[indextr].cedula}}\r\n                            </vs-td>\r\n                            <vs-td>\r\n                                {{data[indextr].email}}\r\n                            </vs-td>\r\n                            <vs-td>\r\n                                <div @click=\"confirmaEstado(tr)\">\r\n                                    <vs-button v-if=\"data[indextr].estado_idEstado == 1\" color=\"success\" size=\"small\">Activo</vs-button>\r\n                                    <vs-button v-if=\"data[indextr].estado_idEstado == 2\" color=\"danger\" size=\"small\">Bloqueado</vs-button>\r\n                                </div>\r\n                            </vs-td>\r\n                            <vs-td>\r\n                                {{data[indextr].institucion_ciudad}}\r\n                            </vs-td>\r\n                            <vs-td>\r\n                              <div class=\"flex\">\r\n                                <vx-tooltip text=\"editar\" position=\"top\" style=\"display: inline-block\" color=\"warning\">\r\n                                  <vs-button size=\"large\" type=\"line\" radius icon-pack=\"feather\" class=\"mr-2\" icon=\"icon-edit\" color=\"warning\" @click=\"editarUsuario(tr)\"></vs-button>\r\n                                </vx-tooltip>\r\n                                <vx-tooltip text=\"resetear contraseña\" position=\"top\" style=\"display: inline-block\" color=\"primary\">\r\n                                  <vs-button size=\"large\" type=\"line\" radius icon-pack=\"feather\" icon=\"icon-refresh-ccw\" color=\"primary\" @click=\"confirmaResetear(tr)\"></vs-button>\r\n                                </vx-tooltip>\r\n                              </div>\r\n                            </vs-td>\r\n                        </vs-tr>\r\n                    </template>\r\n                </vs-table>\r\n            </vs-tab>\r\n        </vs-tabs>\r\n    </vx-card>\r\n    <!--MODALES-->\r\n    <!--MODAL PARA REVISAR LA EVALUACION-->\r\n    <vs-popup classContent=\"popup-example\" fullscreen title=\"Previsualizar Evaluación\" :active.sync=\"popupRevisarEvaluacion\">\r\n      <RevisarEvaluacionSalleVue v-if=\"popupRevisarEvaluacion\" :user=\"user\" @changeReturn=\"changeReturn\"/>\r\n    </vs-popup>\r\n    <!--VER ASIGNATURAS-->\r\n    <vs-popup classContent=\"popup-example\" fullscreen title=\"Asignaturas Docente\" :active.sync=\"popupAsignarAsignaturas\">\r\n      <usuarioAsignaturaVue :desdeAdmin=\"1\" :user=\"user\" v-if=\"popupAsignarAsignaturas\"/>\r\n    </vs-popup>\r\n    <!--EDITAR-->\r\n    <vs-popup classContent=\"popup-example\" fullscreen title=\"Mantenimiento de Docente\" :active.sync=\"popupEditar\">\r\n      <agregarUsuarioVue :editar=\"editar\" :user=\"user\" v-if=\"popupEditar\" @recharge=\"recharge\"/>\r\n    </vs-popup>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nimport RevisarEvaluacionSalleVue from '../../docente/evaluaciones/RevisarEvaluacionSalle.vue'\r\nimport usuarioAsignaturaVue from './usuarioAsignatura.vue'\r\nimport agregarUsuarioVue from './agregarUsuario.vue'\r\nexport default {\r\n    components: {\r\n      'v-select': vSelect,\r\n      RevisarEvaluacionSalleVue,\r\n      usuarioAsignaturaVue,\r\n      agregarUsuarioVue\r\n    },\r\n    data() {\r\n        return {\r\n          listaDocentes: '',\r\n          listaAdmins: '',\r\n          miusuario: '',\r\n          datoEditar: '',\r\n          num: '',\r\n          ///variables para previsualizar evaluacion\r\n          user:{},\r\n          popupEditar:false,\r\n          popupRevisarEvaluacion:false,\r\n          //fin variables para previsualizar evaluacion\r\n          //variables para asignar asignaturas\r\n          popupAsignarAsignaturas:false,\r\n          //fin variables para asignar asignaturas ss\r\n          editar:0,\r\n        }\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        localStorage.removeItem('datoUsuario')\r\n        localStorage.removeItem('editar')\r\n        me.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n        me.miusuario = me.usuario;\r\n        me.getUsuarios();\r\n    },\r\n    methods: {\r\n        recharge(e){\r\n            let me  = this;\r\n            if(e == 1) { me.popupEditar = false; return }\r\n            me.popupEditar = false\r\n            me.getUsuarios()\r\n        },\r\n      changeReturn(){\r\n        let me = this;\r\n        me.popupRevisarEvaluacion = false;\r\n      },\r\n      getUsuarios() {\r\n        let me = this;\r\n        me.$vs.loading();\r\n        this.$http.get(this.$server_url+'usuarioSalle/'+localStorage.EvaluacionSelectSalle)\r\n          .then(res => {\r\n              me.listaDocentes = res.data.docentes;\r\n              me.listaAdmins = res.data.admins;\r\n              me.$vs.loading.close();\r\n          })\r\n          .catch(err => {\r\n              console.log(err)\r\n              me.$vs.loading.close();\r\n          })\r\n      },\r\n        agregarUsuario() {\r\n          let me = this;\r\n          me.popupEditar = true\r\n          me.editar = 0\r\n        },\r\n        editarUsuario(item) {\r\n            let me = this;\r\n            me.editar = 1\r\n            me.user = item\r\n            me.popupEditar = true\r\n        },\r\n        confirmaEstado(item) {\r\n            let me = this;\r\n            let msj = '';\r\n            console.log(item)\r\n            me.datoEditar = item;\r\n            if (item.estado_idEstado == 1) {\r\n                msj = \"BLOQUEAR \";\r\n                me.num = 2;\r\n            } else {\r\n                msj = \"ACTIVAR \";\r\n                me.num = 1;\r\n            }\r\n            me.$vs.dialog({\r\n                type: 'confirm',\r\n                color: 'danger',\r\n                title: `Confirmar`,\r\n                text: '¿Está seguro en ' + msj + ' a este usuario?',\r\n                acceptText: 'Aceptar',\r\n                cancelText: 'Cancelar',\r\n                accept: me.estadoUsuario\r\n            })\r\n        },\r\n        estadoUsuario() {\r\n            let me = this;\r\n            let datas = new FormData();\r\n            datas.append('idusuario', me.datoEditar.idusuario);\r\n            datas.append('estado', me.num);\r\n            me.$vs.loading();\r\n            this.$http.post(this.$server_url+'activa_desactiva_user', datas)\r\n                .then(res => {\r\n                    // console.log(res.data)\r\n                    me.$vs.notify({\r\n                        text: 'Usuario editado',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.$vs.loading.close();\r\n                    me.getUsuarios();\r\n                })\r\n                .catch(err => {\r\n                    me.$vs.loading.close();\r\n                    // console.log(err)\r\n                })\r\n        },\r\n        confirmaResetear(item) {\r\n            let me = this;\r\n            // console.log(item)\r\n            me.datoEditar = item;\r\n            me.$vs.dialog({\r\n                type: 'confirm',\r\n                color: 'danger',\r\n                title: `Confirmar`,\r\n                text: 'La contraseña será reemplazada por el número de cédula.',\r\n                acceptText: 'Aceptar',\r\n                cancelText: 'Cancelar',\r\n                accept: me.resetearClave\r\n            })\r\n        },\r\n        resetearClave() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            let datas = new FormData();\r\n            datas.append('idusuario', me.datoEditar.idusuario);\r\n            datas.append('cedula', me.datoEditar.cedula);\r\n            this.$http.post(this.$server_url+'updatePassword', datas)\r\n                .then(res => {\r\n                    // console.log(res.data)\r\n                    me.$vs.notify({\r\n                        text: 'Contraseña reseteada, correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.$vs.loading.close();\r\n                    me.getUsuarios();\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                    me.$vs.loading.close();\r\n                })\r\n        },\r\n        asignaturasUsuario(item){\r\n            let me = this;\r\n            localStorage.usuSalle =  (item.idusuario);\r\n            me.$router.push('/admin/usuarioasignaturas');\r\n        },\r\n        confirmaIntento(item) {\r\n            let me = this;\r\n            me.datoEditar = item;\r\n            me.$vs.dialog({\r\n                type: 'confirm',\r\n                color: 'danger',\r\n                title: `Confirmar`,\r\n                text: 'Está seguro de renovar el intento para el docente seleccionado? La evaluación actual ya no será calificada.',\r\n                acceptText: 'Aceptar',\r\n                cancelText: 'Cancelar',\r\n                accept: me.renovarIntento\r\n            })\r\n        },\r\n        renovarIntento(){\r\n          let me = this\r\n          me.$vs.loading();\r\n          let data = new FormData();\r\n          data.append('idusuario',   me.datoEditar.idusuario);\r\n          data.append('n_evaluacion',localStorage.EvaluacionSelectSalle)\r\n          this.$http.post(this.$server_url+'salle_intento_eval', data)\r\n          .then(res => {\r\n            me.$vs.notify({\r\n              text: 'El docente podrá rendir la evaluación una vez más',\r\n              color: 'success',\r\n              iconPack: 'feather',\r\n              icon: 'icon-check'\r\n            })\r\n            me.$vs.loading.close();\r\n          })\r\n          .catch(err => {\r\n            console.log(err)\r\n            me.$vs.loading.close();\r\n          })\r\n        },\r\n        irPrevisualizacion(tr){\r\n          let me = this\r\n          me.user.nombres                     = tr.nombres\r\n          me.user.apellidos                   = tr.apellidos\r\n          me.user.cedula                      = tr.cedula\r\n          me.user.institucion_idInstitucion   = tr.idInstitucion\r\n          me.user.idusuario                   = tr.idusuario\r\n          me.user.id_evaluacion                    = tr.id_evaluacion\r\n          me.popupRevisarEvaluacion           = true\r\n        },\r\n        revisarEvaluacion(item){\r\n          let me = this\r\n          if( item.id_evaluacion == null || item.id_evaluacion == 'null' || item.id_evaluacion == ''){\r\n            me.$vs.notify({\r\n              text: 'El docente seleccionado aún no ha rendido una evaluación',\r\n              color: 'warning',\r\n              iconPack: 'feather',\r\n              icon: 'icon-alert-triangle'\r\n            })\r\n          }else{\r\n            let datos_docente = item.nombres + ' ' + item.apellidos + ' - ' + item.cedula\r\n            localStorage.setItem('tipo_revisar', 1);\r\n            localStorage.setItem('revisa_admin_salle', 1);\r\n            localStorage.setItem('id_evaluacion_salle', item.id_evaluacion);\r\n            localStorage.setItem('idusuario_evaluacion_salle', item.idusuario);\r\n            localStorage.setItem('idInstitucionDocente',item.idInstitucion)\r\n            localStorage.setItem('datos_docente_revisando', datos_docente);\r\n            me.$router.push('/salle/docente/evaluacion');\r\n          }\r\n        }\r\n    }\r\n}\r\n</script>\r\n"]}]}