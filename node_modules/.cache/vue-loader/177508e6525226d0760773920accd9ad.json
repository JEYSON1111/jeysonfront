{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\certificados\\components\\editarCapacitacion.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\certificados\\components\\editarCapacitacion.vue","mtime":1712682815593},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport AsignarInstitucionVue from './AsignarInstitucion.vue'\r\nimport vSelect from 'vue-select'\r\nimport flatPickr from 'vue-flatpickr-component'\r\nexport default {\r\n  components: {\r\n    'v-select': vSelect,\r\n    flatPickr,\r\n    AsignarInstitucionVue,\r\n  },\r\n  data() {\r\n    return {\r\n      counter_long: 200,\r\n      counterDanger: false,\r\n      configdateTimePicker: {\r\n        enableTime: true,\r\n        dateFormat: 'Y-m-d H:i:s'\r\n      },\r\n      configdateTimePickerTime: {\r\n        enableTime: true,\r\n        enableSeconds: false,\r\n        noCalendar: true\r\n      },\r\n      menu: 0,\r\n      arregloCiudad: [],\r\n      nombreInstitucion: '',\r\n      institucion_id_temporal: 0,\r\n      periodo_id_temporal: 0,\r\n      estado_institucion_temporal: 0,\r\n      institucion_id: 0,\r\n      estado_institucion_temporal: 0,\r\n      tipoCapacitacion: 0,\r\n      capacitadorCapacitacion: [],\r\n    }\r\n  },\r\n  props: {\r\n    periodoSelect: {\r\n      type: Object,\r\n      default: {}\r\n    },\r\n    agenda_editar: {\r\n      type: Object,\r\n      default: {}\r\n    },\r\n    capacitacion: {\r\n      type: Object,\r\n      default: {}\r\n    },\r\n    arregloCapacitadores: {\r\n      type: Array,\r\n      default: []\r\n    },\r\n  },\r\n  mounted() {\r\n    let me = this;\r\n    me.listaCiudades()\r\n    if (me.capacitacion.estado_institucion_temporal == \"1\") {\r\n      this.nombreInstitucion = me.capacitacion.nombre_institucion_temporal\r\n      this.institucion_id_temporal = me.capacitacion.institucion_id_temporal\r\n      this.periodo_id_temporal = me.capacitacion.periodo_id\r\n      this.estado_institucion_temporal = 1\r\n    } else {\r\n      this.nombreInstitucion = me.capacitacion.nombreInstitucion\r\n      this.institucion_id = me.capacitacion.id_institucion\r\n      this.estado_institucion_temporal = 0\r\n    }\r\n    me.getCapacitadoresSelect()\r\n  },\r\n  created() {\r\n    console.log(this.capacitacion)\r\n  },\r\n  methods: {\r\n    //lista de ciudades para usar en el select\r\n    listaCiudades() {\r\n      let me = this\r\n      this.$http.get(this.$server_url + `ciudad`).then(res => {\r\n        me.arregloCiudad = res.data;\r\n      })\r\n        .catch(function (error) {\r\n          console.log(error)\r\n        })\r\n    },      //lista de ciudades para usar en el select\r\n    getCapacitadoresSelect() {\r\n      let me = this\r\n      me.capacitadorCapacitacion = [];\r\n      this.$http.get(this.$server_url + `getCapacitadoresXCapacitacion/` + me.agenda_editar.id).then(res => {\r\n        me.capacitadorCapacitacion = res.data;\r\n      })\r\n        .catch(function (error) {\r\n          console.log(error)\r\n        })\r\n    },\r\n    editar_seminario() {\r\n      let me = this\r\n      me.$vs.loading()\r\n      let seminario = ''\r\n      var sendcapacitadores = \"\"\r\n      if (me.capacitadorCapacitacion.length > 0) {\r\n        const LlenarCapacitadores = me.capacitadorCapacitacion.map(p => p.capacitador)\r\n        sendcapacitadores = LlenarCapacitadores.join(',')\r\n      }\r\n      seminario = {\r\n        'capacitacion':               \"yes\",\r\n        'id_seminario':               me.agenda_editar.id,\r\n        'nombre':                     me.agenda_editar.titulo,\r\n        'fecha_inicio':               me.agenda_editar.startDate,\r\n        'fecha_fin':                  me.agenda_editar.endDate,\r\n        'link_reunion':               me.agenda_editar.link_reunion,\r\n        'cant_asistentes':            me.agenda_editar.personas,\r\n        'observacion':                me.agenda_editar.observacion,\r\n        'estado_capacitacion':        me.agenda_editar.estado,\r\n        'asistencia_activa':          me.agenda_editar.asistencia_activa,\r\n        'institucion_id':             me.institucion_id,\r\n        'institucion_id_temporal':    me.institucion_id_temporal,\r\n        'estado_institucion_temporal': me.estado_institucion_temporal,\r\n        'periodo_id_temporal':        me.periodo_id_temporal,\r\n        'nombreInstitucion':          me.nombreInstitucion,\r\n        'capacitadores':              JSON.stringify(me.capacitadorCapacitacion),\r\n        'capacitador':                sendcapacitadores,\r\n        'periodo_id':                 this.periodoSelect.idperiodoescolar,\r\n        'hora_inicio':                me.agenda_editar.hora_inicio,\r\n        'hora_fin':                   me.agenda_editar.hora_fin,\r\n        // 'capacitador_id':            me.capacitadorCapacitacion.idusuario,\r\n      }\r\n      this.$http.post(this.$server_url + 'guardar_seminario', seminario)\r\n        .then(function (res) {\r\n          me.$vs.loading.close()\r\n          if (res.data.status == 0) {\r\n            me.$vs.notify({\r\n              text: res.data.message,\r\n              color: 'warning',\r\n              iconPack: 'feather',\r\n              time: 5000,\r\n              icon: 'icon-check'\r\n            })\r\n            return\r\n          }\r\n          me.$emit('rechargeSeminarios', true)\r\n          if (res.data.message) {\r\n            me.$vs.notify({\r\n              text: res.data.message,\r\n              color: 'success',\r\n              iconPack: 'feather',\r\n              icon: 'icon-check'\r\n            })\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          me.$vs.loading.close()\r\n        })\r\n    },\r\n    changeInstitucionCreada(e) {\r\n      let me = this\r\n      me.institucion_id = e.institucion_id\r\n      me.nombreInstitucion = e.nombreInstitucion\r\n      me.institucion_id_temporal = e.institucion_id_temporal\r\n      me.periodo_id_temporal = e.periodo_id_temporal\r\n      me.estado_institucion_temporal = e.estado_institucion_temporal\r\n      me.menu = 0\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["editarCapacitacion.vue"],"names":[],"mappings":";AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"editarCapacitacion.vue","sourceRoot":"src/views/certificados/components","sourcesContent":["<template>\r\n  <div>\r\n    <div v-if=\"menu == 0\">\r\n      <h5 class=\"mb-4\">Tema: {{ agenda_editar.titulo }} </h5>\r\n      <vs-row class=\"mt-2\">\r\n        <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n          <p style=\"color:red;\" v-if=\"nombreInstitucion == '' || nombreInstitucion == null\">\r\n            Sin Institución\r\n          </p>\r\n          <vs-chip color=\"success\" v-else>\r\n            Institución {{ nombreInstitucion }}\r\n          </vs-chip>\r\n        </vs-col>\r\n      </vs-row>\r\n      <vs-row>\r\n        <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n          <vs-button color=\"warning\" class=\"mt-2\" size=\"small\" @click=\"tipoCapacitacion = 0; menu = 1;\"\r\n            type=\"relief\">Asignar institución de prolipa</vs-button>\r\n          <vs-button color=\"primary\" class=\"mt-2 ml-3\" icon=\"info\" size=\"small\" @click=\"; tipoCapacitacion = 1; menu = 1;\"\r\n            type=\"relief\">Institución creada por el asesor</vs-button>\r\n        </vs-col>\r\n      </vs-row>\r\n      <div class=\"mt-3\">\r\n        <div>Marcar la capacitacion actual como:</div>\r\n        <vs-radio class=\"m-3\" color=\"warning\" v-model=\"agenda_editar.estado\" vs-name=\"radios2\"\r\n          vs-value=\"1\">Pendiente</vs-radio>\r\n        <vs-radio class=\"m-3\" color=\"success\" v-model=\"agenda_editar.estado\" vs-name=\"radios2\"\r\n          vs-value=\"2\">Realizada</vs-radio>\r\n        <vs-radio class=\"m-3\" color=\"danger\" v-model=\"agenda_editar.estado\" vs-name=\"radios2\"\r\n          vs-value=\"0\">Cancelada</vs-radio>\r\n        <div class=\"mt-3\">\r\n          <p>Fecha capacitación</p>\r\n          <flat-pickr :config=\"configdateTimePicker\" v-model=\"agenda_editar.startDate\" placeholder=\"Fecha capacitación\"\r\n            class=\"m-1\" style=\"display: inline-block;width: 100%;\" />\r\n        </div>\r\n        <div class=\"flex\" style=\"justify-content: space-between;\">\r\n          <div class=\"mt-3\">\r\n            <p>Hora inicio *</p>\r\n            <flat-pickr  :config=\"configdateTimePickerTime\" v-model=\"agenda_editar.hora_inicio\" />\r\n          </div>\r\n          <div class=\"mt-3\">\r\n            <p>Hora fin *</p>\r\n            <flat-pickr :config=\"configdateTimePickerTime\" v-model=\"agenda_editar.hora_fin\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"mt-3\">\r\n          <p>Fecha fin</p>\r\n          <flat-pickr :config=\"configdateTimePicker\" v-model=\"agenda_editar.endDate\" placeholder=\"Fecha Fin\" class=\"m-1\"\r\n            style=\"display: inline-block;width: 100%;\" />\r\n        </div>\r\n        <div class=\"mt-3\">\r\n          <div style=\"display:flex;\">\r\n            <div>\r\n              <vs-input type=\"number\" v-model=\"agenda_editar.personas\" label=\"Cantidad de asistentes\"></vs-input>\r\n            </div>\r\n            <div>\r\n              <vs-switch color=\"dark\" icon-pack=\"feather\" vs-icon-on=\"icon-check-circle\" vs-icon-off=\"icon-slash\"\r\n                v-model=\"agenda_editar.asistencia_activa\" style=\"width: 150px;margin-top:30px;margin-left:50px;\">\r\n                <span slot=\"on\">asistencia activa</span>\r\n                <span slot=\"off\">asistencia inactiva</span>\r\n              </vs-switch>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"mt-3\">\r\n          <p>Seleccione el Capacitador:</p>\r\n          <v-select multiple :closeOnSelect=\"false\" :options=\"arregloCapacitadores\"\r\n            :reduce=\"arregloCapacitadores => arregloCapacitadores\" label=\"capacitador\" class=\"w-full\"\r\n            v-model=\"capacitadorCapacitacion\" />\r\n        </div>\r\n        <div class=\"mt-3\">\r\n          <vs-input class=\"w-full\" v-model=\"agenda_editar.link_reunion\" label=\"Link de la reunión\"></vs-input>\r\n        </div>\r\n        <div class=\"mt-3\">\r\n          <vs-textarea v-model=\"agenda_editar.observacion\" :counter=\"counter_long\" label=\"observación\" height=\"130px\"\r\n            :counter-danger.sync=\"counterDanger\"></vs-textarea>\r\n        </div>\r\n        <div>\r\n          <vs-button class=\"mt-5\" color=\"primary\" @click=\"editar_seminario();\" type=\"filled\">Aceptar</vs-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--ASIGNAR INSTITUCION PROLIPA-->\r\n    <div v-if=\"menu == 1\">\r\n      <vs-button color=\"primary\" type=\"border\" @click=\"menu = 0;\">← Regresar</vs-button>\r\n      <AsignarInstitucionVue :tipoCapacitacion=\"tipoCapacitacion\" :arregloCiudad=\"arregloCiudad\"\r\n        @changeInstitucionCreada=\"changeInstitucionCreada\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport AsignarInstitucionVue from './AsignarInstitucion.vue'\r\nimport vSelect from 'vue-select'\r\nimport flatPickr from 'vue-flatpickr-component'\r\nexport default {\r\n  components: {\r\n    'v-select': vSelect,\r\n    flatPickr,\r\n    AsignarInstitucionVue,\r\n  },\r\n  data() {\r\n    return {\r\n      counter_long: 200,\r\n      counterDanger: false,\r\n      configdateTimePicker: {\r\n        enableTime: true,\r\n        dateFormat: 'Y-m-d H:i:s'\r\n      },\r\n      configdateTimePickerTime: {\r\n        enableTime: true,\r\n        enableSeconds: false,\r\n        noCalendar: true\r\n      },\r\n      menu: 0,\r\n      arregloCiudad: [],\r\n      nombreInstitucion: '',\r\n      institucion_id_temporal: 0,\r\n      periodo_id_temporal: 0,\r\n      estado_institucion_temporal: 0,\r\n      institucion_id: 0,\r\n      estado_institucion_temporal: 0,\r\n      tipoCapacitacion: 0,\r\n      capacitadorCapacitacion: [],\r\n    }\r\n  },\r\n  props: {\r\n    periodoSelect: {\r\n      type: Object,\r\n      default: {}\r\n    },\r\n    agenda_editar: {\r\n      type: Object,\r\n      default: {}\r\n    },\r\n    capacitacion: {\r\n      type: Object,\r\n      default: {}\r\n    },\r\n    arregloCapacitadores: {\r\n      type: Array,\r\n      default: []\r\n    },\r\n  },\r\n  mounted() {\r\n    let me = this;\r\n    me.listaCiudades()\r\n    if (me.capacitacion.estado_institucion_temporal == \"1\") {\r\n      this.nombreInstitucion = me.capacitacion.nombre_institucion_temporal\r\n      this.institucion_id_temporal = me.capacitacion.institucion_id_temporal\r\n      this.periodo_id_temporal = me.capacitacion.periodo_id\r\n      this.estado_institucion_temporal = 1\r\n    } else {\r\n      this.nombreInstitucion = me.capacitacion.nombreInstitucion\r\n      this.institucion_id = me.capacitacion.id_institucion\r\n      this.estado_institucion_temporal = 0\r\n    }\r\n    me.getCapacitadoresSelect()\r\n  },\r\n  created() {\r\n    console.log(this.capacitacion)\r\n  },\r\n  methods: {\r\n    //lista de ciudades para usar en el select\r\n    listaCiudades() {\r\n      let me = this\r\n      this.$http.get(this.$server_url + `ciudad`).then(res => {\r\n        me.arregloCiudad = res.data;\r\n      })\r\n        .catch(function (error) {\r\n          console.log(error)\r\n        })\r\n    },      //lista de ciudades para usar en el select\r\n    getCapacitadoresSelect() {\r\n      let me = this\r\n      me.capacitadorCapacitacion = [];\r\n      this.$http.get(this.$server_url + `getCapacitadoresXCapacitacion/` + me.agenda_editar.id).then(res => {\r\n        me.capacitadorCapacitacion = res.data;\r\n      })\r\n        .catch(function (error) {\r\n          console.log(error)\r\n        })\r\n    },\r\n    editar_seminario() {\r\n      let me = this\r\n      me.$vs.loading()\r\n      let seminario = ''\r\n      var sendcapacitadores = \"\"\r\n      if (me.capacitadorCapacitacion.length > 0) {\r\n        const LlenarCapacitadores = me.capacitadorCapacitacion.map(p => p.capacitador)\r\n        sendcapacitadores = LlenarCapacitadores.join(',')\r\n      }\r\n      seminario = {\r\n        'capacitacion':               \"yes\",\r\n        'id_seminario':               me.agenda_editar.id,\r\n        'nombre':                     me.agenda_editar.titulo,\r\n        'fecha_inicio':               me.agenda_editar.startDate,\r\n        'fecha_fin':                  me.agenda_editar.endDate,\r\n        'link_reunion':               me.agenda_editar.link_reunion,\r\n        'cant_asistentes':            me.agenda_editar.personas,\r\n        'observacion':                me.agenda_editar.observacion,\r\n        'estado_capacitacion':        me.agenda_editar.estado,\r\n        'asistencia_activa':          me.agenda_editar.asistencia_activa,\r\n        'institucion_id':             me.institucion_id,\r\n        'institucion_id_temporal':    me.institucion_id_temporal,\r\n        'estado_institucion_temporal': me.estado_institucion_temporal,\r\n        'periodo_id_temporal':        me.periodo_id_temporal,\r\n        'nombreInstitucion':          me.nombreInstitucion,\r\n        'capacitadores':              JSON.stringify(me.capacitadorCapacitacion),\r\n        'capacitador':                sendcapacitadores,\r\n        'periodo_id':                 this.periodoSelect.idperiodoescolar,\r\n        'hora_inicio':                me.agenda_editar.hora_inicio,\r\n        'hora_fin':                   me.agenda_editar.hora_fin,\r\n        // 'capacitador_id':            me.capacitadorCapacitacion.idusuario,\r\n      }\r\n      this.$http.post(this.$server_url + 'guardar_seminario', seminario)\r\n        .then(function (res) {\r\n          me.$vs.loading.close()\r\n          if (res.data.status == 0) {\r\n            me.$vs.notify({\r\n              text: res.data.message,\r\n              color: 'warning',\r\n              iconPack: 'feather',\r\n              time: 5000,\r\n              icon: 'icon-check'\r\n            })\r\n            return\r\n          }\r\n          me.$emit('rechargeSeminarios', true)\r\n          if (res.data.message) {\r\n            me.$vs.notify({\r\n              text: res.data.message,\r\n              color: 'success',\r\n              iconPack: 'feather',\r\n              icon: 'icon-check'\r\n            })\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          me.$vs.loading.close()\r\n        })\r\n    },\r\n    changeInstitucionCreada(e) {\r\n      let me = this\r\n      me.institucion_id = e.institucion_id\r\n      me.nombreInstitucion = e.nombreInstitucion\r\n      me.institucion_id_temporal = e.institucion_id_temporal\r\n      me.periodo_id_temporal = e.periodo_id_temporal\r\n      me.estado_institucion_temporal = e.estado_institucion_temporal\r\n      me.menu = 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}