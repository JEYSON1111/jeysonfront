{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\certificados\\components\\ResumenSeminarios.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\certificados\\components\\ResumenSeminarios.vue","mtime":1712682815591},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport vSelect from 'vue-select'\r\nimport VueApexCharts from 'vue-apexcharts'\r\n\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n        VueApexCharts\r\n    },\r\n    data() {\r\n        return{\r\n            webinars:[],\r\n            total_p7: 0,\r\n            periodos: [],\r\n            periodo_seminarios: {},\r\n            val_preg7: [0,0,0,0,0,0],\r\n\r\n            barChart: {\r\n              series: [{\r\n                  data: [0, 0, 0, 0, 0]\r\n              }],\r\n              chartOptions: {\r\n                colors: ['#28C76F', '#EA5455', '#FF9F43', '#1E1E1E', '#7367F0'],\r\n                plotOptions: {\r\n                  bar: { horizontal: false, }\r\n                },\r\n                dataLabels: { enabled: false },\r\n                xaxis: {\r\n                  categories: ['Opción 1','Opción 2','Opción 3','Opción 4','Opción 5'],\r\n                }\r\n              }\r\n            }\r\n\r\n        }\r\n    },\r\n    created(){\r\n        let me = this;\r\n        me.getPeriodos()\r\n    },\r\n    methods:{\r\n        randomize() {\r\n          return [0, 0, 0].map(v => {\r\n            return Math.round(300 + Math.random() * 700) / 10\r\n          })\r\n        },\r\n        getPeriodos(){\r\n          let me = this;\r\n          this.$http.get(this.$server_url+'get_periodos_seminarios')\r\n          .then(function (res) {\r\n              me.periodos = res.data\r\n              me.periodo_seminarios = me.periodos[0]\r\n              me.getWebinars()\r\n          })\r\n        },\r\n        getWebinars() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url+'resumenWebinar/'+me.periodo_seminarios.idperiodoescolar)\r\n                .then(function (res) {\r\n                    me.webinars = res.data.seminarios\r\n                    let acumpreg = 0\r\n                    $.each(me.webinars,function(key, value){\r\n                        if(typeof value.val_preg_7 == 'number'){\r\n                          acumpreg = acumpreg + parseFloat(value.val_preg_7)\r\n                        }\r\n                    });\r\n                    me.total_p7 = (acumpreg / parseInt(res.data.seminarios.length))\r\n                    me.val_preg7 = [0,0,0,0,0,0]\r\n                    me.reporteWebinar7()\r\n\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        reporteWebinar7(){\r\n          let me = this\r\n          $.each(me.webinars,function(key, value){\r\n            $.each(value.cant_op_preg_7,function(key1, value1){\r\n              me.val_preg7[key1] += value1\r\n              me.barChart.series[0].data[key1-1] += value1\r\n            })\r\n          })\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["ResumenSeminarios.vue"],"names":[],"mappings":";AAwEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ResumenSeminarios.vue","sourceRoot":"src/views/certificados/components","sourcesContent":["<template>\r\n<div>\r\n<vs-card>\r\n    <div class=\"header\">\r\n\r\n        <div v-if=\"webinars.length >0 \" style=\"margin-top:40px;\">\r\n          <vs-table max-items=\"10\" striped search pagination :data=\"webinars\" style=\"margin-top:-40px\" class=\"mb-base\">\r\n              <template slot=\"header\">\r\n                  <v-select class=\"w-full mr-3\" :options=\"periodos\" :reduce=\"periodos => periodos\" label=\"descripcion\" v-model=\"periodo_seminarios\" @input=\"getWebinars()\"></v-select>\r\n              </template>\r\n              <template slot=\"thead\">\r\n                  <vs-th>Webinar</vs-th>\r\n                  <vs-th>Registrados</vs-th>\r\n                  <vs-th>Asistentes</vs-th>\r\n                  <vs-th>Enc llenadas</vs-th>\r\n                  <vs-th>Preg 7</vs-th>\r\n              </template>\r\n              <template slot-scope=\"{data}\">\r\n                  <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                      <vs-td>\r\n                          <p style=\"font-weight: bold;color:#37B3E5;\">{{data[indextr].seminario}}</p>\r\n                          <p style=\"font-weight: 300;\">{{tr.descripcion}}</p>\r\n                      </vs-td>\r\n                      <vs-td> {{data[indextr].registrados}}<br> </vs-td>\r\n                      <vs-td> {{data[indextr].asistentes}}<br> </vs-td>\r\n                      <vs-td> {{tr.encuestas_llenadas}}<br> </vs-td>\r\n                      <vs-td>\r\n                        <div class=\"flex text-center\">\r\n                          <div class=\"px-1\" style=\"border-right: 1px solid #D8D8D8;\" :key=\"index_op\" v-for=\"(item_op, index_op) in tr.cant_op_preg_7\">\r\n                            <b>Op{{index_op}} </b><br>\r\n                            {{item_op}}\r\n                          </div>\r\n                        </div>\r\n                      </vs-td>\r\n                  </vs-tr>\r\n              </template>\r\n          </vs-table>\r\n\r\n\r\n          <div class=\"w-full\" align=\"center\">\r\n            <h5>Gráfico estadístico de los resultados de la pregunta 7</h5>\r\n            <vue-apex-charts type=\"bar\" height=\"350\" :options=\"barChart.chartOptions\" :series=\"barChart.series\"></vue-apex-charts>\r\n          </div>\r\n\r\n          <div class=\"p-5 w-full\" align=\"right\">\r\n            <!-- <div :key=\"index_val\" v-for=\"(item_val, index_val) in val_preg7\">\r\n              <div style=\"width: 180px; display: inline-block;\" v-if=\"index_val>0\">\r\n                <b style=\"font-size: 15px;\">OPCIÓN {{index_val}}: </b>\r\n              </div>\r\n              <div style=\"width: 80px; display: inline-block;\" v-if=\"index_val>0\">\r\n                  <b style=\"font-size: 18px; color: #40C19F;\">{{item_val}}</b>\r\n              </div>\r\n            </div> -->\r\n\r\n            <div style=\"display: inline-block;\">\r\n              <b style=\"font-size: 15px;\">PROMEDIO PREGUNTA 7 : </b>\r\n            </div>\r\n            <div style=\"width: 80px; display: inline-block;\">\r\n              <b style=\"font-size: 18px; color: #40C19F;\">{{total_p7.toFixed(2)}}</b>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-else class=\"p-3\" style=\"min-height: 500px;\">\r\n            <v-select class=\"w-full mb-6\" :options=\"periodos\" :reduce=\"periodos => periodos\" label=\"descripcion\" v-model=\"periodo_seminarios\" @input=\"getWebinars()\"></v-select>\r\n            <p> No existe resumen de webinars para el periodo seleccionado. </p>\r\n        </div>\r\n    </div>\r\n</vs-card>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport vSelect from 'vue-select'\r\nimport VueApexCharts from 'vue-apexcharts'\r\n\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n        VueApexCharts\r\n    },\r\n    data() {\r\n        return{\r\n            webinars:[],\r\n            total_p7: 0,\r\n            periodos: [],\r\n            periodo_seminarios: {},\r\n            val_preg7: [0,0,0,0,0,0],\r\n\r\n            barChart: {\r\n              series: [{\r\n                  data: [0, 0, 0, 0, 0]\r\n              }],\r\n              chartOptions: {\r\n                colors: ['#28C76F', '#EA5455', '#FF9F43', '#1E1E1E', '#7367F0'],\r\n                plotOptions: {\r\n                  bar: { horizontal: false, }\r\n                },\r\n                dataLabels: { enabled: false },\r\n                xaxis: {\r\n                  categories: ['Opción 1','Opción 2','Opción 3','Opción 4','Opción 5'],\r\n                }\r\n              }\r\n            }\r\n\r\n        }\r\n    },\r\n    created(){\r\n        let me = this;\r\n        me.getPeriodos()\r\n    },\r\n    methods:{\r\n        randomize() {\r\n          return [0, 0, 0].map(v => {\r\n            return Math.round(300 + Math.random() * 700) / 10\r\n          })\r\n        },\r\n        getPeriodos(){\r\n          let me = this;\r\n          this.$http.get(this.$server_url+'get_periodos_seminarios')\r\n          .then(function (res) {\r\n              me.periodos = res.data\r\n              me.periodo_seminarios = me.periodos[0]\r\n              me.getWebinars()\r\n          })\r\n        },\r\n        getWebinars() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url+'resumenWebinar/'+me.periodo_seminarios.idperiodoescolar)\r\n                .then(function (res) {\r\n                    me.webinars = res.data.seminarios\r\n                    let acumpreg = 0\r\n                    $.each(me.webinars,function(key, value){\r\n                        if(typeof value.val_preg_7 == 'number'){\r\n                          acumpreg = acumpreg + parseFloat(value.val_preg_7)\r\n                        }\r\n                    });\r\n                    me.total_p7 = (acumpreg / parseInt(res.data.seminarios.length))\r\n                    me.val_preg7 = [0,0,0,0,0,0]\r\n                    me.reporteWebinar7()\r\n\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        reporteWebinar7(){\r\n          let me = this\r\n          $.each(me.webinars,function(key, value){\r\n            $.each(value.cant_op_preg_7,function(key1, value1){\r\n              me.val_preg7[key1] += value1\r\n              me.barChart.series[0].data[key1-1] += value1\r\n            })\r\n          })\r\n        }\r\n    }\r\n}\r\n</script>\r\n"]}]}