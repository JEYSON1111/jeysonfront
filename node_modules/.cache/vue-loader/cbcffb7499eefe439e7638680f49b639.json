{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\docentes\\seminarios.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\docentes\\seminarios.vue","mtime":1712682815793},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nVue.use(axios)\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            tematica:'seminarios',\r\n            usuario:[],\r\n            seminarios: [],\r\n            id_seminario: '',\r\n            seminario:{\r\n                usuario_id:'',\r\n                cedula:'',\r\n                seminario_id:'',\r\n                institucion_id:'',\r\n            },\r\n            seminariosProximo:[],\r\n            link_recurso: '',\r\n            clave_recurso: '',\r\n            popupRecursos: false,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n        if(localStorage.getItem(\"tematica\")){\r\n            this.tematica = localStorage.getItem(\"tematica\")\r\n\r\n            if(this.tematica == 'seminarios'){\r\n                this.getSeminarios()\r\n            }else{\r\n                this.getSeminariosWebinar()\r\n            }\r\n        }else{\r\n            this.getSeminarios()\r\n        }\r\n\r\n\r\n    },\r\n    methods: {\r\n\r\n         OpenConfirmarRegistro(tr){\r\n              let me = this;\r\n\r\n\r\n                me.seminario.usuario_id = me.usuario.idusuario\r\n                me.seminario.cedula = me.usuario.cedula\r\n                me.seminario.seminario_id  = tr.id_seminario\r\n                me.institucion_id =  me.usuario.institucion_idInstitucion\r\n                this.$vs.dialog({\r\n                    acceptText:'Si, deseo registrarme',\r\n                    cancelText:'Cancelar',\r\n                    type:'confirm',\r\n                    color: 'warning',\r\n                    title: `Registro Webinar`,\r\n                    text: 'Estás seguro de registrarme al webinar?',\r\n                    accept:this.guardarWebinar\r\n                })\r\n            },\r\n\r\n          guardarWebinar() {\r\n\r\n            let me = this\r\n            let formData = new FormData();\r\n            formData.append('cedula', me.seminario.cedula)\r\n            formData.append('cedulaExiste', \"1\")\r\n            formData.append('seminario', me.seminario.seminario_id)\r\n\r\n            me.$vs.loading();\r\n            this.$http.post(this.$server_url+\"register\", formData)\r\n                .then(function (response) {\r\n                     me.$vs.loading.close()\r\n                    if(response.data.message){\r\n                            me.$vs.notify({\r\n                            text: response.data.message,\r\n                            color: 'primary',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-user'\r\n                        })\r\n                        return false;\r\n                    }\r\n                    else{\r\n                            me.$vs.notify({\r\n                            text: 'Webinar  asignado',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-user'\r\n                        })\r\n\r\n                        me.tematica = 'webinars'\r\n                        me.getSeminariosWebinar();\r\n                        localStorage.setItem('tematica','webinars')\r\n\r\n                    }\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error)\r\n                     me.$vs.loading.close()\r\n                })\r\n\r\n        },\r\n\r\n\r\n        //para que el docente pueda confirmar la asistencia\r\n         openConfirm(tr){\r\n              let me = this;\r\n              me.seminario.usuario_id = me.usuario.idusuario,\r\n              me.seminario.cedula = me.usuario.cedula\r\n              me.seminario.seminario_id = tr.id_seminario\r\n              me.seminario.institucion_id = me.usuario.institucion_idInstitucion\r\n\r\n                this.$vs.dialog({\r\n                    acceptText:'Si, asistí a este seminario',\r\n                    cancelText:'Cancelar',\r\n                    type:'confirm',\r\n                    color: 'warning',\r\n                    title: `Tomar Asistencia`,\r\n                    text: 'Estas seguro de registrar la asistencia?',\r\n                    accept:this.RegistrarAsistencia\r\n                })\r\n        },\r\n        //para que los docentes puedan registrar su asistencia al seminario\r\n        RegistrarAsistencia(){\r\n\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url+'SeminarioAsistencia?usuario_id='+me.seminario.usuario_id+'&cedula='+me.seminario.cedula+'&seminario_id='+me.seminario.seminario_id+'&institucion_id='+me.seminario.institucion_id)\r\n                .then(function (res) {\r\n\r\n\r\n                    me.$vs.loading.close()\r\n                     if(res.data.message){\r\n                            me.$vs.notify({\r\n                            text: res.data.message,\r\n                            color: 'primary',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-alert-triangle'\r\n                        })\r\n                    }\r\n\r\n                    if(me.tematica == 'seminarios'){\r\n                        me.getSeminarios();\r\n                    }else{\r\n                        me.getSeminariosWebinar();\r\n                    }\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        getSeminarios() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url+'obtener_seminarios_docente?idusuario='+me.usuario.idusuario+'&institucion_id='+me.usuario.institucion_idInstitucion)\r\n            .then(function (res) {\r\n                me.seminarios = res.data\r\n                me.$vs.loading.close()\r\n            })\r\n            .catch(function (error) {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n        getSeminariosWebinar() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url+'get_webinars?idusuario='+me.usuario.idusuario)\r\n            .then(function (res) {\r\n                me.seminarios = res.data\r\n                me.$vs.loading.close()\r\n            })\r\n            .catch(function (error) {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n\r\n          getWebinarProximos() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url+'obtenerWebinars')\r\n            .then(function (res) {\r\n                me.seminariosProximo = res.data\r\n                me.$vs.loading.close()\r\n            })\r\n            .catch(function (error) {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n        irEncuesta(item){\r\n            let me = this\r\n\r\n            if(item.tipo_webinar == 1){\r\n                localStorage.setItem('tematica','webinars')\r\n            }else{\r\n                localStorage.setItem('tematica','seminarios')\r\n            }\r\n            localStorage.data_seminario = JSON.stringify(item);\r\n            me.$router.push('/docente/encuesta')\r\n        },\r\n        irSeminario(item){\r\n            let me = this\r\n            // validar horario permitido con js, href _blank\r\n            window.open(item.link_reunion, '_blank');\r\n\r\n        },\r\n        descargarCertificado(item){\r\n            let me = this\r\n\r\n             me.ContarCertificados(item.id_seminario,item.usuario_id)\r\n            if(item.tipo_webinar == 1){\r\n                localStorage.setItem('tematica','webinars')\r\n            }else{\r\n                localStorage.setItem('tematica','seminarios')\r\n            }\r\n            localStorage.data_seminario = JSON.stringify(item);\r\n            window.open('/docente/descargar_certificado', '_blank');\r\n            // validar respuestas en respuestas_seminairos y permitir descarga con datos del docente y seminario seleccionado\r\n        },\r\n\r\n         ContarCertificados(webinar,usuario) {\r\n            let me = this;\r\n            me.$vs.loading();\r\n\r\n\r\n            this.$http.get(this.$server_url+'sumarEncuestasDescargadas?seminario_id='+webinar+'&usuario_id='+usuario)\r\n                .then(function (res) {\r\n                  me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        verRecursos(item){\r\n          let me = this\r\n          me.popupRecursos = true\r\n\r\n          me.link_recurso = item.link_recurso\r\n          me.clave_recurso = item.clave_recurso\r\n          console.log({item})\r\n\r\n        }\r\n    },\r\n}\r\n",{"version":3,"sources":["seminarios.vue"],"names":[],"mappings":";AAsJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"seminarios.vue","sourceRoot":"src/views/docentes","sourcesContent":["<template>\r\n<div>\r\n\r\n<vs-popup title=\"Recursos del seminario\" :active.sync=\"popupRecursos\">\r\n  <div class=\"p-3\" align=\"center\">\r\n    <b>Link: </b> <h5><a :href=\"link_recurso\" target=\"_blank\">{{link_recurso}}</a></h5>\r\n    <br>\r\n    <b>Clave: </b> <h5>{{clave_recurso}}</h5>\r\n  </div>\r\n</vs-popup>\r\n\r\n\r\n<vx-card class=\"w-full\">\r\n\r\n        <div>\r\n                <vs-button @click=\"getSeminarios();tematica='seminarios'\" size=\"small\" style=\"font-size: 14px;\" color=\"dark\" class=\"m-1\" type=\"filled\">Seminarios</vs-button>\r\n\r\n                <vs-button @click=\"getSeminariosWebinar();tematica='webinars'\" size=\"small\" style=\"font-size: 14px;\" color=\"primary\" class=\"m-1\" type=\"filled\">Webinars</vs-button>\r\n\r\n                <vs-button @click=\"getWebinarProximos();tematica='proximo'\" size=\"small\" style=\"font-size: 14px;\" color=\"success\" class=\"m-1\" type=\"filled\">Próximo Webinars</vs-button>\r\n\r\n        </div>\r\n\r\n        <div v-if=\"tematica == 'proximo'\">\r\n               <vs-table stripe pagination max-items=\"25\" search :data=\"seminariosProximo\">\r\n\r\n\r\n\r\n                <template slot=\"thead\">\r\n                    <vs-th style=\"width: 60px;\">#</vs-th>\r\n                    <vs-th sort-key=\"nombre\">Webinar</vs-th>\r\n                    <vs-th>Fecha</vs-th>\r\n                    <vs-th>Link reunión</vs-th>\r\n\r\n                    <vs-th style=\"width: 200px;\">Acciones</vs-th>\r\n                </template>\r\n\r\n                <template slot-scope=\"{data}\">\r\n                <vs-tr :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                    <vs-td> {{indextr+1}} </vs-td>\r\n                    <vs-td> {{tr.nombre}} <br> {{tr.descripcion}} </vs-td>\r\n                    <vs-td> {{tr.fecha_inicio}} <br> {{tr.fecha_fin}} </vs-td>\r\n                    <vs-td> <a :href=\"tr.link_reunion\" target=\"_blank\"> {{tr.link_reunion}} </a></vs-td>\r\n\r\n                    <vs-td>\r\n\r\n                       <vs-button icon=\"done\"  @click=\"OpenConfirmarRegistro(tr)\"  type=\"relief\">Registrarse</vs-button>\r\n\r\n                    </vs-td>\r\n                </vs-tr>\r\n                </template>\r\n            </vs-table>\r\n        </div>\r\n\r\n        <div v-else>\r\n\r\n            <vs-table stripe pagination max-items=\"25\" search :data=\"seminarios\">\r\n                <template slot=\"thead\">\r\n                    <vs-th style=\"width: 60px;\">#</vs-th>\r\n\r\n                    <div v-if=\"tematica == 'seminarios'\">\r\n                          <vs-th sort-key=\"nombre\">Seminario</vs-th>\r\n                    </div>\r\n                    <div v-if=\"tematica == 'webinars'\">\r\n                          <vs-th sort-key=\"nombre\">Webinar</vs-th>\r\n                    </div>\r\n                    <vs-th>Fecha</vs-th>\r\n                    <vs-th>Link reunión</vs-th>\r\n                    <vs-th>Asistencia</vs-th>\r\n                    <vs-th style=\"width: 200px;\">Acciones</vs-th>\r\n                </template>\r\n\r\n                <template slot-scope=\"{data}\">\r\n                <vs-tr :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                    <vs-td> {{indextr+1}} </vs-td>\r\n                    <vs-td> {{tr.nombre}} <br> {{tr.descripcion}} </vs-td>\r\n                    <vs-td> {{tr.fecha_inicio}} <br> {{tr.fecha_fin}} </vs-td>\r\n                    <vs-td> <a :href=\"tr.link_reunion\" target=\"_blank\"> {{tr.link_reunion}} </a></vs-td>\r\n                    <vs-td>\r\n                        <div v-if=\"tr.asistencia == '1'\">\r\n                            <vs-chip color=\"success\">\r\n                                asistió\r\n                            </vs-chip>\r\n\r\n                        </div>\r\n                        <div v-else>\r\n                            <vs-chip color=\"danger\">\r\n                                No asistió\r\n                            </vs-chip>\r\n                        </div>\r\n                    </vs-td>\r\n                    <vs-td>\r\n\r\n\r\n                        <div style=\"display:flex;\">\r\n\r\n                            <div v-if=\"tr.asistencia == '0'\">\r\n                                    <div v-if=\"tr.asistencia_activa == '1'\">\r\n                                        <vx-tooltip v-if=\"tr.respuestas == '0' || tr.respuestas == null || tr.respuestas == 'null'\" style=\"display: inline-block;\"  text=\"Registrar asistencia\" position=\"top\" color=\"primary\">\r\n                                            <vs-button size=\"large\" radius icon-pack=\"feather\" icon=\"icon-thumbs-up\"  @click=\"openConfirm(tr)\" color=\"success\" type=\"line\"></vs-button>\r\n                                        </vx-tooltip>\r\n                                    </div>\r\n\r\n                                </div>\r\n\r\n\r\n                            <div v-if=\"tr.asistencia == '1'\">\r\n\r\n                                <vx-tooltip v-if=\"tr.respuestas == '0' || tr.respuestas == null || tr.respuestas == 'null'\" style=\"display: inline-block;\" text=\"Responder encuesta\" position=\"top\" color=\"primary\">\r\n                                    <vs-button size=\"large\" radius icon-pack=\"feather\" icon=\"icon-file-text\" @click=\"irEncuesta(tr)\" color=\"primary\" type=\"line\"></vs-button>\r\n                                </vx-tooltip>\r\n\r\n                                <vx-tooltip v-if=\"tr.respuestas == '0' || tr.respuestas == null || tr.respuestas == 'null'\" style=\"display: inline-block;\" text=\"Recursos del seminario\" position=\"top\" color=\"dark\">\r\n                                    <vs-button size=\"large\" radius icon-pack=\"feather\" icon=\"icon-folder\" @click=\"verRecursos(tr)\" color=\"dark\" type=\"line\"></vs-button>\r\n                                </vx-tooltip>\r\n                            </div>\r\n\r\n\r\n\r\n                            <vx-tooltip v-if=\"tr.respuestas == '0' || tr.respuestas == null || tr.respuestas == 'null'\" style=\"display: inline-block;\" text=\"Ir al seminario.\" position=\"top\" color=\"success\">\r\n                                <vs-button size=\"large\" radius icon-pack=\"feather\" icon=\"icon-video\" @click=\"irSeminario(tr)\" color=\"success\" type=\"line\"></vs-button>\r\n                            </vx-tooltip>\r\n\r\n                            <div v-if=\"tr.asistencia == '1'\">\r\n                                <div v-if=\"tr.respuestas == '0' || tr.respuestas == null || tr.respuestas == 'null'\">\r\n\r\n                                </div>\r\n                                <div v-else>\r\n                                    <vx-tooltip style=\"display: inline-block;\" text=\"Descargar certificado\" position=\"top\" color=\"warning\">\r\n                                        <vs-button size=\"large\" radius icon-pack=\"feather\" icon=\"icon-printer\" @click=\"descargarCertificado(tr)\" color=\"warning\" type=\"line\"></vs-button>\r\n                                    </vx-tooltip>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </vs-td>\r\n                </vs-tr>\r\n                </template>\r\n            </vs-table>\r\n        </div>\r\n\r\n\r\n\r\n</vx-card>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nVue.use(axios)\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            tematica:'seminarios',\r\n            usuario:[],\r\n            seminarios: [],\r\n            id_seminario: '',\r\n            seminario:{\r\n                usuario_id:'',\r\n                cedula:'',\r\n                seminario_id:'',\r\n                institucion_id:'',\r\n            },\r\n            seminariosProximo:[],\r\n            link_recurso: '',\r\n            clave_recurso: '',\r\n            popupRecursos: false,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n        if(localStorage.getItem(\"tematica\")){\r\n            this.tematica = localStorage.getItem(\"tematica\")\r\n\r\n            if(this.tematica == 'seminarios'){\r\n                this.getSeminarios()\r\n            }else{\r\n                this.getSeminariosWebinar()\r\n            }\r\n        }else{\r\n            this.getSeminarios()\r\n        }\r\n\r\n\r\n    },\r\n    methods: {\r\n\r\n         OpenConfirmarRegistro(tr){\r\n              let me = this;\r\n\r\n\r\n                me.seminario.usuario_id = me.usuario.idusuario\r\n                me.seminario.cedula = me.usuario.cedula\r\n                me.seminario.seminario_id  = tr.id_seminario\r\n                me.institucion_id =  me.usuario.institucion_idInstitucion\r\n                this.$vs.dialog({\r\n                    acceptText:'Si, deseo registrarme',\r\n                    cancelText:'Cancelar',\r\n                    type:'confirm',\r\n                    color: 'warning',\r\n                    title: `Registro Webinar`,\r\n                    text: 'Estás seguro de registrarme al webinar?',\r\n                    accept:this.guardarWebinar\r\n                })\r\n            },\r\n\r\n          guardarWebinar() {\r\n\r\n            let me = this\r\n            let formData = new FormData();\r\n            formData.append('cedula', me.seminario.cedula)\r\n            formData.append('cedulaExiste', \"1\")\r\n            formData.append('seminario', me.seminario.seminario_id)\r\n\r\n            me.$vs.loading();\r\n            this.$http.post(this.$server_url+\"register\", formData)\r\n                .then(function (response) {\r\n                     me.$vs.loading.close()\r\n                    if(response.data.message){\r\n                            me.$vs.notify({\r\n                            text: response.data.message,\r\n                            color: 'primary',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-user'\r\n                        })\r\n                        return false;\r\n                    }\r\n                    else{\r\n                            me.$vs.notify({\r\n                            text: 'Webinar  asignado',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-user'\r\n                        })\r\n\r\n                        me.tematica = 'webinars'\r\n                        me.getSeminariosWebinar();\r\n                        localStorage.setItem('tematica','webinars')\r\n\r\n                    }\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error)\r\n                     me.$vs.loading.close()\r\n                })\r\n\r\n        },\r\n\r\n\r\n        //para que el docente pueda confirmar la asistencia\r\n         openConfirm(tr){\r\n              let me = this;\r\n              me.seminario.usuario_id = me.usuario.idusuario,\r\n              me.seminario.cedula = me.usuario.cedula\r\n              me.seminario.seminario_id = tr.id_seminario\r\n              me.seminario.institucion_id = me.usuario.institucion_idInstitucion\r\n\r\n                this.$vs.dialog({\r\n                    acceptText:'Si, asistí a este seminario',\r\n                    cancelText:'Cancelar',\r\n                    type:'confirm',\r\n                    color: 'warning',\r\n                    title: `Tomar Asistencia`,\r\n                    text: 'Estas seguro de registrar la asistencia?',\r\n                    accept:this.RegistrarAsistencia\r\n                })\r\n        },\r\n        //para que los docentes puedan registrar su asistencia al seminario\r\n        RegistrarAsistencia(){\r\n\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url+'SeminarioAsistencia?usuario_id='+me.seminario.usuario_id+'&cedula='+me.seminario.cedula+'&seminario_id='+me.seminario.seminario_id+'&institucion_id='+me.seminario.institucion_id)\r\n                .then(function (res) {\r\n\r\n\r\n                    me.$vs.loading.close()\r\n                     if(res.data.message){\r\n                            me.$vs.notify({\r\n                            text: res.data.message,\r\n                            color: 'primary',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-alert-triangle'\r\n                        })\r\n                    }\r\n\r\n                    if(me.tematica == 'seminarios'){\r\n                        me.getSeminarios();\r\n                    }else{\r\n                        me.getSeminariosWebinar();\r\n                    }\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        getSeminarios() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url+'obtener_seminarios_docente?idusuario='+me.usuario.idusuario+'&institucion_id='+me.usuario.institucion_idInstitucion)\r\n            .then(function (res) {\r\n                me.seminarios = res.data\r\n                me.$vs.loading.close()\r\n            })\r\n            .catch(function (error) {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n        getSeminariosWebinar() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url+'get_webinars?idusuario='+me.usuario.idusuario)\r\n            .then(function (res) {\r\n                me.seminarios = res.data\r\n                me.$vs.loading.close()\r\n            })\r\n            .catch(function (error) {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n\r\n          getWebinarProximos() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url+'obtenerWebinars')\r\n            .then(function (res) {\r\n                me.seminariosProximo = res.data\r\n                me.$vs.loading.close()\r\n            })\r\n            .catch(function (error) {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n        irEncuesta(item){\r\n            let me = this\r\n\r\n            if(item.tipo_webinar == 1){\r\n                localStorage.setItem('tematica','webinars')\r\n            }else{\r\n                localStorage.setItem('tematica','seminarios')\r\n            }\r\n            localStorage.data_seminario = JSON.stringify(item);\r\n            me.$router.push('/docente/encuesta')\r\n        },\r\n        irSeminario(item){\r\n            let me = this\r\n            // validar horario permitido con js, href _blank\r\n            window.open(item.link_reunion, '_blank');\r\n\r\n        },\r\n        descargarCertificado(item){\r\n            let me = this\r\n\r\n             me.ContarCertificados(item.id_seminario,item.usuario_id)\r\n            if(item.tipo_webinar == 1){\r\n                localStorage.setItem('tematica','webinars')\r\n            }else{\r\n                localStorage.setItem('tematica','seminarios')\r\n            }\r\n            localStorage.data_seminario = JSON.stringify(item);\r\n            window.open('/docente/descargar_certificado', '_blank');\r\n            // validar respuestas en respuestas_seminairos y permitir descarga con datos del docente y seminario seleccionado\r\n        },\r\n\r\n         ContarCertificados(webinar,usuario) {\r\n            let me = this;\r\n            me.$vs.loading();\r\n\r\n\r\n            this.$http.get(this.$server_url+'sumarEncuestasDescargadas?seminario_id='+webinar+'&usuario_id='+usuario)\r\n                .then(function (res) {\r\n                  me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        verRecursos(item){\r\n          let me = this\r\n          me.popupRecursos = true\r\n\r\n          me.link_recurso = item.link_recurso\r\n          me.clave_recurso = item.clave_recurso\r\n          console.log({item})\r\n\r\n        }\r\n    },\r\n}\r\n</script>\r\n"]}]}