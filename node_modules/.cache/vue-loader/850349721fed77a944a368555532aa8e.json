{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\obsequios\\asesor\\mantenimiento\\listadoObsequio.vue?vue&type=template&id=265dbd0e&scoped=true","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\obsequios\\asesor\\mantenimiento\\listadoObsequio.vue","mtime":1712682816363},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n    <!--FILTROS-->\n    <ul class=\"flex mt-2 py-2\" style=\"flex-wrap:wrap;\">\n        <li v-if=\"( userAsesor == true || userFacturador || userRoot == true || userAdmin) \">\n        <vs-radio v-model=\"filtro\" @input=\"filtroTipo();\" vs-name=\"radios1tipo\" vs-value=\"1\"><span style=\"font-weight:bold;\">{{ sumaPendientes }}</span> Pendientes</vs-radio>\n        </li>\n        <li v-if=\"( userAsesor == true || userFacturador || userRoot == true || userAdmin) \">\n        <vs-radio v-model=\"filtro\" @input=\"filtroTipo();\" class=\"ml-2\" vs-name=\"radios1tipo\" vs-value=\"2\"><span style=\"font-weight:bold;\">{{ sumaAnulados }}</span> Rechazados</vs-radio>\n        </li>\n        <li v-if=\"( userFacturador || userAsesor ||  userRoot == true || userAdmin) \">\n        <vs-radio v-model=\"filtro\" @input=\"filtroTipo();\" class=\"ml-2\" vs-name=\"radios1tipo\" vs-value=\"3\"><span style=\"font-weight:bold;\">{{ sumaAprobados }}</span> Aprobados por facturacion</vs-radio>\n        </li>\n        <li v-if=\"( userGerencia ||  userRoot == true || userAdmin) \">\n        <vs-radio v-model=\"filtro\" @input=\"filtroTipo();\" class=\"ml-2\" vs-name=\"radios1tipo\" vs-value=\"4\"><span style=\"font-weight:bold;\">{{ sumaEvidencias }}</span> Cotización subidas</vs-radio>\n        </li>\n        <li v-if=\"( userGerencia || userAsesor ||  userRoot == true || userAdmin) \">\n        <vs-radio v-model=\"filtro\" @input=\"filtroTipo();\" class=\"ml-2\" vs-name=\"radios1tipo\" vs-value=\"5\"><span style=\"font-weight:bold;\">{{ sumaAutorizados }}</span> Autorizados por gerencia</vs-radio>\n        </li>\n        <li v-if=\"( userGerencia || userAsesor == true || userAdmin == true || userRoot == true) \">\n        <vs-radio v-model=\"filtro\" @input=\"filtroTipo();\" class=\"ml-2\" vs-name=\"radios1tipo\" vs-value=\"6\"><span style=\"font-weight:bold;\">{{ sumaEntregados }}</span> Entregados</vs-radio>\n        </li>\n    </ul>\n    <!--FIN FILTROS-->\n    <vs-table max-items=\"10\" stripe search pagination :data=\"tmpArregloObsequios\">\n        <template slot=\"header\">\n            <vs-chip  color=\"primary\">Cantidad: {{ tmpArregloObsequios.length }}</vs-chip>\n        </template>\n        <template slot=\"thead\">\n            <vs-th>#</vs-th>\n            <vs-th>Asesor</vs-th>\n            <vs-th>Institución</vs-th>\n            <vs-th>Estado</vs-th>\n            <vs-th>Evidencias</vs-th>\n            <vs-th>Acciones</vs-th>\n        </template>\n        <template slot-scope=\"{data}\">\n            <vs-tr :data=\"tr\" :key=\"indextr\" v-for=\"(tr, indextr) in data\">\n                <vs-td>\n                    {{data[indextr].id}}<br>\n                </vs-td>\n                <vs-td>\n                    <b>Asesor:</b>\n                    <p>{{ tr.asesor }}</p>\n                    <b>Cédula:</b>\n                    <p>{{ tr.cedula }}</p>\n                </vs-td>\n                <vs-td>\n                    <b>Institución:</b>\n                    <p>{{ tr.nombreInstitucion }}</p>\n                    <b>Ciudad:</b>\n                    <p>{{ tr.ciudad }}</p>\n                    <b>Período:</b>\n                    <p>{{ tr.periodo }}</p>\n                </vs-td>\n                <vs-td>\n                    <vs-chip v-if=\"tr.estado == 0\" color=\"danger\">Pedido imcompleto</vs-chip>\n                    <vs-chip v-if=\"tr.estado == 1\" color=\"warning\">Pendiente</vs-chip>\n                    <vs-chip v-if=\"tr.estado == 2\" color=\"danger\">Rechazado</vs-chip>\n                    <vs-chip v-if=\"tr.estado == 3\" color=\"primary\">Aprobado por facturación</vs-chip>\n                    <vs-chip v-if=\"tr.estado == 4\" color=\"dark\">Cotización subida</vs-chip>\n                    <vs-chip v-if=\"tr.estado == 5\" color=\"success\">Autorizado por gerencia</vs-chip>\n                    <vs-chip v-if=\"tr.estado == 6\" color=\"success\">Entregado</vs-chip><br><br>\n                    <p v-if=\"tr.estado > 2\"><b>Aprobado por:</b> {{ tr.facturador }}</p>\n                    <p v-if=\"tr.estado == 2\"><b>Rechazado por:</b> {{ tr.facturador }}</p>\n                    <div class=\"flex\" v-if=\"tr.estado > 2\">\n                        <p><b>Valor de obsequios máximo:</b><span class=\"text-success font-bold\"> ${{ tr.valor_obsequios }}</span> </p>\n                    </div>\n                    <div class=\"flex\" v-if=\"tr.estado > 3\">\n                        <p><b>Valor obsequios del pedido:</b><span class=\"text-success font-bold\"> ${{ tr.valor_total }}</span> </p>\n                    </div>\n                    <p><b>Fecha creación:</b> {{ tr.created_at }}</p>\n                    <p v-if=\"tr.estado > 2\"><b>Facturador aprueba:</b> {{ tr.fecha_facturador_aprueba }}</p>\n                    <p v-if=\"tr.estado > 4\"><b>Gerencia autoriza:</b> {{ tr.fecha_gerencia_aprueba }}</p>\n                    <p v-if=\"tr.estado == 6\"><b>Asesor sube evidencia entrega:</b> {{ tr.fecha_asesor_sube_evidencia_entrega }}</p>\n                </vs-td>\n                <!--EVICENCIAS-->\n                <vs-td>\n                    <p v-if=\"!tr.foto_solicitud\">\n                        <b class=\"text-danger\"> Solicitud de obsequios: No subida</b>\n                    </p>\n                    <p v-else class=\"imagen\" @click=\"tipoDocumento ='solicitud';documento=tr.foto_solicitud;openDocument(tr)\">\n                        <b> Solicitud de obsequios\n                            <!--PDF-->\n                            <ion-icon v-if=\"tr.foto_solicitud.substr(-3) == 'pdf'\" style=\"font-size:20px;color:green;position:relative;top:5px;\" name=\"document-outline\"></ion-icon>\n                            <!--IMAGE-->\n                            <ion-icon v-else style=\"font-size:20px;color:green;position:relative;top:5px;\" name=\"camera-outline\"></ion-icon>\n                        </b>\n                    </p>\n                    <p class=\"imagen\" @click=\"tipoDocumento ='cotizacion';documento=tr.foto_cotizacion;popupDocumento = true;estadoPhoto=2;\" v-if=\"tr.foto_cotizacion\">\n                        <b> Cotización <ion-icon style=\"font-size:20px;color:green;position:relative;top:5px;\" name=\"camera-outline\"></ion-icon></b>\n                    </p>\n                    <p class=\"imagen\" @click=\"tipoDocumento ='factura';documento=tr.foto_factura;popupDocumento = true;estadoPhoto=3;\" v-if=\"tr.foto_factura\">\n                        <b> Factura <ion-icon style=\"font-size:20px;color:green;position:relative;top:5px;\" name=\"camera-outline\"></ion-icon></b>\n                    </p>\n                    <p class=\"imagen\" @click=\"tipoDocumento ='entrega';pedido=tr;documento=tr.foto_entrega;popupDocumento = true;estadoPhoto=5\" v-if=\"tr.foto_entrega\">\n                        <b> Entrega <ion-icon style=\"font-size:20px;color:green;position:relative;top:5px;\" name=\"camera-outline\"></ion-icon></b>\n                    </p>\n                    <p class=\"imagen\" @click=\"tipoDocumento ='evidencia_gerencia';documento=tr.foto_envidencia_gerencia;popupDocumento = true;estadoPhoto=4;\" v-if=\"tr.foto_envidencia_gerencia\">\n                        <b> Aprobación gerencia <ion-icon style=\"font-size:20px;color:green;position:relative;top:5px;\" name=\"camera-outline\"></ion-icon></b>\n                    </p>\n                </vs-td>\n                <vs-td>\n                    <div style=\"display: flex;\">\n                        <!--EDITAR - DETALLE-->\n                        <vx-tooltip style=\"display: inline-block;\" :text=\"usuario.id_group == '11' ? 'Editar pedido' : 'Ver pedido'\" position=\"top\" color=\"primary\">\n                            <vs-button class=\"modal-default-button\" @click=\"editarPedido(tr);\" size=\"small\" color=\"success\" type=\"filled\" icon-pack=\"feather\" icon=\"icon-edit\"> </vs-button>\n                        </vx-tooltip> &nbsp;\n                        <!--APROBAR-->\n                        <!--VER OBSERVACION FACTURADOR-->\n                        <vx-tooltip style=\"display: inline-block;\" text=\"Ver observación facturador\" position=\"top\" color=\"primary\">\n                            <vs-button v-if=\"tr.observacion_facturador != null && !userGerencia\" class=\"modal-default-button\" @click=\"pedido=tr;popupObservacion=true;\" size=\"small\" color=\"dark\" type=\"filled\" icon-pack=\"feather\" icon=\"icon-message-circle\"> </vs-button>\n                        </vx-tooltip> &nbsp;\n                        <!--ELIMINAR PEDIDO-->\n                        <vx-tooltip style=\"display: inline-block;\" text=\"Eliminar pedido\" position=\"top\" color=\"primary\">\n                            <vs-button class=\"modal-default-button\" v-if=\"(tr.estado == 1 || tr.estado == 0) && usuario.id_group == 11\" @click=\"pedido = tr; openConfirmarEliminar(tr)\" size=\"small\" color=\"danger\" type=\"filled\" icon-pack=\"feather\" icon=\"icon-trash\"> </vs-button>\n                        </vx-tooltip> &nbsp;\n                        <!--ASESOR SUBE SOLICITUD DE OBSEQUIOS-->\n                        <vx-tooltip style=\"display: inline-block;\" text=\"Subir foto de solicitud de obsequios\" position=\"top\" color=\"primary\">\n                            <vs-button class=\"modal-default-button\" v-if=\"tr.foto_solicitud == null && ( userAsesor == true || userRoot || userAdmin) \" @click=\"pedido = tr;popupSolicitud = true;\" size=\"small\" color=\"primary\" type=\"filled\" icon-pack=\"feather\" icon=\"icon-camera\">Subir solicitud de obsequios </vs-button>\n                        </vx-tooltip> &nbsp;\n                        <!--APROBAR PEDIDO GERENCIA-->\n                        <vx-tooltip style=\"display: inline-block;\" text=\"Autorizar pedido\" position=\"top\" color=\"primary\">\n                            <vs-button class=\"modal-default-button\" v-if=\"tr.estado == 4 && (userGerencia == true || usuario.id_group == 1) \" @click=\"pedido = tr;openAutorizar()\" size=\"small\" color=\"primary\" type=\"filled\" icon-pack=\"feather\" icon=\"icon-check\">Autorizar </vs-button>\n                        </vx-tooltip> &nbsp;\n                        <!--SUBIR EVIDENCIAS-->\n                        <vx-tooltip style=\"display: inline-block;\" text=\"Subir cotizacion y factura\" position=\"top\" color=\"primary\">\n                            <vs-button class=\"modal-default-button\" v-if=\"tr.estado == 3 && ( usuario.id_group == 1 ) \" @click=\"pedido = tr;popupAsignarValor = true;\" size=\"small\" color=\"primary\" type=\"filled\" icon-pack=\"feather\" icon=\"icon-dollar-sign\">Asignar valor </vs-button>\n                        </vx-tooltip> &nbsp;\n                        <!--ASESOR SUBE EVIDENCIA ENTREGA-->\n                        <vx-tooltip style=\"display: inline-block;\" text=\"Subir evidencia entrega de obsequios\" position=\"top\" color=\"primary\">\n                            <vs-button class=\"modal-default-button\" v-if=\"tr.estado == 5 && ( userAsesor == true )  \" @click=\"pedido = tr;popupSubirEntrega = true;\" size=\"small\" color=\"primary\" type=\"filled\" icon-pack=\"feather\" icon=\"icon-camera\">Subir evidencia entrega </vs-button>\n                        </vx-tooltip> &nbsp;\n                    </div>\n                </vs-td>\n            </vs-tr>\n        </template>\n    </vs-table>\n    <!--MODALES-->\n    <!--MODAL PARA VER OBSERVACION DEL FACTURADOR-->\n    <vs-popup classContent=\"popup-example\" title=\"Ver comentario facturador\" :active.sync=\"popupObservacion\">\n        <p class=\"font-bold text-warning text-2xl\">Comentario facturador:</p>\n        <vs-divider style=\"margin-top: -2px;\"></vs-divider>\n        <p class=\"\">{{ pedido.observacion_facturador }}</p>\n    </vs-popup>\n    <!--MODAL SUBIR SOLICITUD DE OBSEQUIOS-->\n       <vs-popup classContent=\"popup-example\" title=\"Solicitud\" :active.sync=\"popupSolicitud\">\n        <p class=\"font-bold text-warning text-2xl text-center\">Evidencia de solicitud de obsequios</p>\n        <vs-divider>SUBA FOTO DE EVIDENCIA DE SOLICITUD DE OBSEQUIOS</vs-divider>\n        <UploadFileGerenciaVue :pedido=\"pedido\" titlebtn=\"Subir solicitud\" tipoDocumento = 'solicitud' campo_file=\"foto_solicitud\" campo_fecha=\"fecha_creacion_pedido\" estado=\"1\" @recharge=\"recharge\"/>\n    </vs-popup>\n    <!--MODAL GERENCIA AUTORIZA-->\n    <vs-popup classContent=\"popup-example\" title=\"Autorizar\" :active.sync=\"popupAutorizar\">\n        <p class=\"font-bold text-warning text-2xl text-center\">Autorizo el pedido de obsequio:</p>\n        <vs-divider></vs-divider>\n        <div class=\"flex justify-center\">\n            <vs-button class=\"mb-2\" icon=\"check\" @click=\"gerenciaAutoriza()\">Si, deseo autorizar</vs-button>\n            <vs-button color=\"warning\" class=\"ml-2 mb-2\"  type=\"border\"  @click=\"popupAutorizar = false;\">Cancelar</vs-button>\n        </div>\n    </vs-popup>\n    <!--MODAL ADMIN AUTORIZA-->\n    <vs-popup classContent=\"popup-example\" title=\"Autorizar\" :active.sync=\"popupAdminAutoriza\">\n        <p class=\"font-bold text-warning text-2xl text-center\">Autorizo el pedido de obsequio:</p>\n        <vs-divider>SUBA LA FOTO DE AUTORIZACIÓN DE GERENCIA</vs-divider>\n        <div class=\"flex justify-center\">\n            <vs-chip color=\"success\" style=\"font-size:23px;padding:5px;\">Valor máximo de obsequios ${{ pedido.valor_obsequios }}</vs-chip>\n        </div>\n        <br>\n        <UploadFileGerenciaVue :pedido=\"pedido\" titlebtn=\"Autorizar\" tipoDocumento = 'evidencia_gerencia' campo_file=\"foto_envidencia_gerencia\" campo_fecha=\"fecha_gerencia_aprueba\" estado=\"5\" @recharge=\"recharge\"/>\n    </vs-popup>\n    <!--MODAL ASIGNAR VALOR-->\n    <vs-popup classContent=\"popup-example\" title=\"Asignar valor a pedido de obsequio\" :active.sync=\"popupAsignarValor\">\n        <p class=\"font-bold text-primary text-2xl text-center\" style=\"opacity:0.8;\">Asignar valor al pedido de obsequio:</p>\n        <div>\n            <vs-divider>SUBA FOTO DE LA COTIZACIÓN</vs-divider>\n            <UploadFileVue sinBtn=\"1\" :pedido=\"pedido\" @cotizacion=\"Getcotizacion\"  tipoDocumento = 'cotizacion' campo_file=\"foto_cotizacion\" campo_fecha=\"fecha_administrador_sube_cotizacion\" estado=\"4\" @recharge=\"recharge\"/>\n        </div>\n        <div>\n            <vs-divider>SUBA FOTO DE LA FACTURA</vs-divider>\n            <UploadFileVue sinBtn=\"1\"  :pedido=\"pedido\" @factura=\"GetFactura\"  tipoDocumento = 'factura' campo_file=\"foto_factura\" campo_fecha=\"fecha_administrador_sube_cotizacion\" estado=\"4\" @recharge=\"recharge\"/>\n        </div>\n        <div class=\"flex justify-center\">\n            <vs-chip color=\"success\" style=\"font-size:23px;padding:5px;\">Valor máximo de obsequios ${{ pedido.valor_obsequios }}</vs-chip>\n        </div>\n        <vx-input-group class=\"mb-base mt-5\">\n            <template slot=\"prepend\">\n            <div class=\"prepend-text bg-success\">\n                <span>Ingrese el valor ( inc.Iva ) $</span>\n            </div>\n            </template>\n            <vs-input v-model=\"valorAsignar\" />\n        </vx-input-group>\n        <div class=\"flex\" style=\"justify-content: center;\" >\n            <vs-button color=\"primary\" @click=\"subirDocumento()\" class=\"mt-2\" type=\"gradient\">Asignar valor</vs-button>\n        </div>\n    </vs-popup>\n    <!--MODAL SUBIR ENTREGA-->\n    <vs-popup classContent=\"popup-example\" title=\"Evidencia de entrega\" :active.sync=\"popupSubirEntrega\">\n        <p class=\"font-bold text-warning text-2xl text-center\">Evidencia de entrega de obsequios</p>\n        <vs-divider>SUBA FOTO DE EVIDENCIA DE ENTREGA DE OBSEQUIOS</vs-divider>\n        <UploadFileGerenciaVue :pedido=\"pedido\" titlebtn=\"Subir evidencia\" tipoDocumento = 'entrega' campo_file=\"foto_entrega\" campo_fecha=\"fecha_asesor_sube_evidencia_entrega\" estado=\"6\" @recharge=\"recharge\"/>\n    </vs-popup>\n    <!--MODAL PARA MOSTRAR DOCUMENTO-->\n    <vs-popup class=\"holamundo\" :title=\"'Documento: '+tipoDocumento\" fullscreen :active.sync=\"popupDocumento\">\n        <div>\n            <vx-tooltip style=\"display: inline-block;\" text=\"Subir evidencia entrega de obsequios\" position=\"top\" color=\"primary\">\n                <vs-button class=\"modal-default-button\" v-if=\"estadoPhoto == 5 && ( userAsesor == true )  \" @click=\"popupDocumento = false;popupSubirEntrega = true;\" size=\"small\" color=\"primary\" type=\"filled\" icon-pack=\"feather\" icon=\"icon-camera\">Subir evidencia entrega </vs-button>\n            </vx-tooltip> &nbsp;\n        </div>\n        <br><br>\n        <div class=\"flex\" style=\"justify-content: center;\">\n            <image-zoom\n                :regular=\"$data_url+'archivos/obsequios/'+tipoDocumento+'/'+documento\"\n                :zoom-amount=\"3\"\n                :click-zoom=\"true\"\n                click-message=\"De click para aumentar\"\n                img-class=\"img-fluid\"\n                >\n            </image-zoom>\n        </div>\n    </vs-popup>\n</div>\n",null]}