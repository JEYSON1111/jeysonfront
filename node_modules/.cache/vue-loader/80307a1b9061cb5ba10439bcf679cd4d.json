{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\juegos\\crearMemoria.vue?vue&type=style&index=0&id=e6ee4646&lang=css","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\juegos\\crearMemoria.vue","mtime":1712682816068},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\n.btnwizard {\r\n    width: 65px;\r\n    height: 65px;\r\n    font-size: 22px;\r\n    padding: 0px;\r\n    border-radius: 100%;\r\n    border: 2px solid rgb(29, 90, 182);\r\n    background-color: white;\r\n    color: rgb(29, 90, 182);\r\n}\r\n\r\n.btnwizardSelect {\r\n    width: 65px;\r\n    height: 65px;\r\n    font-size: 22px;\r\n    padding: 0px;\r\n    border-radius: 100%;\r\n    border: 2px solid rgb(29, 90, 182);\r\n    background-color: rgb(29, 90, 182);\r\n    color: white;\r\n}\r\n\r\n.preguntasList:hover {\r\n    color: rgb(36, 87, 226);\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n}\r\n\r\n.borde-unidad {\r\n    border: 1px dashed #ccc;\r\n    /* display: inline-block; */\r\n    padding: 6px;\r\n    cursor: pointer;\r\n}\r\n",{"version":3,"sources":["crearMemoria.vue"],"names":[],"mappings":";AA4qCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"crearMemoria.vue","sourceRoot":"src/views/juegos","sourcesContent":["<template>\r\n<div>\r\n    <div class=\"vx-row text-center mt-2\">\r\n        <div class=\"vx-col md:w-1/3\" align=\"center\">\r\n            <button class=\"btnwizardSelect\" id=\"btnNav1\">1</button><br>\r\n            Juego\r\n        </div>\r\n\r\n        <div class=\"vx-col md:w-1/3\" align=\"center\">\r\n            <button class=\"btnwizard\" id=\"btnNav2\">2</button><br>\r\n            Preguntas\r\n        </div>\r\n\r\n        <div class=\"vx-col md:w-1/3\" align=\"center\">\r\n            <button class=\"btnwizard\" id=\"btnNav3\">3</button><br>\r\n            Ficha técnica\r\n        </div>\r\n    </div>\r\n\r\n    <vx-card>\r\n        <div class=\"vx-row\" v-if=\"tabActivo===1\">\r\n\r\n            <div class=\"vx-col md:w-1/2 w-full mt-5\">\r\n                Asignatura:\r\n                <v-select v-if=\"tipoUsuario===6\" v-model=\"asignaturaSelected\" :options=\"asignaturas\" :dir=\"$vs.rtl ? 'rtl' : 'ltr'\" disabled />\r\n                <v-select v-else v-model=\"asignaturaSelected\" :options=\"asignaturas\" :dir=\"$vs.rtl ? 'rtl' : 'ltr'\" />\r\n            </div>\r\n            <div class=\"vx-col md:w-1/2 w-full mt-5\">\r\n                Unidad\r\n                <v-select v-model=\"unidadSelected\" :options=\"unidades\" @input=\"getTemas()\" :dir=\"$vs.rtl ? 'rtl' : 'ltr'\" />\r\n            </div>\r\n\r\n            <div class=\"vx-col w-full mt-5\">\r\n                Temas:\r\n                <v-select multiple :closeOnSelect=\"false\" :options=\"temas\" :reduce=\"temas => temas\" label=\"nombre_tema\" class=\"w-full\" v-model=\"id_temas\" />\r\n            </div>\r\n\r\n            <div class=\"vx-col md:w-1/2 w-full mt-5\">\r\n                <vs-input label=\"Título juego\" v-model=\"juego.nombre_juego\" class=\"w-full\" />\r\n            </div>\r\n            <div class=\"vx-col md:w-1/2 w-full mt-5\">\r\n                <vs-input label=\"Descripción\" v-model=\"juego.descripcion_juego\" class=\"w-full\" />\r\n            </div>\r\n\r\n            <div class=\"vx-col md:w-1/3 w-full mt-5\">\r\n                <vs-input type=\"number\" min=\"1\" label=\"Puntos\" v-model=\"juego.puntos\" class=\"w-full\" />\r\n            </div>\r\n\r\n            <div class=\"vx-col md:w-1/3 w-full mt-5\">\r\n                <vs-input type=\"number\" min=\"1\" label=\"Duración(minutos)\" v-model=\"juego.duracion\" class=\"w-full\" />\r\n            </div>\r\n\r\n            <div class=\"vx-col md:w-1/3 w-full mt-5\">\r\n                Estado:\r\n                <vs-switch vs-icon-on=\"check\" color=\"success\" v-model=\"juego.estado_juego\" class=\"mt-2 w-full\">\r\n                    <span slot=\"on\">Activo</span>\r\n                    <span slot=\"off\">Inactivo</span>\r\n                </vs-switch>\r\n            </div>\r\n            <vs-divider></vs-divider>\r\n\r\n            <div class=\"vx-col md:w-1/2 w-full text-left\">\r\n                <vs-button type=\"filled\" @click=\"$router.go(-1)\">Volver</vs-button>\r\n            </div>\r\n            <div class=\"vx-col md:w-1/2 w-full text-right\">\r\n                <vs-button type=\"filled\" v-if=\"juego.id_juego==='' || juego.id_juego===undefined\" @click=\"agregarJuego(1); pintartab(1)\">Siguiente</vs-button>\r\n                <vs-button type=\"filled\" v-else @click=\"editarJuego(1); pintartab(2)\">Siguientes</vs-button>\r\n            </div>\r\n\r\n        </div>\r\n    </vx-card>\r\n\r\n    <div v-if=\"tabActivo===2\">\r\n        <vx-card>\r\n            <vs-button color=\"primary\" @click=\"cambiaVista()\" v-if=\"view_op == 2\">Agregar pregunta</vs-button>\r\n            <vs-button color=\"success\" @click=\"cambiaVista()\" v-if=\"view_op == 1\">Ver preguntas</vs-button> <br><br>\r\n            <span>Total preguntas: &nbsp;<b>&nbsp; {{preguntas.length}}</b></span>\r\n            <div v-if=\"view_op == 1\" style=\"margin-top:50px\">\r\n                <div class=\"pregunta m-4\">\r\n                    <div class=\"vx-row mb-3\">\r\n                        <div class=\"vx-col md:w-1/2 w-full mt-2\">\r\n                            <vs-textarea v-model=\"j_juego_contenido.pregunta\" class=\"mb-4 w-full\" label=\"Pregunta\"></vs-textarea>\r\n                        </div>\r\n                        <div class=\"vx-col md:w-1/2 w-full mt-2\">\r\n                            <div class=\"borde-unidad\">\r\n                                <div v-if=\"file0 != '' \"> Archivo actual: <br>\r\n                                    <label> {{file0.name}} </label>\r\n                                    <vx-tooltip style=\"display: inline-block;\" text=\"Quitar archivo\" position=\"bottom\" color=\"danger\">\r\n                                        <vs-button @click=\"quitarArchivo(0)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-trash\" color=\"danger\" type=\"border\"></vs-button>\r\n                                    </vx-tooltip>\r\n                                </div>\r\n                                <label v-if=\"file0 == '' &&  img_db0 == '' \">\r\n                                    <input style=\"display:none\" id=\"file0\" ref=\"file0\" accept=\"image/png, image/gif, image/jpeg, image/gif, image/jpg\" type=\"file\" @change=\"imagenPregunta(0)\" />\r\n                                    <vs-button icon-pack=\"feather\" icon=\"icon-image\" color=\"dark\" type=\"border\" @click=\"$refs.file0.click()\">Seleccionar imagen <small>(opcional)</small></vs-button>\r\n                                    <p><small> Tamaño máximo: {{limiteMegas}} mb. </small></p>\r\n                                </label>\r\n                                <div class=\"v-row text-left\" v-if=\"porcentaje0 > 0\">\r\n                                    <vs-progress style=\"height:20px\" :percent=\"porcentaje0\" color=\"success\"> {{porcentaje0}}% </vs-progress>\r\n                                </div>\r\n                                <small class=\"text-danger\"> {{msj0}} </small>\r\n                                <div v-if=\"img_db0 != ''\">\r\n                                    <small><b>Archivo actual: </b></small>\r\n                                    <vx-tooltip style=\"display: inline-block;\" text=\"Reemplazar archivo\" position=\"top\" color=\"danger\">\r\n                                        <vs-button @click=\"deleteImagen(img_db0,0, j_juego_contenido.id_contenido_juego)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-shuffle\" color=\"danger\" type=\"border\"></vs-button>\r\n                                    </vx-tooltip> <br>\r\n                                    <img @click=\"mostrarImagen(img_db0)\" height=\"70\" style=\"display:inline-block\" :src=\"$data_url+ruta_images+img_db0\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <center class=\"vx-col w-full\">\r\n                            <p class=\"text-center\"><small class=\"text-danger\"> {{msj_pregunta}} </small></p>\r\n                        </center>\r\n                    </div>\r\n                </div>\r\n                <div class=\"opciones-pregunta\">\r\n                    <div class=\"vx-row m-2 p-1\">\r\n                        <vs-divider>Opción 1 - requerida</vs-divider>\r\n                        <div class=\"vx-col md:w-1/3\">\r\n                            <label>¿Respuesta correcta?</label>\r\n                            <vs-checkbox v-model=\"id_check1\" class=\"p-2 m-2 border\" color=\"success\">Si</vs-checkbox>\r\n                        </div>\r\n                        <div class=\"vx-col md:w-1/3\">\r\n                            <label>Respuesta:</label>\r\n                            <vs-input v-model=\"id_input1\" class=\"w-full\" type=\"text\"></vs-input>\r\n                        </div>\r\n                        <div class=\"vx-col md:w-1/3\">\r\n                            <div class=\"borde-unidad\">\r\n                                <div v-if=\"file1 != '' \"> Archivo actual: <br>\r\n                                    <label> {{file1.name}} </label>\r\n                                    <vx-tooltip style=\"display: inline-block;\" text=\"Quitar archivo\" position=\"bottom\" color=\"danger\">\r\n                                        <vs-button @click=\"quitarArchivo(1)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-trash\" color=\"danger\" type=\"border\"></vs-button>\r\n                                    </vx-tooltip>\r\n                                </div>\r\n                                <label v-if=\"file1 == '' &&  img_db1 == '' \">\r\n                                    <input style=\"display:none\" id=\"file1\" ref=\"file1\" accept=\"image/png, image/gif, image/jpeg, image/gif, image/jpg\" type=\"file\" @change=\"imagenPregunta(1)\" />\r\n                                    <vs-button icon-pack=\"feather\" icon=\"icon-image\" color=\"dark\" type=\"border\" @click=\"$refs.file1.click()\">Seleccionar imagen <small>(opcional)</small></vs-button>\r\n                                    <p><small> Tamaño máximo: {{limiteMegas}} mb. </small></p>\r\n                                </label>\r\n                                <div class=\"v-row text-left\" v-if=\"porcentaje1 > 0\">\r\n                                    <vs-progress style=\"height:20px\" :percent=\"porcentaje1\" color=\"success\"> {{porcentaje1}}% </vs-progress>\r\n                                </div>\r\n                                <small class=\"text-danger\"> {{msj1}} </small>\r\n                                <div v-if=\"img_db1 != ''\">\r\n                                    <small> <b>Archivo actual: </b></small>\r\n                                    <vx-tooltip style=\"display: inline-block;\" text=\"Reemplazar archivo\" position=\"top\" color=\"danger\">\r\n                                        <vs-button @click=\"deleteImagen(img_db1,1, id_opcion1)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-shuffle\" color=\"danger\" type=\"border\"></vs-button>\r\n                                    </vx-tooltip> <br>\r\n                                    <img @click=\"mostrarImagen(img_db1)\" height=\"70\" style=\"display:inline-block\" :src=\"$data_url+ruta_images+img_db1\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <center class=\"vx-col w-full\">\r\n                            <p class=\"text-center\"><small class=\"text-danger\"> {{msj_op_1}} </small></p>\r\n                        </center>\r\n                    </div>\r\n                    <div class=\"vx-row m-2 p-1\">\r\n                        <vs-divider>Opción 2 - requerida</vs-divider>\r\n                        <div class=\"vx-col md:w-1/3\">\r\n                            <label>¿Respuesta correcta?</label>\r\n                            <vs-checkbox v-model=\"id_check2\" class=\"p-2 m-2 border\" color=\"success\">Si</vs-checkbox>\r\n                        </div>\r\n                        <div class=\"vx-col md:w-1/3\">\r\n                            <label>Respuesta:</label>\r\n                            <vs-input v-model=\"id_input2\" class=\"w-full\" type=\"text\"></vs-input>\r\n                        </div>\r\n                        <div class=\"vx-col md:w-1/3\">\r\n                            <div class=\"borde-unidad\">\r\n                                <div v-if=\"file2 != '' \"> Archivo actual: <br>\r\n                                    <label> {{file2.name}} </label>\r\n                                    <vx-tooltip style=\"display: inline-block;\" text=\"Quitar archivo\" position=\"bottom\" color=\"danger\">\r\n                                        <vs-button @click=\"quitarArchivo(2)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-trash\" color=\"danger\" type=\"border\"></vs-button>\r\n                                    </vx-tooltip>\r\n                                </div>\r\n                                <label v-if=\"file2 == '' &&  img_db2 == '' \">\r\n                                    <input style=\"display:none\" id=\"file2\" ref=\"file2\" accept=\"image/png, image/gif, image/jpeg, image/gif, image/jpg\" type=\"file\" @change=\"imagenPregunta(2)\" />\r\n                                    <vs-button icon-pack=\"feather\" icon=\"icon-image\" color=\"dark\" type=\"border\" @click=\"$refs.file2.click()\">Seleccionar imagen <small>(opcional)</small></vs-button>\r\n                                    <p><small> Tamaño máximo: {{limiteMegas}} mb. </small></p>\r\n                                </label>\r\n                                <div class=\"v-row text-left\" v-if=\"porcentaje2 > 0\">\r\n                                    <vs-progress style=\"height:20px\" :percent=\"porcentaje2\" color=\"success\"> {{porcentaje2}}% </vs-progress>\r\n                                </div>\r\n                                <small class=\"text-danger\"> {{msj2}} </small>\r\n                                <div v-if=\"img_db2 != ''\">\r\n                                    <small><b>Archivo actual: </b></small>\r\n                                    <vx-tooltip style=\"display: inline-block;\" text=\"Reemplazar archivo\" position=\"top\" color=\"danger\">\r\n                                        <vs-button @click=\"deleteImagen(img_db2,2, id_opcion2)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-shuffle\" color=\"danger\" type=\"border\"></vs-button>\r\n                                    </vx-tooltip> <br>\r\n                                    <img @click=\"mostrarImagen(img_db2)\" height=\"70\" style=\"display:inline-block\" :src=\"$data_url+ruta_images+img_db2\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <center class=\"vx-col w-full\">\r\n                            <p class=\"text-center\"><small class=\"text-danger\"> {{msj_op_2}} </small></p>\r\n                        </center>\r\n                    </div>\r\n                    <div class=\"vx-row m-2 p-1\">\r\n                        <vs-divider>Opción 3</vs-divider>\r\n                        <div class=\"vx-col md:w-1/3\">\r\n                            <label>¿Respuesta correcta?</label>\r\n                            <vs-checkbox v-model=\"id_check3\" class=\"p-2 m-2 border\" color=\"success\">Si</vs-checkbox>\r\n                        </div>\r\n                        <div class=\"vx-col md:w-1/3\">\r\n                            <label>Respuesta:</label>\r\n                            <vs-input v-model=\"id_input3\" class=\"w-full\" type=\"text\"></vs-input>\r\n                        </div>\r\n                        <div class=\"vx-col md:w-1/3\">\r\n                            <div class=\"borde-unidad\">\r\n                                <div v-if=\"file3 != '' \"> Archivo actual: <br>\r\n                                    <label> {{file3.name}} </label>\r\n                                    <vx-tooltip style=\"display: inline-block;\" text=\"Quitar archivo\" position=\"bottom\" color=\"danger\">\r\n                                        <vs-button @click=\"quitarArchivo(3)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-trash\" color=\"danger\" type=\"border\"></vs-button>\r\n                                    </vx-tooltip>\r\n                                </div>\r\n                                <label v-if=\"file3 == '' &&  img_db3 == ''  \">\r\n                                    <input style=\"display:none\" id=\"file3\" ref=\"file3\" accept=\"image/png, image/gif, image/jpeg, image/gif, image/jpg\" type=\"file\" @change=\"imagenPregunta(3)\" />\r\n                                    <vs-button icon-pack=\"feather\" icon=\"icon-image\" color=\"dark\" type=\"border\" @click=\"$refs.file3.click()\">Seleccionar imagen <small>(opcional)</small></vs-button>\r\n                                    <p><small> Tamaño máximo: {{limiteMegas}} mb. </small></p>\r\n                                </label>\r\n                                <div class=\"v-row text-left\" v-if=\"porcentaje3 > 0\">\r\n                                    <vs-progress style=\"height:20px\" :percent=\"porcentaje3\" color=\"success\"> {{porcentaje3}}% </vs-progress>\r\n                                </div>\r\n                                <small class=\"text-danger\"> {{msj3}} </small>\r\n                                <div v-if=\"img_db3 != ''\">\r\n                                    <small><b>Archivo actual: </b></small>\r\n                                    <vx-tooltip style=\"display: inline-block;\" text=\"Reemplazar archivo\" position=\"top\" color=\"danger\">\r\n                                        <vs-button @click=\"deleteImagen(img_db3,3, id_opcion3)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-shuffle\" color=\"danger\" type=\"border\"></vs-button>\r\n                                    </vx-tooltip> <br>\r\n                                    <img @click=\"mostrarImagen(img_db3)\" height=\"70\" style=\"display:inline-block\" :src=\"$data_url+ruta_images+img_db3\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"vx-row m-2 p-1\">\r\n                        <vs-divider>Opción 4</vs-divider>\r\n                        <div class=\"vx-col md:w-1/3\">\r\n                            <label>¿Respuesta correcta?</label>\r\n                            <vs-checkbox v-model=\"id_check4\" class=\"p-2 m-2 border\" color=\"success\">Si</vs-checkbox>\r\n                        </div>\r\n                        <div class=\"vx-col md:w-1/3\">\r\n                            <label>Respuesta:</label>\r\n                            <vs-input v-model=\"id_input4\" class=\"w-full\" type=\"text\"></vs-input>\r\n                        </div>\r\n                        <div class=\"vx-col md:w-1/3\">\r\n                            <div class=\"borde-unidad\">\r\n                                <div v-if=\"file4 != '' \"> Archivo actual: <br>\r\n                                    <label> {{file4.name}} </label>\r\n                                    <vx-tooltip style=\"display: inline-block;\" text=\"Quitar archivo\" position=\"bottom\" color=\"danger\">\r\n                                        <vs-button @click=\"quitarArchivo(4)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-trash\" color=\"danger\" type=\"border\"></vs-button>\r\n                                    </vx-tooltip>\r\n                                </div>\r\n                                <label v-if=\"file4 == '' &&  img_db4 == '' \">\r\n                                    <input style=\"display:none\" id=\"file4\" ref=\"file4\" accept=\"image/png, image/gif, image/jpeg, image/gif, image/jpg\" type=\"file\" @change=\"imagenPregunta(4)\" />\r\n                                    <vs-button icon-pack=\"feather\" icon=\"icon-image\" color=\"dark\" type=\"border\" @click=\"$refs.file4.click()\">Seleccionar imagen <small>(opcional)</small></vs-button>\r\n                                    <p><small> Tamaño máximo: {{limiteMegas}} mb. </small></p>\r\n                                </label>\r\n                                <div class=\"v-row text-left\" v-if=\"porcentaje4 > 0\">\r\n                                    <vs-progress style=\"height:20px\" :percent=\"porcentaje4\" color=\"success\"> {{porcentaje4}}% </vs-progress>\r\n                                </div>\r\n                                <small class=\"text-danger\"> {{msj4}} </small>\r\n                                <div v-if=\"img_db4 != ''\">\r\n                                    <small><b>Archivo actual: </b></small>\r\n                                    <vx-tooltip style=\"display: inline-block;\" text=\"Reemplazar archivo\" position=\"top\" color=\"danger\">\r\n                                        <vs-button @click=\"deleteImagen(img_db4, 4, id_opcion4)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-shuffle\" color=\"danger\" type=\"border\"></vs-button>\r\n                                    </vx-tooltip> <br>\r\n                                    <img @click=\"mostrarImagen(img_db4)\" height=\"70\" style=\"display:inline-block\" :src=\"$data_url+ruta_images+img_db4\">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"vx-row\">\r\n                        <vs-button class=\"mb-4 m-1\" :color=\"color_boton\" type=\"filled\" v-if=\"editarPregActivo===false\" icon-pack=\"feather\" icon=\"icon-save\" @click=\"verificarDatos(2)\">{{txt_boton}}</vs-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"view_op == 2\">\r\n                <div id=\"div-with-loading\" style=\"margin-top:-85px;\" class=\"vx-col w-full vs-con-loading__container m-2\">\r\n                    <vs-table stripe max-items=\"50\" search pagination :data=\"preguntas\" class=\"vs-con-loading__container\">\r\n                        <template slot=\"thead\">\r\n                            <vs-th width=\"20%\">Imagen</vs-th>\r\n                            <vs-th width=\"30%\">Pregunta</vs-th>\r\n                            <vs-th width=\"40%\">Opciones</vs-th>\r\n                            <vs-th width=\"10%\">Acciones</vs-th>\r\n                        </template>\r\n                        <template slot-scope=\"{data}\">\r\n                            <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                                <vs-td class=\"align-top\">\r\n                                    <vs-avatar @click=\"mostrarImagen(data[indextr].pregunta.imagen)\" v-if=\"data[indextr].pregunta.imagen != null\" size=\"100px\" :src=\"$data_url+ruta_images+data[indextr].pregunta.imagen\"></vs-avatar>\r\n                                </vs-td>\r\n                                <vs-td class=\"align-top\">\r\n                                    {{data[indextr].pregunta.pregunta}}\r\n                                </vs-td>\r\n                                <vs-td>\r\n                                    <table v-if=\"data[indextr].opciones.length > 0\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th width=\"10%\"></th>\r\n                                                <th width=\"10%\">opción</th>\r\n                                                <th>imagen</th>\r\n                                                <th>respuesta</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr v-for=\"(op, indexop) in data[indextr].opciones\" :key=\"indexop\">\r\n                                                <td>\r\n                                                    <span>{{indexop+1}}</span>                                                    \r\n                                                </td>\r\n                                                <td>\r\n                                                    <vs-button v-if=\"op.tipo_opcion == 1\" size=\"small\" icon-pack=\"feather\" icon=\"icon-check\" color=\"success\"></vs-button>\r\n                                                    <vs-button v-if=\"op.tipo_opcion == 0\" size=\"small\" icon-pack=\"feather\" icon=\"icon-x\" color=\"danger\"></vs-button>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <vs-avatar @click=\"mostrarImagen(op.imagen_opcion)\" v-if=\"op.imagen_opcion != null\" size=\"40px\" :src=\"$data_url+ruta_images+op.imagen_opcion\"></vs-avatar>\r\n                                                </td>\r\n                                                <td>{{op.nombre_opcion}}</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </vs-td>\r\n                                <vs-td>\r\n                                    <vs-button class=\"mb-4 m-1\" color=\"success\" type=\"filled\" @click=\"editarPreguntaJuego(2,tr)\">Editar</vs-button>\r\n                                </vs-td>\r\n                            </vs-tr>\r\n                        </template>\r\n                    </vs-table>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"vx-row w-full\">\r\n                <vs-divider></vs-divider>\r\n                <div class=\"vx-col sm:w-1/2 w-full text-left\">\r\n                    <vs-button type=\"filled\" @click=\"tabActivo=1; pintartab(1)\">Atrás</vs-button>\r\n                </div>\r\n                <div class=\"vx-col sm:w-1/2 w-full text-right\">\r\n                    <vs-button type=\"filled\" @click=\"tabActivo=3; getFicha(); pintartab(3)\">Siguiente</vs-button>\r\n                </div>\r\n            </div>\r\n\r\n        </vx-card>\r\n    </div>\r\n\r\n    <vx-card class=\"mt-5\" v-if=\"tabActivo===3\">\r\n        <div class=\"vx-row\">\r\n            <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Bloque curricular</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-2/3 w-full\">\r\n                <vs-input v-model=\"datos_ficha.bloque_curricular\" class=\"mb-6 w-full\"></vs-input>\r\n            </div>\r\n\r\n            <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Grado</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-2/3 w-full\">\r\n                <vs-input v-model=\"datos_ficha.grado\" class=\"mb-6 w-full\"></vs-input>\r\n            </div>\r\n\r\n            <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Destrezas</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-2/3 w-full\">\r\n                <vs-textarea v-model=\"datos_ficha.destrezas\" class=\"mb-6 w-full\"></vs-textarea>\r\n            </div>\r\n\r\n            <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Habilidades</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-2/3 w-full\">\r\n                <vs-textarea v-model=\"datos_ficha.habilidades\" class=\"mb-6 w-full\"></vs-textarea>\r\n            </div>\r\n\r\n            <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Elaborado por</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-2/3 w-full\">\r\n                <vs-input v-model=\"datos_ficha.elaborado_por\" class=\"mb-6 w-full\"></vs-input>\r\n            </div>\r\n\r\n            <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Intencion didáctica</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-2/3 w-full\">\r\n                <vs-textarea v-model=\"datos_ficha.intencion_didactica\" class=\"mb-6 w-full\"></vs-textarea>\r\n            </div>\r\n\r\n            <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Consigna</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-2/3 w-full\">\r\n                <vs-textarea v-model=\"datos_ficha.consigna\" class=\"mb-6 w-full\"></vs-textarea>\r\n            </div>\r\n\r\n            <div class=\"vx-col sm:w-1/3 w-full\">\r\n                <span>Consideraciones</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-2/3 w-full\">\r\n                <vs-textarea v-model=\"datos_ficha.consideraciones\" class=\"mb-6 w-full\"></vs-textarea>\r\n            </div>\r\n\r\n            <vs-divider></vs-divider>\r\n\r\n            <div class=\"vx-col sm:w-1/2 w-full text-left\">\r\n                <vs-button type=\"filled\" @click=\"editarJuego(2); pintartab(2)\">Atrás</vs-button>\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 w-full text-right\">\r\n                <vs-button type=\"filled\" @click=\"guardarFicha(3);\">Guardar Ficha</vs-button>\r\n            </div>\r\n\r\n        </div>\r\n    </vx-card>\r\n\r\n    <!-- MODAL PARA MOSTRAR IMAGEN -->\r\n    <vs-popup title=\"Imagen\" title-color=\"primary\" :active.sync=\"modalImagen\" class=\"p-5\">\r\n        <center>\r\n            <img v-if=\"imagen_a_mostrar != ''\" height=\"350\" style=\"display:inline-block\" :src=\"$data_url+ruta_images+imagen_a_mostrar\">\r\n        </center>\r\n    </vs-popup>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport flatPickr from 'vue-flatpickr-component';\r\nimport 'flatpickr/dist/flatpickr.css';\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nimport moment from 'moment'\r\nimport $ from 'jquery'\r\nexport default {\r\n    data() {\r\n        return {\r\n            endesarrollo: false,\r\n            asignaturaSelected: '',\r\n            unidadSelected: {\r\n                id: 1,\r\n                label: \"Unidad 1\"\r\n            },\r\n            datos_crear_juego: {},\r\n            data_juego: [],\r\n            datos_ficha: {},\r\n            juego: {\r\n                estado_juego: false,\r\n            },\r\n            preguntas: [],\r\n            temas: [],\r\n            usuario: [],\r\n            asignaturas: [],\r\n            unidades: [{\r\n                id: \"1\",\r\n                label: \"Unidad 1\",\r\n            }, {\r\n                id: \"2\",\r\n                label: \"Unidad 2\",\r\n            }, {\r\n                id: \"3\",\r\n                label: \"Unidad 3\",\r\n            }, {\r\n                id: \"4\",\r\n                label: \"Unidad 4\",\r\n            }, {\r\n                id: \"5\",\r\n                label: \"Unidad 5\",\r\n            }, {\r\n                id: \"6\",\r\n                label: \"Unidad 6\",\r\n            }, {\r\n                id: \"7\",\r\n                label: \"Unidad 7\",\r\n            }, {\r\n                id: \"8\",\r\n                label: \"Unidad 8\",\r\n            }],\r\n            configdateTimePicker: {\r\n                enableTime: true,\r\n                dateFormat: 'Y-m-d H:i:s'\r\n            },\r\n            tabActivo: 1,\r\n            id_juego: '',\r\n            id_tipo_juego: '',\r\n            activePromptEditarCrear: false,\r\n            id_temas: [],\r\n            editarPregActivo: false,\r\n            tipoUsuario: 1,\r\n            //adivinanzas\r\n            j_juego_contenido: {\r\n                'id_contenido_juego': 0,\r\n                'id_juego': '',\r\n                'pregunta': '',\r\n                'imagen': '',\r\n                'estado': 1\r\n            },\r\n            j_juego_opciones: {\r\n                'nombre_opcion': '',\r\n                'tipo_opcion': '',\r\n                'imagen_opcion': ''\r\n            },\r\n            bytes: 1048576, //1 mega\r\n            limiteMegas: 0.7,\r\n            msj: '',\r\n\r\n            msj_pregunta: '',\r\n            msj_op_1: '',\r\n            msj_op_2: '',\r\n            msj_imagen0: '',\r\n            file0: '',\r\n            muyPesado0: '',\r\n            pesoArchivo0: '',\r\n            msj0: '',\r\n            porcentaje0: 0,\r\n\r\n            msj_imagen1: '',\r\n            file1: '',\r\n            muyPesado1: '',\r\n            pesoArchivo1: '',\r\n            msj1: '',\r\n            porcentaje1: 0,\r\n\r\n            msj_imagen2: '',\r\n            file2: '',\r\n            muyPesado2: '',\r\n            pesoArchivo2: '',\r\n            msj2: '',\r\n            porcentaje2: 0,\r\n\r\n            msj_imagen3: '',\r\n            file3: '',\r\n            muyPesado3: '',\r\n            pesoArchivo3: '',\r\n            msj3: '',\r\n            porcentaje3: 0,\r\n\r\n            msj_imagen4: '',\r\n            file4: '',\r\n            muyPesado4: '',\r\n            pesoArchivo4: '',\r\n            msj4: '',\r\n            porcentaje4: 0,\r\n\r\n            msjError: 'La imagen que intenta cargar es muy pesada, verifique por favor.',\r\n\r\n            msj_imagen: '',\r\n\r\n            id_check1: '',\r\n            id_check2: '',\r\n            id_check3: '',\r\n            id_check4: '',\r\n            id_input1: '',\r\n            id_input2: '',\r\n            id_input3: '',\r\n            id_input4: '',\r\n            id_opcion1: '',\r\n            id_opcion2: '',\r\n            id_opcion3: '',\r\n            id_opcion4: '',\r\n\r\n            img_db0: '',\r\n            img_db1: '',\r\n            img_db2: '',\r\n            img_db3: '',\r\n            img_db4: '',\r\n\r\n            txt_boton: 'Guardar pregunta y opciones',\r\n            color_boton: 'success',\r\n            tipo_accion: 1, //1-guardar - 2-editar\r\n            modalImagen: false,\r\n            imagen_a_mostrar: '',\r\n            view_op: 1,\r\n            ruta_images:'archivos/images/imagenes_juegos/seleccionSimple/',\r\n        }\r\n    },\r\n    components: {\r\n        'v-select': vSelect,\r\n        flatPickr,\r\n    },\r\n    created() {\r\n        let me = this\r\n    },\r\n    mounted() {\r\n        let me = this\r\n        me.asignaturaSelected = {\r\n            id: localStorage.idasignatura,\r\n            label: localStorage.nombreasignatura\r\n        }\r\n        me.usuario = JSON.parse(localStorage.getItem('usuario'))\r\n        // console.log( me.usuario )\r\n        me.tipoUsuario = me.usuario.id_group\r\n        me.id_tipo_juego = localStorage.getItem('id_tipo_juego')\r\n        if (JSON.parse(localStorage.getItem('data_juego'))) {\r\n            me.juego = JSON.parse(localStorage.getItem('data_juego'))\r\n            me.id_juego = me.juego.id_juego\r\n            me.asignaturaSelected = {\r\n                id: me.juego.temas[0].idasignatura,\r\n                label: me.juego.temas[0].nombreasignatura\r\n            }\r\n        }\r\n        // console.log('id juego->' + me.id_juego)\r\n        me.getTemas()\r\n        me.cargarSelecTemas()\r\n        me.getAsignaturas()\r\n        // me.getPreguntas()\r\n\r\n    },\r\n    methods: {\r\n        cambiaVista() {\r\n            let me = this;\r\n\r\n            me.view_op == 1 ? me.view_op = 2 : me.view_op = 1;\r\n        },\r\n        getAsignaturas() {\r\n            let me = this\r\n            if (me.tipoUsuario === 1) {\r\n                this.$http.get(this.$server_url + 'asignaturasDoc/0').then(res => {\r\n                        me.asignaturas = res.data;\r\n                        me.$vs.loading.close()\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log(error);\r\n                    })\r\n            } else {\r\n                return\r\n            }\r\n        },\r\n        cargarSelecTemas() {\r\n            let me = this\r\n            if (me.juego.temas) {\r\n                for (var i = 0; i < me.juego.temas.length; i++) {\r\n                    me.id_temas.push({\r\n                        id: me.juego.temas[i].id,\r\n                        nombre_tema: me.juego.temas[i].nombre_tema\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        getPreguntas() {\r\n            let me = this\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url + 'pregunta_opciones/' + me.id_juego)\r\n                .then(res => {\r\n                    if (res.data.items != undefined) {\r\n                        me.preguntas = res.data.items;\r\n                    }\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                    console.log(error);\r\n                })\r\n        },\r\n        getTemas() {\r\n            let me = this\r\n\r\n            if (me.asignaturaSelected.id) {\r\n                me.$vs.loading()\r\n                const formData = new FormData();\r\n                formData.append('asignatura', me.asignaturaSelected.id);\r\n                formData.append('unidad', me.unidadSelected.id);\r\n                console.log(me.asignaturaSelected.id, me.unidadSelected.id)\r\n                this.$http.post(this.$server_url + 'temasignunidad', formData).then(res => {\r\n                        //this.$http.get(this.$server_url+'temAsignaruta/'+ me.asignaturaSelected.id).then(res => {\r\n                        me.temas = res.data;\r\n                        console.log(res.data)\r\n                        me.$vs.loading.close()\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log(error);\r\n                    })\r\n            } else {\r\n                return\r\n            }\r\n\r\n        },\r\n\r\n        agregarJuego(tab) {\r\n            let me = this;\r\n            me.juego.fecha_inicio = '2021-01-01 12:00:00';\r\n            me.juego.fecha_fin = '2021-01-01 12:00:00';\r\n            if (me.id_temas === '' || me.juego.nombre_juego === '' || me.juego.descripcion_juego === '' || me.juego.puntos === '' || me.juego.duracion === '' || me.id_temas === undefined || me.juego.nombre_juego === undefined || me.juego.descripcion_juego === undefined || me.juego.puntos === undefined || me.juego.duracion === undefined || me.id_temas.length < 1) {\r\n                me.$vs.notify({\r\n                    text: 'Debe completar todos los campos antes de continuar',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n\r\n            let estado_juego = 1\r\n            if (me.juego.estado_juego === false) {\r\n                estado_juego = 0\r\n            }\r\n\r\n            me.$vs.loading()\r\n            let formData = new FormData();\r\n            formData.append('id_tipo_juego', me.id_tipo_juego);\r\n            formData.append('id_docente', me.usuario.idusuario);\r\n            formData.append('nombre_juego', me.juego.nombre_juego);\r\n            formData.append('descripcion_juego', me.juego.descripcion_juego);\r\n            formData.append('puntos', me.juego.puntos);\r\n            formData.append('duracion', me.juego.duracion);\r\n            formData.append('fecha_inicio', me.juego.fecha_inicio);\r\n            formData.append('fecha_fin', me.juego.fecha_fin);\r\n            formData.append('estado', estado_juego);\r\n            this.$http.post(this.$server_url + 'j_juegos', formData)\r\n                .then(res => {\r\n                    me.id_juego = res.data.id_juego\r\n                    me.guardarTemasJuego()\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        editarJuego() {\r\n            let me = this;\r\n            me.juego.fecha_inicio = '2021-01-01 12:00:00';\r\n            me.juego.fecha_fin = '2021-01-01 12:00:00';\r\n            if (me.id_temas === '' || me.juego.nombre_juego === '' || me.juego.descripcion_juego === '' || me.juego.puntos === '' || me.juego.duracion === '' || me.id_temas === undefined || me.juego.nombre_juego === undefined || me.juego.descripcion_juego === undefined || me.juego.puntos === undefined || me.juego.duracion === undefined || me.id_temas.length < 1) {\r\n                me.$vs.notify({\r\n                    text: 'Debe completar todos los campos antes de continuar',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n\r\n            let estado_juego = 1\r\n            if (me.juego.estado_juego === false) {\r\n                estado_juego = 0\r\n            }\r\n            me.$vs.loading()\r\n\r\n            let formData = new FormData();\r\n            formData.append('id_juego', me.id_juego);\r\n            formData.append('id_tipo_juego', me.id_tipo_juego);\r\n            formData.append('id_docente', me.usuario.idusuario);\r\n            formData.append('nombre_juego', me.juego.nombre_juego);\r\n            formData.append('descripcion_juego', me.juego.descripcion_juego);\r\n            formData.append('puntos', me.juego.puntos);\r\n            formData.append('duracion', me.juego.duracion);\r\n            formData.append('fecha_inicio', me.juego.fecha_inicio);\r\n            formData.append('fecha_fin', me.juego.fecha_fin);\r\n            formData.append('estado', estado_juego);\r\n            this.$http.post(this.$server_url + 'j_juegos', formData)\r\n                .then(res => {\r\n                    me.$vs.loading.close()\r\n                    me.eliminarTemasJuego()\r\n                    me.getPreguntas()\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        eliminarTemasJuego() {\r\n            let me = this\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url + 'eliminarTemasJuego/' + me.id_juego)\r\n                .then(res => {\r\n                    me.$vs.loading.close()\r\n                    me.guardarTemasJuego()\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        guardarTemasJuego() {\r\n            let me = this\r\n            me.$vs.loading()\r\n            let temas_vector = []\r\n\r\n            for (var i = 0; i < me.id_temas.length; i++) {\r\n                temas_vector.push(me.id_temas[i].id)\r\n            }\r\n\r\n            let formData = new FormData();\r\n            formData.append('id_juego', me.id_juego);\r\n            formData.append('id_temas', temas_vector);\r\n            this.$http.post(this.$server_url + 'guardarTemasJuego', formData)\r\n                .then(res => {\r\n                    me.$vs.loading.close()\r\n                    me.tabActivo = 2\r\n                    me.datos_crear_juego = {}\r\n                    me.editarPregActivo = false\r\n                    me.pintartab(2)\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        verPregunta(item) {\r\n            let me = this\r\n            me.editarPregActivo = true\r\n            me.datos_crear_juego = {}\r\n            me.datos_crear_juego = item\r\n        },\r\n        quitarArchivo(num) {\r\n            let me = this;\r\n            if (num == 0) {\r\n                window.$(\"#file0\").val('')\r\n                me.file0 = {};\r\n                me.msj0 = '';\r\n            }\r\n            if (num == 1) {\r\n                window.$(\"#file1\").val('')\r\n                me.file1 = '';\r\n                me.msj1 = '';\r\n            }\r\n            if (num == 2) {\r\n                window.$(\"#file2\").val('')\r\n                me.file2 = '';\r\n                me.msj2 = '';\r\n            }\r\n            if (num == 3) {\r\n                window.$(\"#file3\").val('')\r\n                me.file3 = '';\r\n                me.msj3 = '';\r\n            }\r\n            if (num == 4) {\r\n                window.$(\"#file4\").val('')\r\n                me.file4 = '';\r\n                me.msj4 = '';\r\n            }\r\n\r\n        },\r\n        imagenPregunta(num) {\r\n            let me = this;\r\n            if (num == 0) {\r\n                me.msj0 = '';\r\n                me.porcentaje0 = 0;\r\n                me.pesoArchivo0 = 0;\r\n                me.muyPesado0 = false;\r\n                me.file0 = me.$refs.file0.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo0 = (me.file0.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo0 > me.limiteMegas) {\r\n                    me.muyPesado0 = true;\r\n                    me.msj0 = me.msjError;\r\n                }\r\n            }\r\n            if (num == 1) {\r\n                me.msj1 = '';\r\n                me.porcentaje1 = 0;\r\n                me.pesoArchivo1 = 0;\r\n                me.muyPesado1 = false;\r\n                me.file1 = me.$refs.file1.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo1 = (me.file1.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo1 > me.limiteMegas) {\r\n                    me.muyPesado1 = true;\r\n                    me.msj1 = me.msjError;\r\n                }\r\n            }\r\n            if (num == 2) {\r\n                me.msj2 = '';\r\n                me.porcentaje2 = 0;\r\n                me.pesoArchivo2 = 0;\r\n                me.muyPesado2 = false;\r\n                me.file2 = me.$refs.file2.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo2 = (me.file2.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo2 > me.limiteMegas) {\r\n                    me.muyPesado2 = true;\r\n                    me.msj2 = me.msjError;\r\n                }\r\n            }\r\n            if (num == 3) {\r\n                me.msj3 = '';\r\n                me.porcentaje3 = 0;\r\n                me.pesoArchivo3 = 0;\r\n                me.muyPesado3 = false;\r\n                me.file3 = me.$refs.file3.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo3 = (me.file3.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo3 > me.limiteMegas) {\r\n                    me.muyPesado3 = true;\r\n                    me.msj3 = me.msjError;\r\n                }\r\n            }\r\n            if (num == 4) {\r\n                me.msj4 = '';\r\n                me.porcentaje4 = 0;\r\n                me.pesoArchivo4 = 0;\r\n                me.muyPesado4 = false;\r\n                me.file4 = me.$refs.file4.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo4 = (me.file4.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo4 > me.limiteMegas) {\r\n                    me.muyPesado4 = true;\r\n                    me.msj4 = me.msjError;\r\n                }\r\n            }\r\n        },\r\n        verificarDatos() {\r\n            let me = this\r\n            me.msj_pregunta = '';\r\n            me.msj_op_1 = '';\r\n            me.msj_op_2 = '';\r\n            if (me.j_juego_contenido.pregunta == '' && me.file0 == '' && me.img_db0 == '') {\r\n                me.msj_pregunta = 'Ingrese una pregunta o seleccione una imagen.';\r\n                me.$vs.notify({\r\n                    text: 'Ingrese una pregunta o seleccione una imagen.',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            if (me.muyPesado0 || me.muyPesado1 || me.muyPesado2 || me.muyPesado3 || me.muyPesado4) {\r\n                me.$vs.notify({\r\n                    time: 5000,\r\n                    text: 'El archivo que intenta subir, excede el peso permitido, verifique antes de continuar.',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            if (me.id_input1 == '' && me.file1 == '' && me.img_db1 == '') {\r\n                me.msj_op_1 = 'Ingrese la primera opción de respuesta o seleccione una imagen.';\r\n                me.$vs.notify({\r\n                    text: 'Ingrese la primera opción de respuesta o seleccione una imagen.',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            if (me.id_input2 == '' && me.file2 == '' && me.img_db2 == '') {\r\n                me.msj_op_2 = 'Ingrese la primera opción de respuesta o seleccione una imagen.';\r\n                me.$vs.notify({\r\n                    text: 'Ingrese la segunda opción de respuesta o seleccione una imagen.',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            if (me.id_check1 == false && me.id_check2 == false && me.id_check3 == false && me.id_check4 == false) {\r\n                me.$vs.notify({\r\n                    text: 'Seleccione almenos una respuesta correcta',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            me.cargarPreguntas();\r\n        },\r\n        cargarPreguntas() {\r\n            let me = this\r\n            // console.log(me.id_opcion3, me.id_opcion4)\r\n            // return\r\n            me.$vs.loading()\r\n            let formData = new FormData();\r\n            formData.append('id_contenido_juego', me.j_juego_contenido.id_contenido_juego);\r\n            formData.append('id_juego', me.id_juego);\r\n            formData.append('pregunta', me.j_juego_contenido.pregunta);\r\n            formData.append('img_pregunta', me.file0);\r\n            formData.append('id_opcion1', me.id_opcion1);\r\n            formData.append('id_opcion2', me.id_opcion2);\r\n            formData.append('id_opcion3', me.id_opcion3);\r\n            formData.append('id_opcion4', me.id_opcion4);\r\n            formData.append('img_opcion1', me.file1);\r\n            formData.append('img_opcion2', me.file2);\r\n            formData.append('img_opcion3', me.file3);\r\n            formData.append('img_opcion4', me.file4);\r\n            formData.append('check1', me.id_check1 == true ? '1' : '0');\r\n            formData.append('check2', me.id_check2 == true ? '1' : '0');\r\n            formData.append('check3', me.id_check3 == true ? '1' : '0');\r\n            formData.append('check4', me.id_check4 == true ? '1' : '0');\r\n            formData.append('input1', me.id_input1);\r\n            formData.append('input2', me.id_input2);\r\n            formData.append('input3', me.id_input3);\r\n            formData.append('input4', me.id_input4);\r\n            console.log('me.id_juego', me.id_juego)\r\n\r\n            //ruta local\r\n            // this.$http.post(this.$server_url + 'saveSeleccion', formData)\r\n            //ruta produccion\r\n            axios.post(this.$data_url+'api/saveSeleccion', formData)\r\n                .then(res => {\r\n                    // console.log(res.data)\r\n                    me.$vs.loading.close()\r\n                    me.getPreguntas();\r\n                    // me.j_juego_contenido.imagen = res.data.imagen\r\n                    me.file0 = '';\r\n                    window.$(\"#file0\").val('');\r\n                    me.file1 = '';\r\n                    window.$(\"#file1\").val('');\r\n                    me.file2 = '';\r\n                    window.$(\"#file2\").val('');\r\n                    me.file3 = '';\r\n                    window.$(\"#file3\").val('');\r\n                    me.file4 = '';\r\n                    window.$(\"#file4\").val('');\r\n                    me.vaciar();\r\n                    me.txt_boton = 'Guardar pregunta y opciones';\r\n                    me.color_boton = 'success'\r\n\r\n                    var msj_accion = '';\r\n                    me.tipo_accion == 1 ? msj_accion = 'Contenido registrado correctamente. ' : msj_accion = 'Contenido actualizado correctamente. '\r\n                    me.$vs.notify({\r\n                        text: msj_accion,\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.tipo_accion = 1; // por defecto en opcion guardar\r\n                    me.cambiaVista();\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        editarPreguntaJuego(num, item) {\r\n            let me = this\r\n            me.vaciar();\r\n            console.log(item)\r\n            me.cambiaVista();\r\n            me.txt_boton = 'Editar pregunta y opciones';\r\n            me.color_boton = 'warning';\r\n            me.tipo_accion = 2; // cambia mensaje al editar\r\n            me.j_juego_contenido.id_contenido_juego = item.pregunta.id_contenido_juego\r\n            me.j_juego_contenido.pregunta = item.pregunta.pregunta != null ? item.pregunta.pregunta : '';\r\n            me.img_db0 = item.pregunta.imagen == null ? '' : item.pregunta.imagen;\r\n\r\n            // return\r\n            if (item.opciones[0] != undefined) {\r\n                me.img_db1 = item.opciones[0].imagen_opcion == null ? '' : item.opciones[0].imagen_opcion;\r\n                me.id_opcion1 = item.opciones[0].id_opcion_contenido != null ? item.opciones[0].id_opcion_contenido : '';\r\n                me.id_check1 = item.opciones[0].tipo_opcion != null ? item.opciones[0].tipo_opcion : '';\r\n                me.id_input1 = item.opciones[0].nombre_opcion != null ? item.opciones[0].nombre_opcion : '';\r\n            }\r\n\r\n            if (item.opciones[1] != undefined) {\r\n                me.img_db2 = item.opciones[1].imagen_opcion != null ? item.opciones[1].imagen_opcion : '';\r\n                me.id_opcion2 = item.opciones[1].id_opcion_contenido != null ? item.opciones[1].id_opcion_contenido : '';\r\n                me.id_check2 = item.opciones[1].tipo_opcion != null ? item.opciones[1].tipo_opcion : '';\r\n                me.id_input2 = item.opciones[1].nombre_opcion != null ? item.opciones[1].nombre_opcion : '';\r\n            }\r\n\r\n            if (item.opciones[2] != undefined) {\r\n                me.img_db3 = item.opciones[2].imagen_opcion != null ? item.opciones[2].imagen_opcion : '';\r\n                me.id_opcion3 = item.opciones[2].id_opcion_contenido != null ? item.opciones[2].id_opcion_contenido : '';\r\n                me.id_check3 = item.opciones[2].tipo_opcion != null ? item.opciones[2].tipo_opcion : '';\r\n                me.id_input3 = item.opciones[2].nombre_opcion != null ? item.opciones[2].nombre_opcion : '';\r\n            }\r\n\r\n            if (item.opciones[3] != undefined) {\r\n                me.img_db4 = item.opciones[3].imagen_opcion != null ? item.opciones[3].imagen_opcion : '';\r\n                me.id_opcion4 = item.opciones[3].id_opcion_contenido != null ? item.opciones[3].id_opcion_contenido : '';\r\n                me.id_check4 = item.opciones[3].tipo_opcion != null ? item.opciones[3].tipo_opcion : '';\r\n                me.id_input4 = item.opciones[3].nombre_opcion != null ? item.opciones[3].nombre_opcion : '';\r\n            }\r\n            console.log(me.file1, me.img_db2)\r\n            // console.log('id-pregunta ' + me.j_juego_contenido.id_contenido_juego, 'op1 ' + me.id_opcion1, 'op2 ' + me.id_opcion2, 'op3 ' + me.id_opcion3, 'op4 ' + me.id_opcion4, 'img1 '+ me.img_db1)\r\n        },\r\n        deleteImagen(item, val, id_update) {\r\n            let me = this;\r\n            let formData = new FormData();\r\n            me.$vs.loading();\r\n            if (val == 0) {\r\n                // 0 -> actualiza el campo imagen de la pregunta, de la tabla j_contenido_juegos\r\n                formData.append('edita_id_pregunta', id_update);\r\n            } else {\r\n                // 0 -> actualiza el campo imagen de la opcion seleccionada, de la tabla j_opciones_contenidos\r\n                formData.append('edita_id_opcion', id_update);\r\n            }\r\n            formData.append('img_eliminar', item); //nombre de la imagen a eliminar, de la base y del public\r\n            console.log(item, val, id_update)\r\n            this.$http.post(this.$server_url + 'deleteImagen', formData)\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    val == 0 ? me.img_db0 = '' : val == 1 ? me.img_db1 = '' : val == 2 ? me.img_db2 = '' : val == 3 ? me.img_db3 = '' : me.img_db4 = '';\r\n                    console.log(me.img_db0, me.img_db1, me.img_db2, me.img_db3, me.img_db4)\r\n                    me.getPreguntas();\r\n                    me.$vs.notify({\r\n                        text: 'la imagen ha sido quitada.',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check',\r\n                    })\r\n                    me.$vs.loading.close();\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                    me.$vs.loading.close();\r\n                })\r\n        },\r\n        vaciar() {\r\n            let me = this;\r\n            //vaciar los ids de imagenes, inputs, checks para edicion y eliminar \r\n            me.j_juego_contenido.pregunta = '';\r\n            me.j_juego_contenido.id_contenido_juego = '';\r\n            me.id_check1 = '';\r\n            me.id_check2 = '';\r\n            me.id_check3 = '';\r\n            me.id_check4 = '';\r\n            me.id_input1 = '';\r\n            me.id_input2 = '';\r\n            me.id_input3 = '';\r\n            me.id_input4 = '';\r\n            me.id_opcion1 = '';\r\n            me.id_opcion2 = '';\r\n            me.id_opcion3 = '';\r\n            me.id_opcion4 = '';\r\n            me.img_db0 = '';\r\n            me.img_db1 = '';\r\n            me.img_db2 = '';\r\n            me.img_db3 = '';\r\n            me.img_db4 = '';\r\n        },\r\n        mostrarImagen(item) {\r\n            let me = this;\r\n            me.imagen_a_mostrar = item;\r\n            me.modalImagen = true;\r\n        },\r\n        eliminarPreguntaJuego() {\r\n            let me = this\r\n            this.$http.delete(this.$server_url + 'j_contenidos/' + me.datos_crear_juego.id_contenido_juego)\r\n                .then(res => {\r\n                    me.$vs.loading.close()\r\n                    me.getPreguntas()\r\n                    me.datos_crear_juego = {}\r\n                    me.editarPregActivo = false\r\n                    me.$vs.notify({\r\n                        text: 'Eliminado correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        getFicha() {\r\n            let me = this\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url + 'j_juegos/' + me.id_juego)\r\n                .then(res => {\r\n                    me.datos_ficha = res.data[0];\r\n\r\n                    $.each(me.datos_ficha, function (key, value) {\r\n                        // console.log('key: ' + me.datos_ficha[key]+' _ value: '+value)\r\n                        if (value == 'null' || value == null || value == '') {\r\n                            me.datos_ficha[key] = ''\r\n                        }\r\n                    });\r\n\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {})\r\n        },\r\n        guardarFicha() {\r\n            let me = this\r\n            let formData = new FormData();\r\n            formData.append('id_juego', me.id_juego);\r\n            formData.append('bloque_curricular', me.datos_ficha.bloque_curricular);\r\n            formData.append('grado', me.datos_ficha.grado);\r\n            formData.append('destrezas', me.datos_ficha.destrezas);\r\n            formData.append('habilidades', me.datos_ficha.habilidades);\r\n            formData.append('elaborado_por', me.datos_ficha.elaborado_por);\r\n            formData.append('consigna', me.datos_ficha.consigna);\r\n            formData.append('intencion_didactica', me.datos_ficha.intencion_didactica);\r\n            formData.append('consideraciones', me.datos_ficha.consideraciones);\r\n            this.$http.post(this.$server_url + 'j_juegos_ficha', formData)\r\n                .then(res => {\r\n                    me.$vs.loading.close()\r\n                    me.$vs.notify({\r\n                        text: 'Ficha guardada correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.$router.go(-1)\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        pintartab(n) {\r\n            for (var i = 1; i < 4; i++) {\r\n                $(\"#btnNav\" + i).removeClass(\"btnwizardSelect\");\r\n                $(\"#btnNav\" + i).addClass(\"btnwizard\");\r\n            }\r\n            $(\"#btnNav\" + n).removeClass(\"btnwizard\");\r\n            $(\"#btnNav\" + n).addClass(\"btnwizardSelect\");\r\n            /*document.getElementById('btnNav'+n).style.background = 'red'\r\n            document.getElementById('btnNav'+n).style.color = 'white'*/\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n.btnwizard {\r\n    width: 65px;\r\n    height: 65px;\r\n    font-size: 22px;\r\n    padding: 0px;\r\n    border-radius: 100%;\r\n    border: 2px solid rgb(29, 90, 182);\r\n    background-color: white;\r\n    color: rgb(29, 90, 182);\r\n}\r\n\r\n.btnwizardSelect {\r\n    width: 65px;\r\n    height: 65px;\r\n    font-size: 22px;\r\n    padding: 0px;\r\n    border-radius: 100%;\r\n    border: 2px solid rgb(29, 90, 182);\r\n    background-color: rgb(29, 90, 182);\r\n    color: white;\r\n}\r\n\r\n.preguntasList:hover {\r\n    color: rgb(36, 87, 226);\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n}\r\n\r\n.borde-unidad {\r\n    border: 1px dashed #ccc;\r\n    /* display: inline-block; */\r\n    padding: 6px;\r\n    cursor: pointer;\r\n}\r\n</style>\r\n"]}]}