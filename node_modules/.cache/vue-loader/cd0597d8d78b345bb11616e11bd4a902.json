{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\contenidos\\contenidos.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\contenidos\\contenidos.vue","mtime":1712682815705},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport {\r\n    mapState\r\n} from 'vuex'\r\nimport DataViewSidebar from './nuevo'\r\nimport DataViewSidebarEditar from './editar'\r\nexport default {\r\n    components: {\r\n        DataViewSidebar,\r\n        DataViewSidebarEditar\r\n    },\r\n    computed: {\r\n        ...mapState(['contenidos'])\r\n    },\r\n    data: () => ({\r\n        valorBusqueda:'0',\r\n        busqueda:\"asignatura\",\r\n        razonBusqueda:\"\",\r\n        sidebarData: {},\r\n        sidebarDataEditar: {},\r\n        addNewDataSidebar: false,\r\n        addNewDataSidebarEditar: false,\r\n        cont: {},\r\n        id:0,\r\n    }),\r\n    mounted() {\r\n      \r\n    },\r\n    methods: {\r\n        busquedaFiltroContenido(){\r\n            let me = this;\r\n            \r\n            localStorage.setItem('contenidoBusqueda',me.busqueda)\r\n            localStorage.setItem('contenidorazonBusqueda',me.razonBusqueda)\r\n\r\n            if(me.razonBusqueda.length < 4){\r\n                  me.$vs.notify({\r\n                  text:'Criterio de busqueda minimo 4 letras',\r\n                  color:'warning',\r\n                  iconPack: 'feather',\r\n                  icon:'icon-check'})\r\n                return false;\r\n            }\r\n\r\n            if(me.razonBusqueda.length > 25){\r\n                  me.$vs.notify({\r\n                  text:'Criterio de busqueda maximo 25 letras',\r\n                  color:'warning',\r\n                  iconPack: 'feather',\r\n                  icon:'icon-check'})\r\n                return false;\r\n            }\r\n            \r\n            me.$store.dispatch('getContenido')\r\n      \r\n        },\r\n        addNewData() {\r\n            this.sidebarData = {}\r\n            this.toggleDataSidebar(true)\r\n        },\r\n        addNewDataEditar(tr) {\r\n            this.sidebarDataEditar = {}\r\n            console.log(tr);\r\n            this.cont = tr;\r\n            this.toggleDataSidebarEditar(true)\r\n        },\r\n        toggleDataSidebar(val = false) {\r\n            this.addNewDataSidebar = val\r\n        },\r\n        toggleDataSidebarEditar(val = false) {\r\n            this.addNewDataSidebarEditar = val\r\n        },\r\n\r\n        openConfirm(id,nombre){\r\n            let me  = this;\r\n            me.id = id\r\n  \r\n            this.$vs.dialog({\r\n                type:'confirm',\r\n                color: 'danger',\r\n                title: `Confirm`,\r\n                text: 'Está seguro en eliminar este registro, el archivo '+nombre+' NO SERÁ ELIMINADO DEL SERVIDOR.',\r\n                accept:this.getEliminar\r\n            })\r\n        },\r\n\r\n        getEliminar(id) {\r\n            let me = this;\r\n            console.log(id)\r\n            this.$http.delete(this.$server_url+\"contenido/\" + me.id)\r\n            \r\n                .then(function (response) {\r\n                    me.$vs.notify({\r\n                        color: 'warning',\r\n                        text: 'Registro eliminado'\r\n                    })\r\n                    me.$store.dispatch('getContenido')\r\n                })\r\n                .catch(function (error) {})\r\n        }\r\n    },\r\n}\r\n",{"version":3,"sources":["contenidos.vue"],"names":[],"mappings":";AAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"contenidos.vue","sourceRoot":"src/views/contenidos","sourcesContent":["<template>\r\n<div>\r\n    <data-view-sidebar :isSidebarActive=\"addNewDataSidebar\" @closeSidebar=\"toggleDataSidebar\" :data=\"sidebarData\" />\r\n    <data-view-sidebar-editar :isSidebarActive=\"addNewDataSidebarEditar\" @closeSidebar=\"toggleDataSidebarEditar\" :data=\"sidebarDataEditar\" :contenido=\"cont\" />\r\n\r\n    <vs-row vs-justify=\"flex-start\">\r\n                <vs-col type=\"flex\" vs-justify=\"flex-start\" vs-align=\"flex-start\" class=\"m-2\" vs-w=\"12\">\r\n                 \r\n                    <vs-card>\r\n                        <p>Filtro de búsqueda</p>\r\n                         <br/> <br/>\r\n    \r\n                        <div style=\"\">\r\n                          \r\n                            <vs-input class=\"w-full\" icon-after=\"true\" label-placeholder=\"icon-after\" style=\"margin:0px 0px 20px 0px;\"  icon=\"search\" placeholder=\"Ingrese el criterio de búsqueda\"  v-model=\"razonBusqueda\"/>\r\n                        </div>\r\n                        \r\n                    \r\n\r\n                        <div style=\"\">\r\n                        \r\n                            <ul class=\"leftx\" style=\"display:flex;margin:0px 0px 0px 20px;\">\r\n                                <li class=\"modelx\">\r\n                        \r\n                                </li>\r\n                                <li style=\"margin:10px 20px 0px 0px;\">\r\n                                \r\n                                <vs-radio vs-name=\"radios1\" vs-value=\"0\" v-model=\"valorBusqueda\" @input=\"busqueda='asignatura'\">Asignatura</vs-radio>\r\n                                </li>\r\n                                <li style=\"margin:10px 10px 0px 0px;\">\r\n                                <vs-radio vs-name=\"radios1\" vs-value=\"1\" v-model=\"valorBusqueda\"  @input=\"busqueda='archivo'\">Nombre archivo</vs-radio>\r\n                                </li>\r\n\r\n                                <li>\r\n                                    <vs-button color=\"warning\" type=\"filled\" style=\"margin-left:10px;\" @click=\"busquedaFiltroContenido();\" icon=\"search\"></vs-button>\r\n                                </li>\r\n\r\n\r\n                            \r\n                            </ul>\r\n                        </div>    \r\n                    </vs-card>\r\n                </vs-col>\r\n\r\n           \r\n    </vs-row>\r\n\r\n\r\n    <div v-if=\"contenidos.length > 0\">\r\n        <vx-card title=\"Contenidos\">\r\n            <vs-table stripe max-items=\"10\" search pagination :data=\"contenidos\">\r\n                <template slot=\"header\">\r\n                    <vs-button color=\"primary\" type=\"border\" @click=\"addNewData\" icon-pack=\"feather\" icon=\"icon-plus\">Agregar</vs-button>\r\n                    <p style=\"margin:0px 0px 0px 20px;\"> \r\n                        <vs-chip transparent color=\"primary\">\r\n                            Cantidad:\r\n                            <span style=\"font-weight:bold;margin-left:5px;\"> {{ contenidos.length }}</span>\r\n                        </vs-chip>\r\n                \r\n                    </p>\r\n                </template>\r\n            \r\n                <template slot=\"thead\">\r\n                    <vs-th>Nombres</vs-th>\r\n                    <vs-th>Temas</vs-th>\r\n                    <vs-th>Asignatura</vs-th>\r\n                    <vs-th>Unidad</vs-th>\r\n                    <vs-th>Acciones</vs-th>\r\n                </template>\r\n                <template slot-scope=\"{data}\">\r\n                    <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                        <vs-td :data=\"tr.nombre\">\r\n                            <vs-list-item :subtitle=\"tr.nombre\"></vs-list-item>\r\n                        </vs-td>\r\n                        <template v-if=\"tr.temas.length > 0\">\r\n                            <vs-td :data=\"tr.temas\">\r\n                                <vs-chip color=\"primary\" :key=\"index\" v-for=\"(item,index) in tr.temas\">\r\n                                    {{item.nombre_tema}}\r\n                                </vs-chip>\r\n                            </vs-td>\r\n                        </template>\r\n                        <template v-else>\r\n                            <vs-td :data=\"tr.temas\">\r\n                                <vs-chip color=\"warning\" active=\"true\">\r\n                                    Sin Temas\r\n                                </vs-chip>\r\n                            </vs-td>\r\n                        </template>\r\n                        <vs-td :data=\"tr.asignatura\">\r\n                            {{tr.asignatura}}\r\n                        </vs-td>\r\n                        <vs-td :data=\"tr.unidad\">\r\n                            {{tr.unidad}}\r\n                        </vs-td>\r\n                        <vs-td :data=\"tr\">\r\n                            <div class=\"flex\">\r\n                                <vs-button type=\"border\" size=\"small\" icon-pack=\"feather\" icon=\"icon-edit\" class=\"mr-2\" color=\"success\" @click=\"addNewDataEditar(tr)\"></vs-button>\r\n                                <vs-button type=\"border\" size=\"small\" icon-pack=\"feather\" icon=\"icon-trash\" class=\"mr-2\" color=\"danger\" @click=\"openConfirm(tr.idcontenido,tr.nombre)\"></vs-button>\r\n                            </div>\r\n                        </vs-td>\r\n                    </vs-tr>\r\n                </template>\r\n            </vs-table>\r\n        </vx-card>\r\n    </div>\r\n\r\n    <div>\r\n        <vs-card>\r\n              <p>No hay contenidos</p>\r\n        </vs-card>\r\n      \r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    mapState\r\n} from 'vuex'\r\nimport DataViewSidebar from './nuevo'\r\nimport DataViewSidebarEditar from './editar'\r\nexport default {\r\n    components: {\r\n        DataViewSidebar,\r\n        DataViewSidebarEditar\r\n    },\r\n    computed: {\r\n        ...mapState(['contenidos'])\r\n    },\r\n    data: () => ({\r\n        valorBusqueda:'0',\r\n        busqueda:\"asignatura\",\r\n        razonBusqueda:\"\",\r\n        sidebarData: {},\r\n        sidebarDataEditar: {},\r\n        addNewDataSidebar: false,\r\n        addNewDataSidebarEditar: false,\r\n        cont: {},\r\n        id:0,\r\n    }),\r\n    mounted() {\r\n      \r\n    },\r\n    methods: {\r\n        busquedaFiltroContenido(){\r\n            let me = this;\r\n            \r\n            localStorage.setItem('contenidoBusqueda',me.busqueda)\r\n            localStorage.setItem('contenidorazonBusqueda',me.razonBusqueda)\r\n\r\n            if(me.razonBusqueda.length < 4){\r\n                  me.$vs.notify({\r\n                  text:'Criterio de busqueda minimo 4 letras',\r\n                  color:'warning',\r\n                  iconPack: 'feather',\r\n                  icon:'icon-check'})\r\n                return false;\r\n            }\r\n\r\n            if(me.razonBusqueda.length > 25){\r\n                  me.$vs.notify({\r\n                  text:'Criterio de busqueda maximo 25 letras',\r\n                  color:'warning',\r\n                  iconPack: 'feather',\r\n                  icon:'icon-check'})\r\n                return false;\r\n            }\r\n            \r\n            me.$store.dispatch('getContenido')\r\n      \r\n        },\r\n        addNewData() {\r\n            this.sidebarData = {}\r\n            this.toggleDataSidebar(true)\r\n        },\r\n        addNewDataEditar(tr) {\r\n            this.sidebarDataEditar = {}\r\n            console.log(tr);\r\n            this.cont = tr;\r\n            this.toggleDataSidebarEditar(true)\r\n        },\r\n        toggleDataSidebar(val = false) {\r\n            this.addNewDataSidebar = val\r\n        },\r\n        toggleDataSidebarEditar(val = false) {\r\n            this.addNewDataSidebarEditar = val\r\n        },\r\n\r\n        openConfirm(id,nombre){\r\n            let me  = this;\r\n            me.id = id\r\n  \r\n            this.$vs.dialog({\r\n                type:'confirm',\r\n                color: 'danger',\r\n                title: `Confirm`,\r\n                text: 'Está seguro en eliminar este registro, el archivo '+nombre+' NO SERÁ ELIMINADO DEL SERVIDOR.',\r\n                accept:this.getEliminar\r\n            })\r\n        },\r\n\r\n        getEliminar(id) {\r\n            let me = this;\r\n            console.log(id)\r\n            this.$http.delete(this.$server_url+\"contenido/\" + me.id)\r\n            \r\n                .then(function (response) {\r\n                    me.$vs.notify({\r\n                        color: 'warning',\r\n                        text: 'Registro eliminado'\r\n                    })\r\n                    me.$store.dispatch('getContenido')\r\n                })\r\n                .catch(function (error) {})\r\n        }\r\n    },\r\n}\r\n</script>\r\n"]}]}