{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\temporadas\\components\\exportActaGuias.vue?vue&type=style&index=0&id=2bd601ec&scoped=true&lang=css","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\temporadas\\components\\exportActaGuias.vue","mtime":1712682816600},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\n.html2canvas-container { width: 3000px !important; height: 3000px !important; }\r\n*{\r\n    font-family: Arial;\r\n}\r\n#ultimo-elemento {\r\n    margin-top: 300px;\r\n}\r\n.letra{\r\n    padding:0px 60px 0px 0px;\r\n    font-size: 11px;\r\n    margin-left: 35px;\r\n}\r\n.letra2{\r\n    font-size: 12px;\r\n}\r\n.letra3{\r\n    display: flex;\r\n    font-size: 11px;\r\n    margin-left: 35px;\r\n}\r\n.letra4{\r\n    margin-top: 15px;\r\n    margin-left: 55px;\r\n    font-size: 11px;\r\n}\r\n.letra5{\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n    width: 90%;\r\n    margin-left: 35px;\r\n    font-size: 11px;\r\n    margin-top: 105px;\r\n}\r\n.tabla1 {\r\n  table-layout: fixed;\r\n  width: 95%;\r\n  border-collapse: collapse;\r\n  border: none;\r\n  margin-left: 15px;\r\n}\r\n.tabla2{\r\n    table-layout: fixed;\r\n    width: 90%;\r\n    border-collapse: collapse;\r\n    border: none;\r\n    font-size: 11px;\r\n    margin-top: 15px;\r\n\r\n}\r\n.sp25{\r\n    margin-top: 25px;\r\n}\r\n.sp55{\r\n    margin-top: 55px;\r\n}\r\n.-mt20{\r\n    margin-top: -20px;\r\n}\r\n@media print {\r\n    td {page-break-before: always;}\r\n    p  {page-break-before: always;}\r\n}\r\n.encabezado ,td,th {\r\n    border: 1px solid rgb(227, 227, 227);\r\n    text-align: center;\r\n    border-spacing: 0;\r\n}\r\n.rotar{\r\n    font-size: 8px;\r\n    /* writing-mode: vertical-lr;\r\n     transform: rotate(180deg); */\r\n}\r\n.font1{\r\n    font-size: 8px;\r\n}\r\n",{"version":3,"sources":["exportActaGuias.vue"],"names":[],"mappings":";AAyOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"exportActaGuias.vue","sourceRoot":"src/views/temporadas/components","sourcesContent":["<template>\r\n    <div>\r\n        <vx-card id=\"seccionImprimir2\">\r\n            <h5 class=\"text-center font-bold\">PROMOCIÓN DE VENTAS</h5>\r\n            <h5 class=\"text-center font-bold mt-2\">ACTA DE ENTREGA</h5>\r\n            <h6 class=\"text-right font-bold -mt20\">{{ pedido.ven_codigo }}</h6>\r\n            <div class=\"flex sp55\" style=\"width: 100%;\">\r\n                <div style=\"width: 50%;\">\r\n                    <p class=\"letra2\">Quito, {{ mesd }}, {{ day }} de {{ mes }} del {{ year }}</p>\r\n                </div>\r\n                <div style=\"width: 33%;\" class=\"flex justify-end\">\r\n                    <p class=\"letra2 font-bold\">Ref:</p>\r\n                </div>\r\n            </div>\r\n            <br>\r\n            <div clas=\"flex\">\r\n                <div style=\"width: 100%;\" class=\"flex letra2\">\r\n                    <div style=\"width: 30%;\">\r\n                        <b>RESPONSABLE:</b>\r\n                    </div>\r\n                    <div style=\"width: 50%;\">\r\n                        <p>{{ pedido.responsable.toUpperCase() }}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div clas=\"flex\">\r\n                <div style=\"width: 100%;\" class=\"flex letra2\">\r\n                    <div style=\"width: 30%;\">\r\n                        <b>CI:</b>\r\n                    </div>\r\n                    <div style=\"width: 40%;\">\r\n                        <p>{{ pedido.cedula }}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <p></p>\r\n            <p class=\"sp25 letra2\">\r\n                Con esta fecha, se procede a la suscripción de la presente Acta de Entrega - Recepción de los productos que se\r\n                otorgan en calidad de <b>OBSEQUIOS SIN COSTO,</b> como parte de la PROMOCIÓN DE VENTAS.\r\n            </p>\r\n            <br>\r\n            <div  v-for=\"(tr,key) in arregloLibros\" :key=\"key\">\r\n                <div  class=\"flex letra2\">\r\n                    <div style=\"width: 17%;\">\r\n                        <p class=\"text-right mr-3\">{{ tr.valor}} </p>\r\n                    </div>\r\n                    <div style=\"width: 80%;\">\r\n                        {{ tr.nombrelibro.toUpperCase() }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"flex letra2\" style=\"justify-content: space-between;margin-top: 30px;width: 100%!important;\">\r\n                <div style=\"width: 50%;\">\r\n                    <p class=\"font-bold\">ENTREGUÉ CONFORME</p>\r\n                </div>\r\n                <div style=\"width: 50%;\">\r\n                    <p class=\"font-bold\">RECIBÍ CONFORME</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"flex letra2\" style=\"justify-content: space-between;margin-top: 110px;width: 100%!important;\">\r\n                <div style=\"width: 50%;\">\r\n                    <p class=\"font-bold\">PROLIPA CIA. LTDA</p>\r\n                </div>\r\n                <div style=\"width: 50%;\">\r\n                    <p>{{ pedido.responsable.toUpperCase() }}</p>\r\n                    <p class=\"font-bold\">VENDEDOR</p>\r\n                </div>\r\n            </div>\r\n            <div id=\"ultimo-elemento\" style=\"font-size: 10px;\">\r\n                <p v-if=\"pedido.facturador !=null\">Por: {{ pedido.facturador.toUpperCase() }}</p>\r\n            </div>\r\n        </vx-card>\r\n        <div class=\"w-full p-2 bg-gray-400 text-center\">\r\n            <vs-button color=\"primary\" @click=\"imprimirEval()\" type=\"border\">Imprimir</vs-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport moment from \"moment\";\r\nimport html2pdf from \"html2pdf.js\"\r\nexport default{\r\n    data(){\r\n        return{\r\n            arregloContrato:[],\r\n            arregloLibros:[],\r\n            day:'',\r\n            mes:'',\r\n            mesd:'',\r\n            year:'',\r\n            anio:'',\r\n            fecha:'',\r\n            telefono:'',\r\n            nombrearchivo:'',\r\n        }\r\n    },\r\n    props:{\r\n        pedido:{\r\n            type:Array,\r\n            default:{},\r\n        },\r\n    },\r\n    created(){\r\n        let me = this;\r\n        moment.lang(\"es\")\r\n        me.day = moment().format('DD');\r\n        me.mes = moment().format('MMMM');\r\n        me.mesd = moment().format('dddd');\r\n        me.year = moment().format('YYYY')\r\n        me.fecha = me.day+'-'+me.mes.substring(0,3)+'-'+me.year\r\n        me.nombrearchivo = me.pedido.ven_codigo+\".pdf\"\r\n        // me.contrato = me.$route.params.id\r\n    },\r\n    mounted(){\r\n        let me = this\r\n        me.getLibros()\r\n    },\r\n    methods:{\r\n        //funcion para obtener el dia de 365\r\n        getDay(){\r\n            const hoy = new Date(); // Crear una instancia del objeto Date\r\n            const año = hoy.getFullYear(); // Obtener el año actual\r\n            const diaDelAño = Math.ceil((hoy - new Date(año, 0, 1)) / 86400000); // Obtener el número del día del año actual (86400000 = número de milisegundos en un día)\r\n            return diaDelAño;\r\n            //console.log(\"Hoy es el día número \" + diaDelAño + \" del año \" + año); // Mostrar el número del día del año actual en la consola\r\n        },\r\n        getLibros(id_pedido){\r\n            let me = this\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url+'get_val_pedidoInfo/'+me.pedido.id_pedido)\r\n            .then(res => {\r\n                me.$vs.loading.close()\r\n                me.$vs.notify({\r\n                text: \"Espere mientras se va generando el archivo...\",\r\n                color: 'primary',\r\n                iconPack: 'feather',\r\n                icon: 'icon-file',\r\n                time:3000\r\n                })\r\n                let librosNormales        = []\r\n                let libroPlanLector       = []\r\n                let getNormalesOrdenado   = []\r\n                let getPlanLectorOrdenado = []\r\n                //proceso\r\n                let datos                 = res.data\r\n                if(datos.length == 0){\r\n                    me.$vs.notify({\r\n                        text: \"No se encontraron libros\",\r\n                        color: 'danger',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-circle',\r\n                        time:2000\r\n                    })\r\n                    return\r\n                }\r\n                librosNormales            = datos.filter(p => p.valor > 0 && p.id_serie != 6)\r\n                libroPlanLector           = datos.filter(p => p.valor > 0 && p.id_serie == 6)\r\n                getNormalesOrdenado       = me.ordenarLibros(librosNormales)\r\n                getPlanLectorOrdenado     = me.ordenarLibros(libroPlanLector)\r\n                //unir array con spread operator\r\n                me.arregloLibros          = [...getNormalesOrdenado,...getPlanLectorOrdenado]\r\n                setTimeout(function() {me.imprimirEval()}, 1000);\r\n            })\r\n            .catch((e) => {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n        ordenarLibros(datos){\r\n          let me = this\r\n          let predatos  = []\r\n          let valores   = []\r\n          predatos = datos.filter(p => p.valor > 0)\r\n          valores = predatos.sort(function(a, b) {\r\n          var nombreA = a.nombrelibro.toLowerCase();\r\n          var nombreB = b.nombrelibro.toLowerCase();\r\n          var numA = parseInt(nombreA.match(/\\d+$/)); // extraer el número del final (si existe)\r\n          var numB = parseInt(nombreB.match(/\\d+$/)); // extraer el número del final (si existe)\r\n          nombreA = nombreA.replace(/\\d+$/, ''); // quitar el número del final\r\n          nombreB = nombreB.replace(/\\d+$/, ''); // quitar el número del final\r\n          if (nombreA < nombreB) {\r\n              return -1;\r\n          }\r\n          if (nombreA > nombreB) {\r\n              return 1;\r\n          }\r\n          if (numA && !numB) { // si a tiene número y b no, b va primero\r\n              return 1;\r\n          }\r\n          if (!numA && numB) { // si b tiene número y a no, a va primero\r\n              return -1;\r\n          }\r\n          if (numA && numB) { // si ambos tienen número, compararlos\r\n              if (numA < 10 && numB >= 10) { // si a es menor que 10 y b es 10 o mayor, a va primero\r\n              return -1;\r\n              }\r\n              if (numA >= 10 && numB < 10) { // si b es menor que 10 y a es 10 o mayor, b va primero\r\n              return 1;\r\n              }\r\n              return numA - numB; // comparar los números directamente\r\n          }\r\n          return 0; // si son iguales en todo, no hay diferencia\r\n          });\r\n          return valores\r\n        },\r\n        imprimirEval(){\r\n            let me = this\r\n            var element = document.getElementById('seccionImprimir2');\r\n            var opt = {\r\n                margin:       0.5,\r\n                // margin:         [1.5, 0.5, 1, 1],\r\n                filename:     me.nombrearchivo,\r\n                image:        { type: 'jpeg', quality: 0.98 },\r\n                html2canvas:    {scale: 2},\r\n                pagebreak: { mode: 'avoid-all', inside: \"avoid\", before: '#page2el' }  ,\r\n                // jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }\r\n                jsPDF: {unit: 'in', format: 'letter', orientation: 'portrait'}\r\n                //jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }\r\n            };\r\n            html2pdf().from(element).set(opt).save();\r\n            me.arregloContrato = []\r\n            me.arregloLibros   = []\r\n            me.$vs.notify({\r\n                text: \"Archivo descargado correctamente\",\r\n                color: 'success',\r\n                iconPack: 'feather',\r\n                icon: 'icon-file',\r\n                time:2000\r\n            })\r\n            me.$emit('change',true)\r\n        },\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.html2canvas-container { width: 3000px !important; height: 3000px !important; }\r\n*{\r\n    font-family: Arial;\r\n}\r\n#ultimo-elemento {\r\n    margin-top: 300px;\r\n}\r\n.letra{\r\n    padding:0px 60px 0px 0px;\r\n    font-size: 11px;\r\n    margin-left: 35px;\r\n}\r\n.letra2{\r\n    font-size: 12px;\r\n}\r\n.letra3{\r\n    display: flex;\r\n    font-size: 11px;\r\n    margin-left: 35px;\r\n}\r\n.letra4{\r\n    margin-top: 15px;\r\n    margin-left: 55px;\r\n    font-size: 11px;\r\n}\r\n.letra5{\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n    width: 90%;\r\n    margin-left: 35px;\r\n    font-size: 11px;\r\n    margin-top: 105px;\r\n}\r\n.tabla1 {\r\n  table-layout: fixed;\r\n  width: 95%;\r\n  border-collapse: collapse;\r\n  border: none;\r\n  margin-left: 15px;\r\n}\r\n.tabla2{\r\n    table-layout: fixed;\r\n    width: 90%;\r\n    border-collapse: collapse;\r\n    border: none;\r\n    font-size: 11px;\r\n    margin-top: 15px;\r\n\r\n}\r\n.sp25{\r\n    margin-top: 25px;\r\n}\r\n.sp55{\r\n    margin-top: 55px;\r\n}\r\n.-mt20{\r\n    margin-top: -20px;\r\n}\r\n@media print {\r\n    td {page-break-before: always;}\r\n    p  {page-break-before: always;}\r\n}\r\n.encabezado ,td,th {\r\n    border: 1px solid rgb(227, 227, 227);\r\n    text-align: center;\r\n    border-spacing: 0;\r\n}\r\n.rotar{\r\n    font-size: 8px;\r\n    /* writing-mode: vertical-lr;\r\n     transform: rotate(180deg); */\r\n}\r\n.font1{\r\n    font-size: 8px;\r\n}\r\n</style>\r\n"]}]}