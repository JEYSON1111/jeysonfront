{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\obsequios\\gerencia\\ScreenObsequiosGerencia.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos\\obsequios\\gerencia\\ScreenObsequiosGerencia.vue","mtime":1712682816364},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport crearPedidoVue from '../asesor/mantenimiento/crearPedido'\r\nimport listadoObsequioVue from '../asesor/mantenimiento/listadoObsequio'\r\nexport default{\r\n    data(){\r\n        return{\r\n            tipo:0,\r\n            id:0,\r\n            arregloObsequios:[],\r\n            arregloPeriodo:{},\r\n            pedido:{},\r\n        }\r\n    },\r\n    components:{\r\n        listadoObsequioVue,\r\n        crearPedidoVue,\r\n    },\r\n    mounted(){\r\n        let me = this;\r\n        me.getObsequios()\r\n    },\r\n    methods:{\r\n        changeEdit(e){\r\n            let me      = this;\r\n            me.pedido   = {}\r\n            me.pedido   = e\r\n            me.id       = e.id\r\n            me.tipo     = 1\r\n        },\r\n        changeAutorizar(e){\r\n            let me = this;\r\n            me.pedido   = {}\r\n            me.id       = e.id\r\n            me.pedido   = e\r\n            me.TypechangeEstado()\r\n        },\r\n        changeRecharge(e){\r\n            let me  = this;\r\n            me.tipo = 0\r\n            me.getObsequios()\r\n        },\r\n        getObsequios() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url+'obsequio?listadoObsequioGerencia=yes')\r\n                .then(function (res) {\r\n                    let datos = res.data\r\n                    if(datos.length > 0){\r\n                        me.arregloObsequios = datos.filter( p => p.obsequios_gerencia == 1 )  \r\n                    }else{\r\n                        me.arregloObsequios = []\r\n                    }\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        //AUTORIZAR GERENCIA\r\n        TypechangeEstado(){\r\n            let me = this\r\n            let formData = new FormData();\r\n            formData.append('id',                       me.pedido.id);\r\n            formData.append('estado',                   5);\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'changeEstadoObsequio', formData)\r\n            .then(res => {\r\n                me.$vs.loading.close()\r\n                if(res.data.status == 0){\r\n                    me.$vs.notify({\r\n                    text:res.data.message,\r\n                    color:'danger',\r\n                    iconPack: 'feather',\r\n                    icon:'icon-check'})     \r\n                    return\r\n                }\r\n                me.getObsequios()\r\n                me.$vs.notify({\r\n                    text:res.data.message,\r\n                    color:'success',\r\n                    iconPack: 'feather',\r\n                    icon:'icon-check'\r\n                })\r\n            })\r\n            .catch((e) => {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n        //FIN AUTORIZAR GERENCIA\r\n        getInfoPeriodo(){\r\n            let me = this;\r\n            console.log(\"rock2222\")\r\n            me.arregloPeriodo = ''\r\n            this.$http.get(this.$server_url+'periodo/'+me.pedido.periodo_id)\r\n                .then(function (res) {\r\n                    me.arregloPeriodo = res.data\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                })\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["ScreenObsequiosGerencia.vue"],"names":[],"mappings":";AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ScreenObsequiosGerencia.vue","sourceRoot":"src/views/pedidos/obsequios/gerencia","sourcesContent":["<template>\r\n    <vx-card>\r\n        <div v-if=\"tipo != 0\">\r\n            <vs-button color=\"primary\" type=\"border\" @click=\"tipo = 0;getObsequios()\">‚Üê Regresar</vs-button>\r\n        </div>\r\n        <div v-if=\"tipo == 1\"><crearPedidoVue :arregloPeriodo=\"arregloPeriodo\"  @changeRecharge=\"changeRecharge\" :id=\"id\" :periodo_id=\"pedido.periodo_id\"  :pedido=\"pedido\"/></div>\r\n        <div v-if=\"tipo == 0\">\r\n            <listadoObsequioVue :arregloObsequios=\"arregloObsequios\" @changeRecharge=\"changeRecharge\" @changeAutorizar=\"changeAutorizar\" @changeEdit=\"changeEdit\"/>\r\n        </div>\r\n    </vx-card>\r\n</template>\r\n<script>\r\nimport crearPedidoVue from '../asesor/mantenimiento/crearPedido'\r\nimport listadoObsequioVue from '../asesor/mantenimiento/listadoObsequio'\r\nexport default{\r\n    data(){\r\n        return{\r\n            tipo:0,\r\n            id:0,\r\n            arregloObsequios:[],\r\n            arregloPeriodo:{},\r\n            pedido:{},\r\n        }\r\n    },\r\n    components:{\r\n        listadoObsequioVue,\r\n        crearPedidoVue,\r\n    },\r\n    mounted(){\r\n        let me = this;\r\n        me.getObsequios()\r\n    },\r\n    methods:{\r\n        changeEdit(e){\r\n            let me      = this;\r\n            me.pedido   = {}\r\n            me.pedido   = e\r\n            me.id       = e.id\r\n            me.tipo     = 1\r\n        },\r\n        changeAutorizar(e){\r\n            let me = this;\r\n            me.pedido   = {}\r\n            me.id       = e.id\r\n            me.pedido   = e\r\n            me.TypechangeEstado()\r\n        },\r\n        changeRecharge(e){\r\n            let me  = this;\r\n            me.tipo = 0\r\n            me.getObsequios()\r\n        },\r\n        getObsequios() {\r\n            let me = this;\r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url+'obsequio?listadoObsequioGerencia=yes')\r\n                .then(function (res) {\r\n                    let datos = res.data\r\n                    if(datos.length > 0){\r\n                        me.arregloObsequios = datos.filter( p => p.obsequios_gerencia == 1 )  \r\n                    }else{\r\n                        me.arregloObsequios = []\r\n                    }\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        //AUTORIZAR GERENCIA\r\n        TypechangeEstado(){\r\n            let me = this\r\n            let formData = new FormData();\r\n            formData.append('id',                       me.pedido.id);\r\n            formData.append('estado',                   5);\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'changeEstadoObsequio', formData)\r\n            .then(res => {\r\n                me.$vs.loading.close()\r\n                if(res.data.status == 0){\r\n                    me.$vs.notify({\r\n                    text:res.data.message,\r\n                    color:'danger',\r\n                    iconPack: 'feather',\r\n                    icon:'icon-check'})     \r\n                    return\r\n                }\r\n                me.getObsequios()\r\n                me.$vs.notify({\r\n                    text:res.data.message,\r\n                    color:'success',\r\n                    iconPack: 'feather',\r\n                    icon:'icon-check'\r\n                })\r\n            })\r\n            .catch((e) => {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n        //FIN AUTORIZAR GERENCIA\r\n        getInfoPeriodo(){\r\n            let me = this;\r\n            console.log(\"rock2222\")\r\n            me.arregloPeriodo = ''\r\n            this.$http.get(this.$server_url+'periodo/'+me.pedido.periodo_id)\r\n                .then(function (res) {\r\n                    me.arregloPeriodo = res.data\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                })\r\n        }\r\n    }\r\n}\r\n</script>"]}]}