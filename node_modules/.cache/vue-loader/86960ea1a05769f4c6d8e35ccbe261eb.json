{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\temporadas\\components\\Pedidos\\Configuracion\\Convenios\\CrearContratoConvenio.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\temporadas\\components\\Pedidos\\Configuracion\\Convenios\\CrearContratoConvenio.vue","mtime":1712682816557},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport vSelect from 'vue-select'\r\nexport default{\r\n    components:{\r\n        vSelect\r\n    },\r\n    data(){\r\n        return{\r\n            contractSelect:'',\r\n            valueSelect:'',\r\n        }\r\n    },\r\n    props:{\r\n        usuario:{\r\n            type:Object,\r\n            default:function(){\r\n                return {}\r\n            }\r\n        },\r\n        idConvenio:{\r\n            type:Number,\r\n            default:0,\r\n        },\r\n        arrayContracts:{\r\n            type:Array,\r\n            default:function(){\r\n                return []\r\n            }\r\n        },\r\n        arrayInformation:{\r\n            type:Array,\r\n            default:function(){\r\n                return []\r\n            }\r\n        },\r\n        idConvenioHijo:{\r\n            type:Number,\r\n            default:0,\r\n        },\r\n        agreementSonObject:{\r\n            type:Object,\r\n            default:function(){\r\n                return {}\r\n            }\r\n        }\r\n    },\r\n    mounted(){\r\n        let me = this\r\n        me.setValores()\r\n    },\r\n    methods:{\r\n        setValores(){\r\n            let me = this\r\n            ///edit\r\n            if(me.idConvenioHijo > 0) {\r\n                const { doc_valor, ven_codigo } = me.agreementSonObject\r\n                me.contractSelect = me.arrayContracts.filter(p => p.contrato ==  ven_codigo)[0]\r\n                me.valueSelect    = doc_valor\r\n            }\r\n            //save\r\n            else{\r\n                me.contractSelect = ''\r\n                me.valueSelect    = ''\r\n            }\r\n        },\r\n        addContract(){\r\n            let me = this;\r\n            let formData = new FormData();\r\n            const { id_pedido, contrato , idInstitucion, id_periodo } = me.contractSelect\r\n            formData.append('saveContratoConvenio',  'yes')\r\n            formData.append('id',                     me.idConvenioHijo)\r\n            formData.append('idConvenio',             me.arrayInformation[0].id);\r\n            formData.append('id_pedido',              ( id_pedido == null || id_pedido == \"null\") ? 1 :  id_pedido );\r\n            formData.append('contrato',               contrato);\r\n            formData.append('valor',                  me.valueSelect);\r\n            formData.append('institucion_id',         idInstitucion);\r\n            formData.append('periodo_id',             id_periodo)\r\n            formData.append('user_created',           me.usuario.idusuario);\r\n            formData.append('idConvenio',             me.idConvenio)\r\n            this.$http.post(this.$server_url+'convenio', formData)\r\n            .then(res => {\r\n                if(res.data.status == 0){\r\n                    me.$vs.notify({\r\n                    text:res.data.message,\r\n                    color:'danger',\r\n                    iconPack: 'feather',\r\n                    icon:'icon-check'})\r\n                    return\r\n                }\r\n                me.$emit('changeRecharge',1)\r\n                me.$vs.notify({\r\n                text:'Se guardo con éxito',\r\n                color:'success',\r\n                iconPack: 'feather',\r\n                icon:'icon-check'})\r\n            })\r\n            .catch((e)=>{\r\n                // me.$vs.loading.close()\r\n            })\r\n        },\r\n    }\r\n}\r\n",{"version":3,"sources":["CrearContratoConvenio.vue"],"names":[],"mappings":";AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CrearContratoConvenio.vue","sourceRoot":"src/views/temporadas/components/Pedidos/Configuracion/Convenios","sourcesContent":["<template>\r\n    <div>\r\n        <!--CONTRACTS-->\r\n        <div class=\"vx-row mb-6\">\r\n          <div class=\"vx-col sm:w-1/3 w-full\">\r\n            <span>Seleccione Contrato:</span>\r\n          </div>\r\n          <div class=\"vx-col sm:w-2/3 w-full\">\r\n            <v-select :options=\"arrayContracts\" :reduce=\"arrayContracts => arrayContracts\" label=\"contrato\" class=\"w-full\" v-model=\"contractSelect\" />\r\n          </div>\r\n        </div>\r\n        <!--VALUE-->\r\n        <div class=\"vx-row mb-6\">\r\n          <div class=\"vx-col sm:w-1/3 w-full\">\r\n            <span>Valor:</span>\r\n          </div>\r\n          <div class=\"vx-col sm:w-2/3 w-full\">\r\n            <vs-input class=\"inputx w-full\" placeholder=\"Valor\" v-model=\"valueSelect\"/>\r\n          </div>\r\n        </div>\r\n        <div class=\"flex justify-center mt-5\">\r\n          <vs-button class=\"mr-3 mb-2\" icon=\"check\" @click=\"addContract()\">Guardar Contrato</vs-button>\r\n          <vs-button color=\"warning\" type=\"border\" icon-pack=\"feather\" icon=\"icon-x\" class=\"mb-2\" @click=\"$emit('changeRecharge',0)\">Cancelar</vs-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport vSelect from 'vue-select'\r\nexport default{\r\n    components:{\r\n        vSelect\r\n    },\r\n    data(){\r\n        return{\r\n            contractSelect:'',\r\n            valueSelect:'',\r\n        }\r\n    },\r\n    props:{\r\n        usuario:{\r\n            type:Object,\r\n            default:function(){\r\n                return {}\r\n            }\r\n        },\r\n        idConvenio:{\r\n            type:Number,\r\n            default:0,\r\n        },\r\n        arrayContracts:{\r\n            type:Array,\r\n            default:function(){\r\n                return []\r\n            }\r\n        },\r\n        arrayInformation:{\r\n            type:Array,\r\n            default:function(){\r\n                return []\r\n            }\r\n        },\r\n        idConvenioHijo:{\r\n            type:Number,\r\n            default:0,\r\n        },\r\n        agreementSonObject:{\r\n            type:Object,\r\n            default:function(){\r\n                return {}\r\n            }\r\n        }\r\n    },\r\n    mounted(){\r\n        let me = this\r\n        me.setValores()\r\n    },\r\n    methods:{\r\n        setValores(){\r\n            let me = this\r\n            ///edit\r\n            if(me.idConvenioHijo > 0) {\r\n                const { doc_valor, ven_codigo } = me.agreementSonObject\r\n                me.contractSelect = me.arrayContracts.filter(p => p.contrato ==  ven_codigo)[0]\r\n                me.valueSelect    = doc_valor\r\n            }\r\n            //save\r\n            else{\r\n                me.contractSelect = ''\r\n                me.valueSelect    = ''\r\n            }\r\n        },\r\n        addContract(){\r\n            let me = this;\r\n            let formData = new FormData();\r\n            const { id_pedido, contrato , idInstitucion, id_periodo } = me.contractSelect\r\n            formData.append('saveContratoConvenio',  'yes')\r\n            formData.append('id',                     me.idConvenioHijo)\r\n            formData.append('idConvenio',             me.arrayInformation[0].id);\r\n            formData.append('id_pedido',              ( id_pedido == null || id_pedido == \"null\") ? 1 :  id_pedido );\r\n            formData.append('contrato',               contrato);\r\n            formData.append('valor',                  me.valueSelect);\r\n            formData.append('institucion_id',         idInstitucion);\r\n            formData.append('periodo_id',             id_periodo)\r\n            formData.append('user_created',           me.usuario.idusuario);\r\n            formData.append('idConvenio',             me.idConvenio)\r\n            this.$http.post(this.$server_url+'convenio', formData)\r\n            .then(res => {\r\n                if(res.data.status == 0){\r\n                    me.$vs.notify({\r\n                    text:res.data.message,\r\n                    color:'danger',\r\n                    iconPack: 'feather',\r\n                    icon:'icon-check'})\r\n                    return\r\n                }\r\n                me.$emit('changeRecharge',1)\r\n                me.$vs.notify({\r\n                text:'Se guardo con éxito',\r\n                color:'success',\r\n                iconPack: 'feather',\r\n                icon:'icon-check'})\r\n            })\r\n            .catch((e)=>{\r\n                // me.$vs.loading.close()\r\n            })\r\n        },\r\n    }\r\n}\r\n</script>\r\n"]}]}