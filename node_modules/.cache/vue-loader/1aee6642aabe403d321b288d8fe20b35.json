{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\docentes\\encuesta.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\docentes\\encuesta.vue","mtime":1712682815772},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nVue.use(axios)\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            data_seminario: [],\r\n            popupSeminario: false,\r\n            preguntas: [],\r\n            current_preg: 1,\r\n            resp_tipo_range: {},\r\n            resp_tipo_radio: {},\r\n            opciones_sn: ['SI', 'NO'],\r\n            resp_tipo_text: {},\r\n            respuestas_enviar: [],\r\n            usuario: [],\r\n            ver_todo: false,\r\n            revision_activa: false\r\n        }\r\n    },\r\n    mounted() {\r\n        this.usuario = JSON.parse(localStorage.getItem('usuario'))\r\n        this.data_seminario = JSON.parse(localStorage.getItem('data_seminario'))\r\n        this.getEncuestaSeminario()\r\n    },\r\n    methods: {\r\n        getEncuestaSeminario() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url+'get_preguntas_seminario')\r\n            .then(function (res) {\r\n                me.preguntas = res.data\r\n                me.$vs.loading.close()\r\n            })\r\n            .catch(function (error) {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n        paginacion(){\r\n            let me = this;\r\n            me.ver_todo = false\r\n            for( let i=1; i<=me.preguntas.length; i++ ){\r\n                $('#content_preg'+i).css('display', 'none')\r\n            }\r\n            $('#content_preg'+me.current_preg).css('display', 'block')\r\n        },\r\n        todasPreguntas(){\r\n            let me = this;\r\n            me.ver_todo = true\r\n            for( let i=1; i<=me.preguntas.length; i++ ){\r\n                $('#content_preg'+i).css('display', 'block')\r\n            }\r\n        },\r\n        openConfirmEnviar(){\r\n            let me = this\r\n\r\n            let cant_resp = 0\r\n            $.each(me.resp_tipo_radio,function(key, value){\r\n                cant_resp++\r\n            });\r\n            $.each(me.resp_tipo_text,function(key, value){\r\n                cant_resp++\r\n            });\r\n\r\n                console.log(\"preguntas\",me.preguntas)\r\n            console.log(\"catnpreguntas\",me.cant_resp)\r\n           \r\n\r\n            if( me.preguntas.length != cant_resp ){\r\n                me.$vs.notify({\r\n                    text: 'Por favor responda todas las preguntas antes de finalizar la encuesta.',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-warning'\r\n                })\r\n\r\n            }else{\r\n                this.$vs.dialog({\r\n                    type: 'confirm',\r\n                    color: 'primary',\r\n                    title: `Confirmar`,\r\n                    text: '¿Está seguro de enviar la encuesta?',\r\n                    accept: this.enviarEncuesta\r\n                })\r\n            }\r\n\r\n        },\r\n        enviarEncuesta(){\r\n            let me = this\r\n            var respuestas_user = new Array();\r\n            // respuestas_user.push(me.resp_tipo_range);\r\n            respuestas_user.push(me.resp_tipo_radio);\r\n            respuestas_user.push(me.resp_tipo_text);\r\n\r\n            me.respuestas_enviar = JSON.stringify(respuestas_user)\r\n\r\n            const bodyFormData = new FormData();\r\n            bodyFormData.append('respuestas', me.respuestas_enviar);\r\n            bodyFormData.append('id_usuario', me.usuario.idusuario);\r\n            bodyFormData.append('id_seminario', me.data_seminario.id_seminario);\r\n\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'save_encuesta', bodyFormData)\r\n            .then(function (res) {\r\n                me.$vs.loading.close()\r\n                me.$vs.notify({\r\n                    text: 'Encuesta registrada correctamente. Ya puede descargar su certificado.',\r\n                    color: 'success',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-check'\r\n                })\r\n\r\n                setTimeout(function(){\r\n                    me.$router.push('/docente/seminarios')\r\n                }, 1000);\r\n            })\r\n            .catch(function (error) {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n        cargar(index){\r\n            let me = this\r\n            alert(me.resp_tipo_radio[index])\r\n        }\r\n    },\r\n}\r\n",{"version":3,"sources":["encuesta.vue"],"names":[],"mappings":";AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"encuesta.vue","sourceRoot":"src/views/docentes","sourcesContent":["<template>\r\n<div class=\"vx-row w-full p-6\">\r\n\r\n    <!------BARRA SUPERIOR-------->\r\n    <div class=\"vx-col sm:w-3/4 w-full\" style=\"font-size: 18px;\">\r\n        <vx-card title-color=\"primary\">\r\n            <div class=\"vx-row\">\r\n                <div class=\"vx-col w-full\" align=\"justify\" v-if=\"data_seminario\">\r\n\r\n                    <div class=\"w-full text-center mb-6\">\r\n                        <b><h4 style=\"color: #3C87FE;\">Encuesta de satisfacción sobre la capacitación</h4></b>\r\n                    </div>\r\n\r\n                    <div class=\"w-full text-justify\">\r\n                        \r\n                        <b>Fecha: </b> {{fechaLarga(data_seminario.fecha_fin)}}<br>\r\n                        <b>Seminario: </b> <span> {{data_seminario.descripcion}} </span><br><br>\r\n                        \r\n                        Estimado docente, la editorial Prolipa desea conocer el nivel de satisfacción de la capacitación recibida. Lo invitamos a completar esta encuesta, para luego descargar el certificado digital. <br><br>\r\n\r\n                        Califique del 1 al 5 los siguientes aspectos acerca del desempeño del capacitador, siendo 1 completamente en desacuerdo y 5 completamente de acuerdo.\r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </vx-card>\r\n\r\n        <!-------INICIO SECCION RESPONDER---------->\r\n        <vx-card class=\"mt-5 mb-6\">\r\n            \r\n            <div v-for=\"(itemP, indexP) in preguntas\" :key=\"indexP\" class=\"w-full mb-2\">\r\n                <div :id=\"'content_preg'+(indexP+1)\" class=\"w-full pt-3 px-6\" style=\"vertical-align: top;\">\r\n                    <div class=\"mt-2\" style=\"font-size: 17px; min-height: 50px;\" align=\"justify\"> \r\n                        <b> {{indexP+1}}) {{itemP.nombre_pregunta}}</b> \r\n                    </div>\r\n\r\n                    <span></span>\r\n\r\n                    <div v-if=\"itemP.tipo_pregunta == 1 || itemP.tipo_pregunta == 2\" class=\"mb-base w-full\" style=\"font-size: 15px;\" align=\"center\">\r\n                        <!-- <vs-slider :min=\"1\" :max=\"5\" color=\"rgb(45, 208, 129)\" v-model=\"resp_tipo_range[itemP.id_pregunta]\"/> -->\r\n                        <!-- <vs-radio v-for=\"(itemO, indexO) in 5\" :key=\"indexO\" v-model=\"resp_tipo_radio[itemP.id_pregunta]\" :vs-value=\"indexO+1\" class=\"m-6\"> {{indexO+1}} </vs-radio> -->\r\n\r\n                        <div v-for=\"(itemO, indexO) in 5\" :key=\"indexO\" style=\"width: 80px; display: inline-block;\">\r\n                            <input type=\"radio\" :id=\"itemP.id_pregunta+'_'+indexO\" :name=\"'preg_'+itemP.id_pregunta\" v-model=\"resp_tipo_radio[itemP.id_pregunta]\" :value=\"indexO+1\" style=\"width: 20px; height: 20px;\">\r\n                            <label :for=\"itemP.id_pregunta+'_'+indexO\" style=\"font-size: 18px;\"> {{indexO+1}} </label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div v-if=\"itemP.tipo_pregunta == 4\" class=\"mb-base w-full\" style=\"font-size: 15px;\" align=\"center\">\r\n\r\n                        <!-- <vs-radio v-for=\"(itemO, indexO) in opciones_sn\" :key=\"indexO\" v-model=\"resp_tipo_radio[itemP.id_pregunta]\" :vs-value=\"opciones_sn[indexO]\" class=\"m-6\"> {{opciones_sn[indexO]}} </vs-radio> -->\r\n\r\n                        <div v-for=\"(itemO, indexO) in opciones_sn\" :key=\"indexO\" style=\"width: 80px; display: inline-block;\">\r\n                            <input type=\"radio\" :id=\"itemP.id_pregunta+'_'+indexO\" :name=\"'preg_'+itemP.id_pregunta\" v-model=\"resp_tipo_radio[itemP.id_pregunta]\" :value=\"opciones_sn[indexO]\" style=\"width: 20px; height: 20px;\">\r\n                            <label :for=\"itemP.id_pregunta+'_'+indexO\" style=\"font-size: 18px;\"> {{opciones_sn[indexO]}} </label>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div v-if=\"itemP.tipo_pregunta == 3\" class=\"mb-base w-full\" style=\"font-size: 15px;\" align=\"center\">\r\n                        <vs-textarea v-model=\"resp_tipo_text[itemP.id_pregunta]\" />\r\n                    </div>\r\n\r\n                    <vs-divider v-if=\"ver_todo==true\"></vs-divider>\r\n                </div>\r\n            </div>\r\n\r\n            <vs-pagination :total=\"preguntas.length\" v-model=\"current_preg\" @input=\"paginacion()\"></vs-pagination>\r\n\r\n            <!-- resp_tipo_radio: {{resp_tipo_radio}} -->\r\n\r\n        </vx-card>\r\n\r\n\r\n        <vx-card class=\"w-full\">\r\n            Agradecemos sus valiosos comentarios. Para cualquier duda, por favor póngase en contacto con nuestro servicio de atención al cliente: <span style=\"color: #3C87FE;\">soporte@prolipa.com.ec</span>\r\n        </vx-card>\r\n\r\n    </div>\r\n    <!-- fin responder preguntas -->\r\n\r\n\r\n    <!-- SECCION TIEMPO, FINALIZAR -->\r\n    <div class=\"vx-col sm:w-1/4 w-full\">\r\n    <vx-card>\r\n        <div align=\"center\">\r\n            \r\n            <img src=\"https://plataforma.prolipadigital.com.ec/img/prolipa.a3e6ff1b.png\" style=\"max-width: 200px; border-radius: 5px;\" class=\"mb-base\"><br>\r\n\r\n            <vs-button color=\"dark\" type=\"gradient\" class=\"mb-base\" style=\"width: 180px;\" @click=\"openConfirmEnviar\">Enviar encuesta</vs-button><br>\r\n\r\n            <vs-button color=\"warning\" type=\"border\" class=\"mb-base\" style=\"width: 180px;\" @click=\"todasPreguntas()\">Ver todo</vs-button> <br>\r\n\r\n            <vs-button color=\"success\" type=\"border\" class=\"mb-base\" style=\"width: 180px;\" @click=\"$router.go(-1)\">Volver</vs-button>\r\n\r\n        </div>\r\n    </vx-card>\r\n    </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nVue.use(axios)\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            data_seminario: [],\r\n            popupSeminario: false,\r\n            preguntas: [],\r\n            current_preg: 1,\r\n            resp_tipo_range: {},\r\n            resp_tipo_radio: {},\r\n            opciones_sn: ['SI', 'NO'],\r\n            resp_tipo_text: {},\r\n            respuestas_enviar: [],\r\n            usuario: [],\r\n            ver_todo: false,\r\n            revision_activa: false\r\n        }\r\n    },\r\n    mounted() {\r\n        this.usuario = JSON.parse(localStorage.getItem('usuario'))\r\n        this.data_seminario = JSON.parse(localStorage.getItem('data_seminario'))\r\n        this.getEncuestaSeminario()\r\n    },\r\n    methods: {\r\n        getEncuestaSeminario() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url+'get_preguntas_seminario')\r\n            .then(function (res) {\r\n                me.preguntas = res.data\r\n                me.$vs.loading.close()\r\n            })\r\n            .catch(function (error) {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n        paginacion(){\r\n            let me = this;\r\n            me.ver_todo = false\r\n            for( let i=1; i<=me.preguntas.length; i++ ){\r\n                $('#content_preg'+i).css('display', 'none')\r\n            }\r\n            $('#content_preg'+me.current_preg).css('display', 'block')\r\n        },\r\n        todasPreguntas(){\r\n            let me = this;\r\n            me.ver_todo = true\r\n            for( let i=1; i<=me.preguntas.length; i++ ){\r\n                $('#content_preg'+i).css('display', 'block')\r\n            }\r\n        },\r\n        openConfirmEnviar(){\r\n            let me = this\r\n\r\n            let cant_resp = 0\r\n            $.each(me.resp_tipo_radio,function(key, value){\r\n                cant_resp++\r\n            });\r\n            $.each(me.resp_tipo_text,function(key, value){\r\n                cant_resp++\r\n            });\r\n\r\n                console.log(\"preguntas\",me.preguntas)\r\n            console.log(\"catnpreguntas\",me.cant_resp)\r\n           \r\n\r\n            if( me.preguntas.length != cant_resp ){\r\n                me.$vs.notify({\r\n                    text: 'Por favor responda todas las preguntas antes de finalizar la encuesta.',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-warning'\r\n                })\r\n\r\n            }else{\r\n                this.$vs.dialog({\r\n                    type: 'confirm',\r\n                    color: 'primary',\r\n                    title: `Confirmar`,\r\n                    text: '¿Está seguro de enviar la encuesta?',\r\n                    accept: this.enviarEncuesta\r\n                })\r\n            }\r\n\r\n        },\r\n        enviarEncuesta(){\r\n            let me = this\r\n            var respuestas_user = new Array();\r\n            // respuestas_user.push(me.resp_tipo_range);\r\n            respuestas_user.push(me.resp_tipo_radio);\r\n            respuestas_user.push(me.resp_tipo_text);\r\n\r\n            me.respuestas_enviar = JSON.stringify(respuestas_user)\r\n\r\n            const bodyFormData = new FormData();\r\n            bodyFormData.append('respuestas', me.respuestas_enviar);\r\n            bodyFormData.append('id_usuario', me.usuario.idusuario);\r\n            bodyFormData.append('id_seminario', me.data_seminario.id_seminario);\r\n\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'save_encuesta', bodyFormData)\r\n            .then(function (res) {\r\n                me.$vs.loading.close()\r\n                me.$vs.notify({\r\n                    text: 'Encuesta registrada correctamente. Ya puede descargar su certificado.',\r\n                    color: 'success',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-check'\r\n                })\r\n\r\n                setTimeout(function(){\r\n                    me.$router.push('/docente/seminarios')\r\n                }, 1000);\r\n            })\r\n            .catch(function (error) {\r\n                me.$vs.loading.close()\r\n            })\r\n        },\r\n        cargar(index){\r\n            let me = this\r\n            alert(me.resp_tipo_radio[index])\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n</style>"]}]}