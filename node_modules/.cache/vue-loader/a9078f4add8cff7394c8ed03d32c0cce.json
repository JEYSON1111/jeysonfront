{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\propuestaMetodologica\\nuevaProp.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\propuestaMetodologica\\nuevaProp.vue","mtime":1712682816440},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            //tipo de archivo permitido para cargar (docx, doc)\r\n            tipo_archivo: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/msword',\r\n            long_name_file: 25, //longitud del nombre de archivo a mostrar\r\n            limiteMegas: 5, //maximo de megas permitido a subir en cada archivo\r\n            usuario: '',\r\n            titulo: '',\r\n            edita: '',\r\n            datosEditar: '',\r\n            asignaturas: [],\r\n            asignaturaSelect: {\r\n                'idasignatura': '',\r\n                'nombreasignatura': '',\r\n                'area_idarea': '',\r\n                'nivel_idnivel': '',\r\n                'user_grupoUsuario': '',\r\n                'user_idUsuario': '',\r\n                'user_nombreUsuario': '',\r\n                'user_email': '',\r\n            },\r\n            \r\n            adaptacion: {\r\n                'id': '',\r\n                'nombre': \"\",\r\n                'descripcion': '',\r\n                'asignatura': '',\r\n                'unidad1': [],\r\n                'unidad2': [],\r\n                'unidad3': [],\r\n                'unidad4': [],\r\n                'unidad5': [],\r\n                'unidad6': [],\r\n                'estado': 'true',\r\n            },\r\n            elim_u1: '',\r\n            elim_u2: '',\r\n            elim_u3: '',\r\n            elim_u4: '',\r\n            elim_u5: '',\r\n            elim_u6: '',\r\n            bytes: 1048576,\r\n            msjError: 'El peso del archivo excede el limite permitido, verifique antes de continuar',\r\n\r\n            porcentaje1: '',\r\n            pesoArchivo1: '',\r\n            muyPesado1: '',\r\n            msj1: '',\r\n\r\n            porcentaje2: '',\r\n            pesoArchivo2: '',\r\n            muyPesado2: '',\r\n            msj2: '',\r\n\r\n            porcentaje3: '',\r\n            pesoArchivo3: '',\r\n            muyPesado3: '',\r\n            msj3: '',\r\n\r\n            porcentaje4: '',\r\n            pesoArchivo4: '',\r\n            muyPesado4: '',\r\n            msj4: '',\r\n\r\n            porcentaje5: '',\r\n            pesoArchivo5: '',\r\n            muyPesado5: '',\r\n            msj5: '',\r\n\r\n            porcentaje6: '',\r\n            pesoArchivo6: '',\r\n            muyPesado6: '',\r\n            msj6: '',\r\n        }\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        me.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n        me.edita = localStorage.getItem('editarA')\r\n        if (me.edita == 1) {\r\n            me.titulo = 'Nueva propuesta metodológica'\r\n        }\r\n        if (me.edita == 2) {\r\n            me.datosEditar = JSON.parse(localStorage.getItem('contenidoAD'));\r\n            me.adaptacion = me.datosEditar;\r\n            me.asignaturaSelect = me.datosEditar.asignatura\r\n            // console.log(me.datosEditar)\r\n            me.titulo = 'Editar propuesta metodológica'\r\n        }\r\n        me.getAsignaturas();\r\n    },\r\n    methods: {\r\n        getAsignaturas() {\r\n            let me = this;\r\n            this.$http.get(this.$server_url+'asignaturasActi')\r\n                .then(res => {\r\n                    me.asignaturas = res.data\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                })\r\n        },\r\n        cargaUnidad(unidad) {\r\n            let me = this;\r\n            if (unidad == 1) {\r\n                me.msj1='';\r\n                me.porcentaje1 = 0;\r\n                me.pesoArchivo1 = 0;\r\n                me.muyPesado1 = false;\r\n                me.file1 = me.$refs.file1.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo1 = (me.file1.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo1 > me.limiteMegas) {\r\n                    me.muyPesado1 = true;\r\n                    me.msj1 = me.msjError;\r\n                }\r\n                // me.adaptacion.unidad1[0] = me.file1;\r\n                console.log(me.adaptacion.unidad1)\r\n            }\r\n            if (unidad == 2) {\r\n                me.msj2='';\r\n                me.porcentaje2 = 0;\r\n                me.pesoArchivo2 = 0;\r\n                me.muyPesado2 = false;\r\n                me.file2 = me.$refs.file2.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo2 = (me.file2.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo2 > me.limiteMegas) {\r\n                    me.muyPesado2 = true;\r\n                    me.msj2 = me.msjError;\r\n                }\r\n                me.adaptacion.unidad2 = me.file2;\r\n            }\r\n            if (unidad == 3) {\r\n                me.msj3='';\r\n                me.porcentaje3 = 0;\r\n                me.pesoArchivo3 = 0;\r\n                me.muyPesado3 = false;\r\n                me.file3 = me.$refs.file3.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo3 = (me.file3.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo3 > me.limiteMegas) {\r\n                    me.muyPesado3 = true;\r\n                    me.msj3 = me.msjError;\r\n                }\r\n                me.adaptacion.unidad3 = me.file3;\r\n            }\r\n            if (unidad == 4) {\r\n                me.msj4='';\r\n                me.porcentaje4 = 0;\r\n                me.pesoArchivo4 = 0;\r\n                me.muyPesado4 = false;\r\n                me.file4 = me.$refs.file4.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo4 = (me.file4.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo4 > me.limiteMegas) {\r\n                    me.muyPesado4 = true;\r\n                    me.msj4 = me.msjError;\r\n                }\r\n                me.adaptacion.unidad4 = me.file4;\r\n            }\r\n            if (unidad == 5) {\r\n                me.msj5='';\r\n                me.porcentaje5 = 0;\r\n                me.pesoArchivo5 = 0;\r\n                me.muyPesado5 = false;\r\n                me.file5 = me.$refs.file5.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo5 = (me.file5.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo5 > me.limiteMegas) {\r\n                    me.muyPesado5 = true;\r\n                    me.msj5 = me.msjError;\r\n                }\r\n                me.adaptacion.unidad5 = me.file5;\r\n            }\r\n            if (unidad == 6) {\r\n                me.msj6='';\r\n                me.porcentaje6 = 0;\r\n                me.pesoArchivo6 = 0;\r\n                me.muyPesado6 = false;\r\n                me.file6 = me.$refs.file6.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo6 = (me.file6.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo6 > me.limiteMegas) {\r\n                    me.muyPesado6 = true;\r\n                    me.msj6 = me.msjError;\r\n                }\r\n                me.adaptacion.unidad6 = me.file6;\r\n            }\r\n            console.log(me.adaptacion)\r\n        },\r\n        quitarArchivo(item, unidad) {\r\n            let me = this;\r\n            switch (unidad) {\r\n                case 1:\r\n                    me.elim_u1 = item[0].id //id de archivo a eliminar\r\n                    me.adaptacion.unidad1 = [];\r\n                    me.muyPesado1 = '';\r\n                    me.msj1 = '';\r\n                    // console.log('quita unidad 1', me.adaptacion)\r\n                    break;\r\n                case 2:\r\n                    me.elim_u2 = item[0].id //id de archivo a eliminar\r\n                    me.adaptacion.unidad2 = [];\r\n                    me.muyPesado2 = '';\r\n                    me.msj2 = '';\r\n                    break;\r\n                case 3:\r\n                    me.elim_u3 = item[0].id //id de archivo a eliminar\r\n                    me.adaptacion.unidad3 = [];\r\n                    me.muyPesado3 = '';\r\n                    me.msj3 = '';\r\n                    break;\r\n                case 4:\r\n                    me.elim_u4 = item[0].id //id de archivo a eliminar\r\n                    me.adaptacion.unidad4 = [];\r\n                    me.muyPesado4 = '';\r\n                    me.msj4 = '';\r\n                    break;\r\n                case 5:\r\n                    me.elim_u5 = item[0].id //id de archivo a eliminar\r\n                    me.adaptacion.unidad5 = [];\r\n                    me.muyPesado5 = '';\r\n                    me.msj5 = '';\r\n                    break;\r\n                case 6:\r\n                    me.elim_u6 = item[0].id //id de archivo a eliminar\r\n                    me.adaptacion.unidad6 = [];\r\n                    me.muyPesado6 = '';\r\n                    me.msj6 = '';\r\n                    break;\r\n            }\r\n        },\r\n        verificarDatos() {\r\n            let me = this;\r\n            if (me.muyPesado1 || me.muyPesado2 || me.muyPesado3 || me.muyPesado4 || me.muyPesado5 || me.muyPesado6) {\r\n                me.$vs.notify({\r\n                    text: 'Verifique el tamaño de sus archivos, antes de continuar',\r\n                    color: 'danger',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            if (me.adaptacion.nombre == \"\") {\r\n                me.$vs.notify({\r\n                    text: 'Ingrese el nombre del proyecto',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            if (me.asignaturaSelect.idasignatura < 1) {\r\n                me.$vs.notify({\r\n                    text: 'Seleccione la asignatura antes de continuar',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            me.subirUnidad1();\r\n        },\r\n        subirUnidad1() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            if (me.elim_u1 != \"\") {\r\n                axios.delete(\"https://foro.prolipadigital.com.ec/upload/files/\" + me.elim_u1)\r\n                    .then(function (res) {\r\n                        me.$vs.notify({\r\n                            text: 'Archivo de la unidad 1 eliminado ',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('No se eliminó el archivo de la unidad 1')\r\n                        // me.$vs.notify({\r\n                        //     text: 'No se eliminó el archivo de la unidad 1',\r\n                        //     color: 'warning',\r\n                        //     iconPack: 'feather',\r\n                        //     icon: 'icon-alert-triangle'\r\n                        // })\r\n                    })\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('files', me.file1);\r\n            axios.post(\"https://foro.prolipadigital.com.ec/upload\", formData, {\r\n                    onUploadProgress: uploadEvent => {\r\n                        if (me.pesoArchivo1 > 0) {\r\n                            me.porcentaje1 = Math.round(uploadEvent.loaded / uploadEvent.total * 100);\r\n                        }\r\n                    }\r\n                })\r\n                .then(function (response) {\r\n                    me.adaptacion.unidad1 = response.data[0];\r\n                    this.file1 = '';\r\n                    me.$vs.notify({\r\n                        text: 'Archivo de la UNIDAD 1 cargado correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.subirUnidad2();\r\n                    // me.$vs.loading.close()\r\n                })\r\n                .catch(error => {\r\n                    me.archivo = '';\r\n                    console.log(' no se ha seleccionado ningun archivo unidad  1 ')\r\n                    me.subirUnidad2();\r\n                    // me.$vs.loading.close()\r\n                })\r\n        },\r\n        subirUnidad2() {\r\n            let me = this;\r\n            // me.$vs.loading()\r\n            if (me.elim_u2 != \"\") {\r\n                axios.delete(\"https://foro.prolipadigital.com.ec/upload/files/\" + me.elim_u2)\r\n                    .then(function (res) {\r\n                        me.$vs.notify({\r\n                            text: 'Archivo de la unidad 2 eliminado ',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('No se eliminó el archivo de la unidad 2')\r\n                    })\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('files', me.file2);\r\n            axios.post(\"https://foro.prolipadigital.com.ec/upload\", formData, {\r\n                    onUploadProgress: uploadEvent => {\r\n                        if (me.pesoArchivo2 > 0) {\r\n                            me.porcentaje2 = Math.round(uploadEvent.loaded / uploadEvent.total * 100);\r\n                        }\r\n                    }\r\n                })\r\n                .then(function (response) {\r\n                    me.adaptacion.unidad2 = response.data[0]\r\n                    me.$vs.notify({\r\n                        text: 'Archivo de la UNIDAD 2 cargado correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.subirUnidad3();\r\n                    // me.$vs.loading.close()\r\n                })\r\n                .catch(error => {\r\n                    me.archivo = '';\r\n                    console.log(' no se ha seleccionado ningun archivo unidad 2  ')\r\n                    me.subirUnidad3();\r\n                    // me.$vs.loading.close()\r\n                })\r\n        },\r\n        subirUnidad3() {\r\n            let me = this;\r\n            // me.$vs.loading()\r\n            if (me.elim_u3 != \"\") {\r\n                axios.delete(\"https://foro.prolipadigital.com.ec/upload/files/\" + me.elim_u3)\r\n                    .then(function (res) {\r\n                        me.$vs.notify({\r\n                            text: 'Archivo de la unidad 3 eliminado ',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('No se eliminó el archivo de la unidad 3')\r\n                    })\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('files', me.file3);\r\n            axios.post(\"https://foro.prolipadigital.com.ec/upload\", formData, {\r\n                    onUploadProgress: uploadEvent => {\r\n                        if (me.pesoArchivo3 > 0) {\r\n                            me.porcentaje3 = Math.round(uploadEvent.loaded / uploadEvent.total * 100);\r\n                        }\r\n                    }\r\n                })\r\n                .then(function (response) {\r\n                    me.adaptacion.unidad3 = response.data[0]\r\n                    me.$vs.notify({\r\n                        text: 'Archivo de la UNIDAD 3 cargado correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.subirUnidad4();\r\n                    // me.$vs.loading.close()\r\n                })\r\n                .catch(error => {\r\n                    me.archivo = '';\r\n                    console.log(' no se ha seleccionado ningun archivo unidad 3  ')\r\n                    me.subirUnidad4();\r\n                    // me.$vs.loading.close()\r\n                })\r\n        },\r\n        subirUnidad4() {\r\n            let me = this;\r\n            // me.$vs.loading()\r\n            if (me.elim_u4 != \"\") {\r\n                axios.delete(\"https://foro.prolipadigital.com.ec/upload/files/\" + me.elim_u4)\r\n                    .then(function (res) {\r\n                        me.$vs.notify({\r\n                            text: 'Archivo de la unidad 4 eliminado ',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('No se eliminó el archivo de la unidad 4')\r\n                    })\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('files', me.file4);\r\n            axios.post(\"https://foro.prolipadigital.com.ec/upload\", formData, {\r\n                    onUploadProgress: uploadEvent => {\r\n                        if (me.pesoArchivo4 > 0) {\r\n                            me.porcentaje4 = Math.round(uploadEvent.loaded / uploadEvent.total * 100);\r\n                        }\r\n                    }\r\n                })\r\n                .then(function (response) {\r\n                    me.adaptacion.unidad4 = response.data[0]\r\n                    me.$vs.notify({\r\n                        text: 'Archivo de la UNIDAD 4 cargado correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.subirUnidad5();\r\n                    // me.$vs.loading.close()\r\n                })\r\n                .catch(error => {\r\n                    me.archivo = '';\r\n                    console.log(' no se ha seleccionado ningun archivo unidad 4  ')\r\n                    me.subirUnidad5();\r\n                    // me.$vs.loading.close()\r\n                })\r\n        },\r\n        subirUnidad5() {\r\n            let me = this;\r\n            // me.$vs.loading()\r\n            if (me.elim_u5 != \"\") {\r\n                axios.delete(\"https://foro.prolipadigital.com.ec/upload/files/\" + me.elim_u5)\r\n                    .then(function (res) {\r\n                        me.$vs.notify({\r\n                            text: 'Archivo de la unidad 5 eliminado ',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('No se eliminó el archivo de la unidad 5')\r\n                    })\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('files', me.file5);\r\n            axios.post(\"https://foro.prolipadigital.com.ec/upload\", formData, {\r\n                    onUploadProgress: uploadEvent => {\r\n                        if (me.pesoArchivo5 > 0) {\r\n                            me.porcentaje5 = Math.round(uploadEvent.loaded / uploadEvent.total * 100);\r\n                        }\r\n                    }\r\n                })\r\n                .then(function (response) {\r\n                    me.adaptacion.unidad5 = response.data[0]\r\n                    me.$vs.notify({\r\n                        text: 'Archivo de la UNIDAD 5 cargado correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.subirUnidad6();\r\n                    // me.$vs.loading.close()\r\n                })\r\n                .catch(error => {\r\n                    me.archivo = '';\r\n                    console.log(' no se ha seleccionado ningun archivo unidad 5  ')\r\n                    me.subirUnidad6();\r\n                    // me.$vs.loading.close()\r\n                })\r\n        },\r\n        subirUnidad6() {\r\n            let me = this;\r\n            // me.$vs.loading()\r\n            if (me.elim_u6 != \"\") {\r\n                axios.delete(\"https://foro.prolipadigital.com.ec/upload/files/\" + me.elim_u6)\r\n                    .then(function (res) {\r\n                        me.$vs.notify({\r\n                            text: 'Archivo de la unidad 6 eliminado ',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('No se eliminó el archivo de la unidad 6')\r\n                    })\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('files', me.file6);\r\n            axios.post(\"https://foro.prolipadigital.com.ec/upload\", formData, {\r\n                    onUploadProgress: uploadEvent => {\r\n                        if (me.pesoArchivo6 > 0) {\r\n                            me.porcentaje6 = Math.round(uploadEvent.loaded / uploadEvent.total * 100);\r\n                        }\r\n                    }\r\n                })\r\n                .then(function (response) {\r\n                    me.adaptacion.unidad6 = response.data[0]\r\n                    me.$vs.notify({\r\n                        text: 'Archivo de la UNIDAD 6 cargado correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.guarda_o_edita();\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(error => {\r\n                    me.archivo = '';\r\n                    console.log(' no se ha seleccionado ningun archivo unidad 6  ')\r\n                    me.guarda_o_edita();\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        guarda_o_edita() {\r\n            let me = this;\r\n            // console.log(me.adaptacion)\r\n            if (me.edita == 1) {\r\n                me.guardarPropuesta();\r\n            } else {\r\n                me.editaPropuesta();\r\n            }\r\n        },\r\n        guardarPropuesta() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            me.asignaturaSelect.user_grupoUsuario = me.usuario.id_group;\r\n            me.asignaturaSelect.user_idUsuario = me.usuario.idUsuario;\r\n            me.asignaturaSelect.user_nombreUsuario = me.usuario.nombres + ' ' + me.usuario.apellidos;\r\n            me.asignaturaSelect.user_email = me.usuario.email;\r\n            axios.post('https://foro.prolipadigital.com.ec/propuesta-metodologicas', {\r\n                    nombre: me.adaptacion.nombre,\r\n                    descripcion: me.adaptacion.descripcion,\r\n                    asignatura: me.asignaturaSelect,\r\n                    unidad1: me.adaptacion.unidad1,\r\n                    unidad2: me.adaptacion.unidad2,\r\n                    unidad3: me.adaptacion.unidad3,\r\n                    unidad4: me.adaptacion.unidad4,\r\n                    unidad5: me.adaptacion.unidad5,\r\n                    unidad6: me.adaptacion.unidad6,\r\n                    estado: me.adaptacion.estado,\r\n                })\r\n                .then(res => {\r\n                    me.$vs.notify({\r\n                        text: 'Adaptacion curricular guardado correctamente ',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.$vs.loading.close()\r\n                    me.volver()\r\n                })\r\n                .catch(error => {\r\n                    me.$vs.notify({\r\n                        text: 'Error al guardar la propuesta metodológica ',\r\n                        color: 'danger',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        editaPropuesta() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            me.asignaturaSelect.user_grupoUsuario = me.usuario.id_group;\r\n            me.asignaturaSelect.user_idUsuario = me.usuario.idUsuario;\r\n            me.asignaturaSelect.user_nombreUsuario = me.usuario.nombres + ' ' + me.usuario.apellidos;\r\n            me.asignaturaSelect.user_email = me.usuario.email;\r\n            axios.put('https://foro.prolipadigital.com.ec/propuesta-metodologicas/' + me.adaptacion.id, {\r\n                    nombre: me.adaptacion.nombre,\r\n                    descripcion: me.adaptacion.descripcion,\r\n                    asignatura: me.asignaturaSelect,\r\n                    unidad1: me.adaptacion.unidad1,\r\n                    unidad2: me.adaptacion.unidad2,\r\n                    unidad3: me.adaptacion.unidad3,\r\n                    unidad4: me.adaptacion.unidad4,\r\n                    unidad5: me.adaptacion.unidad5,\r\n                    unidad6: me.adaptacion.unidad6,\r\n                    estado: me.adaptacion.estado,\r\n                })\r\n                .then(res => {\r\n                    me.$vs.notify({\r\n                        text: 'Adaptacion curricular editada correctamente ',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.$vs.loading.close()\r\n                    me.volver()\r\n                })\r\n                .catch(error => {\r\n                    me.$vs.notify({\r\n                        text: 'Error al editar la propuesta metodológica ',\r\n                        color: 'danger',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        descargaArchivo(item) {\r\n            // console.log(item)\r\n            axios({\r\n                    url: 'https://foro.prolipadigital.com.ec' + item.url,\r\n                    method: 'GET',\r\n                    responseType: 'blob',\r\n                })\r\n                .then((response) => {\r\n                    var fileURL = window.URL.createObjectURL(new Blob([response.data]));\r\n                    var fileLink = document.createElement('a');\r\n\r\n                    fileLink.href = fileURL;\r\n                    fileLink.setAttribute('download', item.name + item.ext);\r\n                    document.body.appendChild(fileLink);\r\n\r\n                    fileLink.click();\r\n                    this.$vs.notify({\r\n                        text: 'El archivo se esta descargando',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    this.$vs.notify({\r\n                        text: 'Error en la descarga del archivo',\r\n                        color: 'warning',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                })\r\n        },\r\n        volver() {\r\n            let me = this;\r\n            me.$router.go(-1);\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["nuevaProp.vue"],"names":[],"mappings":";AAuLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nuevaProp.vue","sourceRoot":"src/views/propuestaMetodologica","sourcesContent":["<template>\r\n<div class=\"vx-col md:w-full w-full mb-base\">\r\n    <vx-card>\r\n        <!-- <div class=\"vx-col w-full mb-base\">\r\n            <h4>{{titulo}} </h4>\r\n        </div> -->\r\n        <div class=\"vx-row mt-4\">\r\n            <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full\" align=\"left\">\r\n                <!-- {{adaptacion.id}} -->\r\n                <div style=\"font-size: 12px; \">Nombre: </div>\r\n                <vs-input type=\"text\" class=\"inputx w-full mb-6\" v-model=\"adaptacion.nombre\" maxlength=\"100\" placeholder=\"Nombre del documento\" />\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full\" align=\"left\">\r\n                <div style=\"font-size: 12px; \">Descripción: </div>\r\n                <vs-input type=\"text\" class=\"inputx w-full mb-6\" v-model=\"adaptacion.descripcion\" maxlength=\"100\" placeholder=\"Descripción del documento\" />\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full\" align=\"left\">\r\n                <div style=\"font-size: 12px; \">Asignatura: </div>\r\n                <v-select class=\"mb-4 w-full\" v-model=\"asignaturaSelect\" :options=\"asignaturas\" label=\"nombreasignatura\" :reduce=\"asignaturas => asignaturas\" />\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full mb-base\" align=\"left\">\r\n                <div style=\"font-size: 12px; \">Estado: </div>\r\n                <vs-switch class=\"\" vs-icon-on=\"check\" color=\"success\" v-model=\"adaptacion.estado\" style=\"width: 100px;\">\r\n                    <span slot=\"on\">Publicada</span>\r\n                    <span slot=\"off\">Inactivo</span>\r\n                </vs-switch>\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full mt-5\" align=\"left\">\r\n                <div class=\"borde-unidad\">\r\n                    <div v-if=\"adaptacion.unidad1[0] != null\"> Archivo actual: <br>\r\n                        <label v-if=\"adaptacion.unidad1[0].name.length > long_name_file\"> {{adaptacion.unidad1[0].name.substr(0,long_name_file)}}.....{{adaptacion.unidad1[0].ext}} </label>\r\n                        <label v-else> {{adaptacion.unidad1[0].name}} </label>\r\n                        <br>\r\n                        <vx-tooltip text=\"Descargar\" position=\"bottom\" style=\"display: inline-block\" color=\"success\">\r\n                            <vs-button style=\"display: inline\" class=\"m-1\" @click=\"descargaArchivo(adaptacion.unidad1[0])\" size=\"small\" icon-pack=\"feather\" icon=\"icon-arrow-down\" color=\"success\" type=\"border\"></vs-button>\r\n                        </vx-tooltip>\r\n                        <vx-tooltip style=\"display: inline-block;\" text=\"Quitar archivo\" position=\"bottom\" color=\"danger\">\r\n                            <vs-button @click=\"quitarArchivo(adaptacion.unidad1,1)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-trash\" color=\"danger\" type=\"border\"></vs-button>\r\n                        </vx-tooltip>\r\n                    </div>\r\n                    <label v-else>\r\n                        <div class=\"\">Cargar archivo de unidad 1</div> <br>\r\n                        <input ref=\"file1\" id=\"file1\" :accept=\"tipo_archivo\" type=\"file\" @change=\"cargaUnidad(1)\" />\r\n                        <p><small> Tamaño máximo: {{limiteMegas}} mb. </small></p>\r\n                        <p class=\"text-danger\"> {{msj1}} </p>\r\n                        <div class=\"v-row text-left\" v-if=\"porcentaje1 > 0\">\r\n                            <vs-progress style=\"height:25px\" :percent=\"porcentaje1\" color=\"success\"> {{porcentaje1}}% </vs-progress>\r\n                        </div>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full mt-5\" align=\"left\">\r\n                <div class=\"borde-unidad\">\r\n                    <div v-if=\"adaptacion.unidad2[0] != null\"> Archivo actual: <br>\r\n                        <label v-if=\"adaptacion.unidad2[0].name.length > long_name_file\"> {{adaptacion.unidad2[0].name.substr(0,long_name_file)}}.....{{adaptacion.unidad2[0].ext}} </label>\r\n                        <label v-else> {{adaptacion.unidad2[0].name}} </label>\r\n                        <br>\r\n                        <vx-tooltip text=\"Descargar\" position=\"bottom\" style=\"display: inline-block\" color=\"success\">\r\n                            <vs-button style=\"display: inline\" class=\"m-1\" @click=\"descargaArchivo(adaptacion.unidad2[0])\" size=\"small\" icon-pack=\"feather\" icon=\"icon-arrow-down\" color=\"success\" type=\"border\"></vs-button>\r\n                        </vx-tooltip>\r\n                        <vx-tooltip style=\"display: inline-block;\" text=\"Quitar archivo\" position=\"bottom\" color=\"danger\">\r\n                            <vs-button @click=\"quitarArchivo(adaptacion.unidad2,2)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-trash\" color=\"danger\" type=\"border\"></vs-button>\r\n                        </vx-tooltip>\r\n                    </div>\r\n                    <label v-else>\r\n                        <div class=\"\">Cargar archivo de unidad 2</div> <br>\r\n                        <input v-if=\"porcentaje2 == 0\" ref=\"file2\" id=\"file2\" :accept=\"tipo_archivo\" type=\"file\" @change=\"cargaUnidad(2)\" />\r\n                        <p><small> Tamaño máximo: {{limiteMegas}} mb. </small></p>\r\n                        <p class=\"text-danger\"> {{msj2}} </p>\r\n                        <div class=\"v-row text-left\" v-if=\"porcentaje2 > 0\">\r\n                            <vs-progress style=\"height:25px\" :percent=\"porcentaje2\" color=\"success\"> {{porcentaje2}}% </vs-progress>\r\n                        </div>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full mt-5\" align=\"left\">\r\n                <div class=\"borde-unidad\">\r\n                    <div v-if=\"adaptacion.unidad3[0] != null\"> Archivo actual: <br>\r\n                        <label v-if=\"adaptacion.unidad3[0].name.length > long_name_file\"> {{adaptacion.unidad3[0].name.substr(0,long_name_file)}}.....{{adaptacion.unidad3[0].ext}} </label>\r\n                        <label v-else> {{adaptacion.unidad3[0].name}} </label>\r\n                        <br>\r\n                        <vx-tooltip text=\"Descargar\" position=\"bottom\" style=\"display: inline-block\" color=\"success\">\r\n                            <vs-button style=\"display: inline\" class=\"m-1\" @click=\"descargaArchivo(adaptacion.unidad3[0])\" size=\"small\" icon-pack=\"feather\" icon=\"icon-arrow-down\" color=\"success\" type=\"border\"></vs-button>\r\n                        </vx-tooltip>\r\n                        <vx-tooltip style=\"display: inline-block;\" text=\"Quitar archivo\" position=\"bottom\" color=\"danger\">\r\n                            <vs-button @click=\"quitarArchivo(adaptacion.unidad3,3)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-trash\" color=\"danger\" type=\"border\"></vs-button>\r\n                        </vx-tooltip>\r\n                    </div>\r\n                    <label v-else>\r\n                        <div class=\"\">Cargar archivo de unidad 3</div> <br>\r\n                        <input v-if=\"porcentaje3 == 0\" ref=\"file3\" id=\"file3\" :accept=\"tipo_archivo\" type=\"file\" @change=\"cargaUnidad(3)\" />\r\n                        <p><small> Tamaño máximo: {{limiteMegas}} mb. </small></p>\r\n                        <p class=\"text-danger\"> {{msj3}} </p>\r\n                        <div class=\"v-row text-left\" v-if=\"porcentaje3 > 0\">\r\n                            <vs-progress style=\"height:25px\" :percent=\"porcentaje3\" color=\"success\"> {{porcentaje3}}% </vs-progress>\r\n                        </div>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full mt-5\" align=\"left\">\r\n                <div class=\"borde-unidad\">\r\n                    <div v-if=\"adaptacion.unidad4[0] != null\"> Archivo actual: <br>\r\n                        <label v-if=\"adaptacion.unidad4[0].name.length > long_name_file\"> {{adaptacion.unidad4[0].name.substr(0,long_name_file)}}.....{{adaptacion.unidad4[0].ext}} </label>\r\n                        <label v-else> {{adaptacion.unidad4[0].name}} </label>\r\n                        <br>\r\n                        <vx-tooltip text=\"Descargar\" position=\"bottom\" style=\"display: inline-block\" color=\"success\">\r\n                            <vs-button style=\"display: inline\" class=\"m-1\" @click=\"descargaArchivo(adaptacion.unidad4[0])\" size=\"small\" icon-pack=\"feather\" icon=\"icon-arrow-down\" color=\"success\" type=\"border\"></vs-button>\r\n                        </vx-tooltip>\r\n                        <vx-tooltip style=\"display: inline-block;\" text=\"Quitar archivo\" position=\"bottom\" color=\"danger\">\r\n                            <vs-button @click=\"quitarArchivo(adaptacion.unidad4,4)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-trash\" color=\"danger\" type=\"border\"></vs-button>\r\n                        </vx-tooltip>\r\n                    </div>\r\n                    <label v-else>\r\n                        <div class=\"\">Cargar archivo de unidad 4</div> <br>\r\n                        <input v-if=\"porcentaje4 == 0\" ref=\"file4\" id=\"file4\" :accept=\"tipo_archivo\" type=\"file\" @change=\"cargaUnidad(4)\" />\r\n                        <p><small> Tamaño máximo: {{limiteMegas}} mb. </small></p>\r\n                        <p class=\"text-danger\"> {{msj4}} </p>\r\n                        <div class=\"v-row text-left\" v-if=\"porcentaje4 > 0\">\r\n                            <vs-progress style=\"height:25px\" :percent=\"porcentaje4\" color=\"success\"> {{porcentaje4}}% </vs-progress>\r\n                        </div>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full mt-5\" align=\"left\">\r\n                <div class=\"borde-unidad\">\r\n                    <div v-if=\"adaptacion.unidad5[0] != null\"> Archivo actual: <br>\r\n                        <label v-if=\"adaptacion.unidad5[0].name.length > long_name_file\"> {{adaptacion.unidad5[0].name.substr(0,long_name_file)}}.....{{adaptacion.unidad5[0].ext}} </label>\r\n                        <label v-else> {{adaptacion.unidad5[0].name}} </label>\r\n                        <br>\r\n                        <vx-tooltip text=\"Descargar\" position=\"bottom\" style=\"display: inline-block\" color=\"success\">\r\n                            <vs-button style=\"display: inline\" class=\"m-1\" @click=\"descargaArchivo(adaptacion.unidad5[0])\" size=\"small\" icon-pack=\"feather\" icon=\"icon-arrow-down\" color=\"success\" type=\"border\"></vs-button>\r\n                        </vx-tooltip>\r\n                        <vx-tooltip style=\"display: inline-block;\" text=\"Quitar archivo\" position=\"bottom\" color=\"danger\">\r\n                            <vs-button @click=\"quitarArchivo(adaptacion.unidad5,5)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-trash\" color=\"danger\" type=\"border\"></vs-button>\r\n                        </vx-tooltip>\r\n                    </div>\r\n                    <label v-else>\r\n                        <div class=\"\">Cargar archivo de unidad 5</div> <br>\r\n                        <input v-if=\"porcentaje5 == 0\" ref=\"file5\" id=\"file5\" :accept=\"tipo_archivo\" type=\"file\" @change=\"cargaUnidad(5)\" />\r\n                        <p><small> Tamaño máximo: {{limiteMegas}} mb. </small></p>\r\n                        <p class=\"text-danger\"> {{msj5}} </p>\r\n                        <div class=\"v-row text-left\" v-if=\"porcentaje5 > 0\">\r\n                            <vs-progress style=\"height:25px\" :percent=\"porcentaje5\" color=\"success\"> {{porcentaje5}}% </vs-progress>\r\n                        </div>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 lg:w-1/2 w-full mt-5\" align=\"left\">\r\n                <div class=\"borde-unidad\">\r\n                    <div v-if=\"adaptacion.unidad6[0] != null\"> Archivo actual: <br>\r\n                        <label v-if=\"adaptacion.unidad6[0].name.length > long_name_file\"> {{adaptacion.unidad6[0].name.substr(0,long_name_file)}}.....{{adaptacion.unidad6[0].ext}} </label>\r\n                        <label v-else> {{adaptacion.unidad6[0].name}} </label>\r\n                        <br>\r\n                        <vx-tooltip text=\"Descargar\" position=\"bottom\" style=\"display: inline-block\" color=\"success\">\r\n                            <vs-button style=\"display: inline\" class=\"m-1\" @click=\"descargaArchivo(adaptacion.unidad6[0])\" size=\"small\" icon-pack=\"feather\" icon=\"icon-arrow-down\" color=\"success\" type=\"border\"></vs-button>\r\n                        </vx-tooltip>\r\n                        <vx-tooltip style=\"display: inline-block;\" text=\"Quitar archivo\" position=\"bottom\" color=\"danger\">\r\n                            <vs-button @click=\"quitarArchivo(adaptacion.unidad6,6)\" size=\"small\" icon-pack=\"feather\" icon=\"icon-trash\" color=\"danger\" type=\"border\"></vs-button>\r\n                        </vx-tooltip>\r\n                    </div>\r\n                    <label v-else>\r\n                        <div class=\"\">Cargar archivo de unidad 6</div> <br>\r\n                        <input v-if=\"porcentaje6 == 0\" ref=\"file6\" id=\"file6\" :accept=\"tipo_archivo\" type=\"file\" @change=\"cargaUnidad(6)\" />\r\n                        <p><small> Tamaño máximo: {{limiteMegas}} mb. </small></p>\r\n                        <p class=\"text-danger\"> {{msj6}} </p>\r\n                        <div class=\"v-row text-left\" v-if=\"porcentaje6 > 0\">\r\n                            <vs-progress style=\"height:25px\" :percent=\"porcentaje6\" color=\"success\"> {{porcentaje6}}% </vs-progress>\r\n                        </div>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/1 w-full mt-4\">\r\n                <vs-button @click=\"$router.go(-1);\" color=\"dark\" type=\"border\">Volver</vs-button> &nbsp;\r\n                <vs-button v-if=\"edita ==1\" class=\"m-2 mb-2\" color=\"success\" type=\"gradient\" style=\"width: 150px\" @click=\"verificarDatos()\">Guardar</vs-button>\r\n                <vs-button v-if=\"edita ==2\" class=\"m-2 mb-2\" color=\"warning\" type=\"gradient\" style=\"width: 150px\" @click=\"verificarDatos()\">Editar</vs-button>\r\n            </div>\r\n\r\n        </div>\r\n    </vx-card>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            //tipo de archivo permitido para cargar (docx, doc)\r\n            tipo_archivo: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/msword',\r\n            long_name_file: 25, //longitud del nombre de archivo a mostrar\r\n            limiteMegas: 5, //maximo de megas permitido a subir en cada archivo\r\n            usuario: '',\r\n            titulo: '',\r\n            edita: '',\r\n            datosEditar: '',\r\n            asignaturas: [],\r\n            asignaturaSelect: {\r\n                'idasignatura': '',\r\n                'nombreasignatura': '',\r\n                'area_idarea': '',\r\n                'nivel_idnivel': '',\r\n                'user_grupoUsuario': '',\r\n                'user_idUsuario': '',\r\n                'user_nombreUsuario': '',\r\n                'user_email': '',\r\n            },\r\n            \r\n            adaptacion: {\r\n                'id': '',\r\n                'nombre': \"\",\r\n                'descripcion': '',\r\n                'asignatura': '',\r\n                'unidad1': [],\r\n                'unidad2': [],\r\n                'unidad3': [],\r\n                'unidad4': [],\r\n                'unidad5': [],\r\n                'unidad6': [],\r\n                'estado': 'true',\r\n            },\r\n            elim_u1: '',\r\n            elim_u2: '',\r\n            elim_u3: '',\r\n            elim_u4: '',\r\n            elim_u5: '',\r\n            elim_u6: '',\r\n            bytes: 1048576,\r\n            msjError: 'El peso del archivo excede el limite permitido, verifique antes de continuar',\r\n\r\n            porcentaje1: '',\r\n            pesoArchivo1: '',\r\n            muyPesado1: '',\r\n            msj1: '',\r\n\r\n            porcentaje2: '',\r\n            pesoArchivo2: '',\r\n            muyPesado2: '',\r\n            msj2: '',\r\n\r\n            porcentaje3: '',\r\n            pesoArchivo3: '',\r\n            muyPesado3: '',\r\n            msj3: '',\r\n\r\n            porcentaje4: '',\r\n            pesoArchivo4: '',\r\n            muyPesado4: '',\r\n            msj4: '',\r\n\r\n            porcentaje5: '',\r\n            pesoArchivo5: '',\r\n            muyPesado5: '',\r\n            msj5: '',\r\n\r\n            porcentaje6: '',\r\n            pesoArchivo6: '',\r\n            muyPesado6: '',\r\n            msj6: '',\r\n        }\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        me.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n        me.edita = localStorage.getItem('editarA')\r\n        if (me.edita == 1) {\r\n            me.titulo = 'Nueva propuesta metodológica'\r\n        }\r\n        if (me.edita == 2) {\r\n            me.datosEditar = JSON.parse(localStorage.getItem('contenidoAD'));\r\n            me.adaptacion = me.datosEditar;\r\n            me.asignaturaSelect = me.datosEditar.asignatura\r\n            // console.log(me.datosEditar)\r\n            me.titulo = 'Editar propuesta metodológica'\r\n        }\r\n        me.getAsignaturas();\r\n    },\r\n    methods: {\r\n        getAsignaturas() {\r\n            let me = this;\r\n            this.$http.get(this.$server_url+'asignaturasActi')\r\n                .then(res => {\r\n                    me.asignaturas = res.data\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n                })\r\n        },\r\n        cargaUnidad(unidad) {\r\n            let me = this;\r\n            if (unidad == 1) {\r\n                me.msj1='';\r\n                me.porcentaje1 = 0;\r\n                me.pesoArchivo1 = 0;\r\n                me.muyPesado1 = false;\r\n                me.file1 = me.$refs.file1.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo1 = (me.file1.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo1 > me.limiteMegas) {\r\n                    me.muyPesado1 = true;\r\n                    me.msj1 = me.msjError;\r\n                }\r\n                // me.adaptacion.unidad1[0] = me.file1;\r\n                console.log(me.adaptacion.unidad1)\r\n            }\r\n            if (unidad == 2) {\r\n                me.msj2='';\r\n                me.porcentaje2 = 0;\r\n                me.pesoArchivo2 = 0;\r\n                me.muyPesado2 = false;\r\n                me.file2 = me.$refs.file2.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo2 = (me.file2.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo2 > me.limiteMegas) {\r\n                    me.muyPesado2 = true;\r\n                    me.msj2 = me.msjError;\r\n                }\r\n                me.adaptacion.unidad2 = me.file2;\r\n            }\r\n            if (unidad == 3) {\r\n                me.msj3='';\r\n                me.porcentaje3 = 0;\r\n                me.pesoArchivo3 = 0;\r\n                me.muyPesado3 = false;\r\n                me.file3 = me.$refs.file3.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo3 = (me.file3.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo3 > me.limiteMegas) {\r\n                    me.muyPesado3 = true;\r\n                    me.msj3 = me.msjError;\r\n                }\r\n                me.adaptacion.unidad3 = me.file3;\r\n            }\r\n            if (unidad == 4) {\r\n                me.msj4='';\r\n                me.porcentaje4 = 0;\r\n                me.pesoArchivo4 = 0;\r\n                me.muyPesado4 = false;\r\n                me.file4 = me.$refs.file4.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo4 = (me.file4.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo4 > me.limiteMegas) {\r\n                    me.muyPesado4 = true;\r\n                    me.msj4 = me.msjError;\r\n                }\r\n                me.adaptacion.unidad4 = me.file4;\r\n            }\r\n            if (unidad == 5) {\r\n                me.msj5='';\r\n                me.porcentaje5 = 0;\r\n                me.pesoArchivo5 = 0;\r\n                me.muyPesado5 = false;\r\n                me.file5 = me.$refs.file5.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo5 = (me.file5.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo5 > me.limiteMegas) {\r\n                    me.muyPesado5 = true;\r\n                    me.msj5 = me.msjError;\r\n                }\r\n                me.adaptacion.unidad5 = me.file5;\r\n            }\r\n            if (unidad == 6) {\r\n                me.msj6='';\r\n                me.porcentaje6 = 0;\r\n                me.pesoArchivo6 = 0;\r\n                me.muyPesado6 = false;\r\n                me.file6 = me.$refs.file6.files[0];\r\n                // verificar tamaño de archivo\r\n                me.pesoArchivo6 = (me.file6.size / me.bytes).toFixed(2);\r\n                if (me.pesoArchivo6 > me.limiteMegas) {\r\n                    me.muyPesado6 = true;\r\n                    me.msj6 = me.msjError;\r\n                }\r\n                me.adaptacion.unidad6 = me.file6;\r\n            }\r\n            console.log(me.adaptacion)\r\n        },\r\n        quitarArchivo(item, unidad) {\r\n            let me = this;\r\n            switch (unidad) {\r\n                case 1:\r\n                    me.elim_u1 = item[0].id //id de archivo a eliminar\r\n                    me.adaptacion.unidad1 = [];\r\n                    me.muyPesado1 = '';\r\n                    me.msj1 = '';\r\n                    // console.log('quita unidad 1', me.adaptacion)\r\n                    break;\r\n                case 2:\r\n                    me.elim_u2 = item[0].id //id de archivo a eliminar\r\n                    me.adaptacion.unidad2 = [];\r\n                    me.muyPesado2 = '';\r\n                    me.msj2 = '';\r\n                    break;\r\n                case 3:\r\n                    me.elim_u3 = item[0].id //id de archivo a eliminar\r\n                    me.adaptacion.unidad3 = [];\r\n                    me.muyPesado3 = '';\r\n                    me.msj3 = '';\r\n                    break;\r\n                case 4:\r\n                    me.elim_u4 = item[0].id //id de archivo a eliminar\r\n                    me.adaptacion.unidad4 = [];\r\n                    me.muyPesado4 = '';\r\n                    me.msj4 = '';\r\n                    break;\r\n                case 5:\r\n                    me.elim_u5 = item[0].id //id de archivo a eliminar\r\n                    me.adaptacion.unidad5 = [];\r\n                    me.muyPesado5 = '';\r\n                    me.msj5 = '';\r\n                    break;\r\n                case 6:\r\n                    me.elim_u6 = item[0].id //id de archivo a eliminar\r\n                    me.adaptacion.unidad6 = [];\r\n                    me.muyPesado6 = '';\r\n                    me.msj6 = '';\r\n                    break;\r\n            }\r\n        },\r\n        verificarDatos() {\r\n            let me = this;\r\n            if (me.muyPesado1 || me.muyPesado2 || me.muyPesado3 || me.muyPesado4 || me.muyPesado5 || me.muyPesado6) {\r\n                me.$vs.notify({\r\n                    text: 'Verifique el tamaño de sus archivos, antes de continuar',\r\n                    color: 'danger',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            if (me.adaptacion.nombre == \"\") {\r\n                me.$vs.notify({\r\n                    text: 'Ingrese el nombre del proyecto',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            if (me.asignaturaSelect.idasignatura < 1) {\r\n                me.$vs.notify({\r\n                    text: 'Seleccione la asignatura antes de continuar',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            me.subirUnidad1();\r\n        },\r\n        subirUnidad1() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            if (me.elim_u1 != \"\") {\r\n                axios.delete(\"https://foro.prolipadigital.com.ec/upload/files/\" + me.elim_u1)\r\n                    .then(function (res) {\r\n                        me.$vs.notify({\r\n                            text: 'Archivo de la unidad 1 eliminado ',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('No se eliminó el archivo de la unidad 1')\r\n                        // me.$vs.notify({\r\n                        //     text: 'No se eliminó el archivo de la unidad 1',\r\n                        //     color: 'warning',\r\n                        //     iconPack: 'feather',\r\n                        //     icon: 'icon-alert-triangle'\r\n                        // })\r\n                    })\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('files', me.file1);\r\n            axios.post(\"https://foro.prolipadigital.com.ec/upload\", formData, {\r\n                    onUploadProgress: uploadEvent => {\r\n                        if (me.pesoArchivo1 > 0) {\r\n                            me.porcentaje1 = Math.round(uploadEvent.loaded / uploadEvent.total * 100);\r\n                        }\r\n                    }\r\n                })\r\n                .then(function (response) {\r\n                    me.adaptacion.unidad1 = response.data[0];\r\n                    this.file1 = '';\r\n                    me.$vs.notify({\r\n                        text: 'Archivo de la UNIDAD 1 cargado correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.subirUnidad2();\r\n                    // me.$vs.loading.close()\r\n                })\r\n                .catch(error => {\r\n                    me.archivo = '';\r\n                    console.log(' no se ha seleccionado ningun archivo unidad  1 ')\r\n                    me.subirUnidad2();\r\n                    // me.$vs.loading.close()\r\n                })\r\n        },\r\n        subirUnidad2() {\r\n            let me = this;\r\n            // me.$vs.loading()\r\n            if (me.elim_u2 != \"\") {\r\n                axios.delete(\"https://foro.prolipadigital.com.ec/upload/files/\" + me.elim_u2)\r\n                    .then(function (res) {\r\n                        me.$vs.notify({\r\n                            text: 'Archivo de la unidad 2 eliminado ',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('No se eliminó el archivo de la unidad 2')\r\n                    })\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('files', me.file2);\r\n            axios.post(\"https://foro.prolipadigital.com.ec/upload\", formData, {\r\n                    onUploadProgress: uploadEvent => {\r\n                        if (me.pesoArchivo2 > 0) {\r\n                            me.porcentaje2 = Math.round(uploadEvent.loaded / uploadEvent.total * 100);\r\n                        }\r\n                    }\r\n                })\r\n                .then(function (response) {\r\n                    me.adaptacion.unidad2 = response.data[0]\r\n                    me.$vs.notify({\r\n                        text: 'Archivo de la UNIDAD 2 cargado correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.subirUnidad3();\r\n                    // me.$vs.loading.close()\r\n                })\r\n                .catch(error => {\r\n                    me.archivo = '';\r\n                    console.log(' no se ha seleccionado ningun archivo unidad 2  ')\r\n                    me.subirUnidad3();\r\n                    // me.$vs.loading.close()\r\n                })\r\n        },\r\n        subirUnidad3() {\r\n            let me = this;\r\n            // me.$vs.loading()\r\n            if (me.elim_u3 != \"\") {\r\n                axios.delete(\"https://foro.prolipadigital.com.ec/upload/files/\" + me.elim_u3)\r\n                    .then(function (res) {\r\n                        me.$vs.notify({\r\n                            text: 'Archivo de la unidad 3 eliminado ',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('No se eliminó el archivo de la unidad 3')\r\n                    })\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('files', me.file3);\r\n            axios.post(\"https://foro.prolipadigital.com.ec/upload\", formData, {\r\n                    onUploadProgress: uploadEvent => {\r\n                        if (me.pesoArchivo3 > 0) {\r\n                            me.porcentaje3 = Math.round(uploadEvent.loaded / uploadEvent.total * 100);\r\n                        }\r\n                    }\r\n                })\r\n                .then(function (response) {\r\n                    me.adaptacion.unidad3 = response.data[0]\r\n                    me.$vs.notify({\r\n                        text: 'Archivo de la UNIDAD 3 cargado correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.subirUnidad4();\r\n                    // me.$vs.loading.close()\r\n                })\r\n                .catch(error => {\r\n                    me.archivo = '';\r\n                    console.log(' no se ha seleccionado ningun archivo unidad 3  ')\r\n                    me.subirUnidad4();\r\n                    // me.$vs.loading.close()\r\n                })\r\n        },\r\n        subirUnidad4() {\r\n            let me = this;\r\n            // me.$vs.loading()\r\n            if (me.elim_u4 != \"\") {\r\n                axios.delete(\"https://foro.prolipadigital.com.ec/upload/files/\" + me.elim_u4)\r\n                    .then(function (res) {\r\n                        me.$vs.notify({\r\n                            text: 'Archivo de la unidad 4 eliminado ',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('No se eliminó el archivo de la unidad 4')\r\n                    })\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('files', me.file4);\r\n            axios.post(\"https://foro.prolipadigital.com.ec/upload\", formData, {\r\n                    onUploadProgress: uploadEvent => {\r\n                        if (me.pesoArchivo4 > 0) {\r\n                            me.porcentaje4 = Math.round(uploadEvent.loaded / uploadEvent.total * 100);\r\n                        }\r\n                    }\r\n                })\r\n                .then(function (response) {\r\n                    me.adaptacion.unidad4 = response.data[0]\r\n                    me.$vs.notify({\r\n                        text: 'Archivo de la UNIDAD 4 cargado correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.subirUnidad5();\r\n                    // me.$vs.loading.close()\r\n                })\r\n                .catch(error => {\r\n                    me.archivo = '';\r\n                    console.log(' no se ha seleccionado ningun archivo unidad 4  ')\r\n                    me.subirUnidad5();\r\n                    // me.$vs.loading.close()\r\n                })\r\n        },\r\n        subirUnidad5() {\r\n            let me = this;\r\n            // me.$vs.loading()\r\n            if (me.elim_u5 != \"\") {\r\n                axios.delete(\"https://foro.prolipadigital.com.ec/upload/files/\" + me.elim_u5)\r\n                    .then(function (res) {\r\n                        me.$vs.notify({\r\n                            text: 'Archivo de la unidad 5 eliminado ',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('No se eliminó el archivo de la unidad 5')\r\n                    })\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('files', me.file5);\r\n            axios.post(\"https://foro.prolipadigital.com.ec/upload\", formData, {\r\n                    onUploadProgress: uploadEvent => {\r\n                        if (me.pesoArchivo5 > 0) {\r\n                            me.porcentaje5 = Math.round(uploadEvent.loaded / uploadEvent.total * 100);\r\n                        }\r\n                    }\r\n                })\r\n                .then(function (response) {\r\n                    me.adaptacion.unidad5 = response.data[0]\r\n                    me.$vs.notify({\r\n                        text: 'Archivo de la UNIDAD 5 cargado correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.subirUnidad6();\r\n                    // me.$vs.loading.close()\r\n                })\r\n                .catch(error => {\r\n                    me.archivo = '';\r\n                    console.log(' no se ha seleccionado ningun archivo unidad 5  ')\r\n                    me.subirUnidad6();\r\n                    // me.$vs.loading.close()\r\n                })\r\n        },\r\n        subirUnidad6() {\r\n            let me = this;\r\n            // me.$vs.loading()\r\n            if (me.elim_u6 != \"\") {\r\n                axios.delete(\"https://foro.prolipadigital.com.ec/upload/files/\" + me.elim_u6)\r\n                    .then(function (res) {\r\n                        me.$vs.notify({\r\n                            text: 'Archivo de la unidad 6 eliminado ',\r\n                            color: 'success',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-check'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log('No se eliminó el archivo de la unidad 6')\r\n                    })\r\n            }\r\n            let formData = new FormData();\r\n            formData.append('files', me.file6);\r\n            axios.post(\"https://foro.prolipadigital.com.ec/upload\", formData, {\r\n                    onUploadProgress: uploadEvent => {\r\n                        if (me.pesoArchivo6 > 0) {\r\n                            me.porcentaje6 = Math.round(uploadEvent.loaded / uploadEvent.total * 100);\r\n                        }\r\n                    }\r\n                })\r\n                .then(function (response) {\r\n                    me.adaptacion.unidad6 = response.data[0]\r\n                    me.$vs.notify({\r\n                        text: 'Archivo de la UNIDAD 6 cargado correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.guarda_o_edita();\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(error => {\r\n                    me.archivo = '';\r\n                    console.log(' no se ha seleccionado ningun archivo unidad 6  ')\r\n                    me.guarda_o_edita();\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        guarda_o_edita() {\r\n            let me = this;\r\n            // console.log(me.adaptacion)\r\n            if (me.edita == 1) {\r\n                me.guardarPropuesta();\r\n            } else {\r\n                me.editaPropuesta();\r\n            }\r\n        },\r\n        guardarPropuesta() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            me.asignaturaSelect.user_grupoUsuario = me.usuario.id_group;\r\n            me.asignaturaSelect.user_idUsuario = me.usuario.idUsuario;\r\n            me.asignaturaSelect.user_nombreUsuario = me.usuario.nombres + ' ' + me.usuario.apellidos;\r\n            me.asignaturaSelect.user_email = me.usuario.email;\r\n            axios.post('https://foro.prolipadigital.com.ec/propuesta-metodologicas', {\r\n                    nombre: me.adaptacion.nombre,\r\n                    descripcion: me.adaptacion.descripcion,\r\n                    asignatura: me.asignaturaSelect,\r\n                    unidad1: me.adaptacion.unidad1,\r\n                    unidad2: me.adaptacion.unidad2,\r\n                    unidad3: me.adaptacion.unidad3,\r\n                    unidad4: me.adaptacion.unidad4,\r\n                    unidad5: me.adaptacion.unidad5,\r\n                    unidad6: me.adaptacion.unidad6,\r\n                    estado: me.adaptacion.estado,\r\n                })\r\n                .then(res => {\r\n                    me.$vs.notify({\r\n                        text: 'Adaptacion curricular guardado correctamente ',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.$vs.loading.close()\r\n                    me.volver()\r\n                })\r\n                .catch(error => {\r\n                    me.$vs.notify({\r\n                        text: 'Error al guardar la propuesta metodológica ',\r\n                        color: 'danger',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        editaPropuesta() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n            me.asignaturaSelect.user_grupoUsuario = me.usuario.id_group;\r\n            me.asignaturaSelect.user_idUsuario = me.usuario.idUsuario;\r\n            me.asignaturaSelect.user_nombreUsuario = me.usuario.nombres + ' ' + me.usuario.apellidos;\r\n            me.asignaturaSelect.user_email = me.usuario.email;\r\n            axios.put('https://foro.prolipadigital.com.ec/propuesta-metodologicas/' + me.adaptacion.id, {\r\n                    nombre: me.adaptacion.nombre,\r\n                    descripcion: me.adaptacion.descripcion,\r\n                    asignatura: me.asignaturaSelect,\r\n                    unidad1: me.adaptacion.unidad1,\r\n                    unidad2: me.adaptacion.unidad2,\r\n                    unidad3: me.adaptacion.unidad3,\r\n                    unidad4: me.adaptacion.unidad4,\r\n                    unidad5: me.adaptacion.unidad5,\r\n                    unidad6: me.adaptacion.unidad6,\r\n                    estado: me.adaptacion.estado,\r\n                })\r\n                .then(res => {\r\n                    me.$vs.notify({\r\n                        text: 'Adaptacion curricular editada correctamente ',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.$vs.loading.close()\r\n                    me.volver()\r\n                })\r\n                .catch(error => {\r\n                    me.$vs.notify({\r\n                        text: 'Error al editar la propuesta metodológica ',\r\n                        color: 'danger',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        descargaArchivo(item) {\r\n            // console.log(item)\r\n            axios({\r\n                    url: 'https://foro.prolipadigital.com.ec' + item.url,\r\n                    method: 'GET',\r\n                    responseType: 'blob',\r\n                })\r\n                .then((response) => {\r\n                    var fileURL = window.URL.createObjectURL(new Blob([response.data]));\r\n                    var fileLink = document.createElement('a');\r\n\r\n                    fileLink.href = fileURL;\r\n                    fileLink.setAttribute('download', item.name + item.ext);\r\n                    document.body.appendChild(fileLink);\r\n\r\n                    fileLink.click();\r\n                    this.$vs.notify({\r\n                        text: 'El archivo se esta descargando',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                })\r\n                .catch(error => {\r\n                    this.$vs.notify({\r\n                        text: 'Error en la descarga del archivo',\r\n                        color: 'warning',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                })\r\n        },\r\n        volver() {\r\n            let me = this;\r\n            me.$router.go(-1);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n/* input[type=\"file\"] {\r\n    display: none;\r\n} */\r\n\r\n.text-danger {\r\n    font-size: 11px;\r\n}\r\n\r\n.borde-unidad {\r\n    border: 1px dashed #ccc;\r\n    /* display: inline-block; */\r\n    padding: 6px;\r\n    cursor: pointer;\r\n}\r\n</style>\r\n"]}]}