{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\temporadas\\components\\exportPagare.vue?vue&type=style&index=0&id=67cb86fc&scoped=true&lang=css","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\temporadas\\components\\exportPagare.vue","mtime":1712682816614},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\n.html2canvas-container { width: 3000px !important; height: 3000px !important; }\r\n*{\r\n    font-family: Arial;\r\n}\r\n.letra{\r\n    padding:0px 60px 0px 0px;\r\n    font-size: 11px;\r\n}\r\ntable {\r\n  table-layout: fixed;\r\n  width: 90%;\r\n  border-collapse: collapse;\r\n  border: none;\r\n}\r\nth{\r\n    text-decoration: underline;\r\n}\r\nthead th:nth-child(1) {\r\n  width: 10%;\r\n}\r\n\r\nthead th:nth-child(2) {\r\n  width: 30%;\r\n}\r\n\r\nthead th:nth-child(3) {\r\n  width: 15%;\r\n}\r\n\r\nthead th:nth-child(4) {\r\n  width: 15%;\r\n}\r\nthead th:nth-child(5) {\r\n  width: 20%;\r\n}\r\n@media print {\r\n    td {page-break-before: always;}\r\n    p  {page-break-before: always;}\r\n}\r\n/* th, td {\r\n  padding: 20px;\r\n} */\r\n",{"version":3,"sources":["exportPagare.vue"],"names":[],"mappings":";AAwVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"exportPagare.vue","sourceRoot":"src/views/temporadas/components","sourcesContent":["<template>\r\n    <div>\r\n        <vx-card id=\"seccionImprimir2\" v-if=\"arregloContrato.length > 0\" style=\"padding-left: 35px!important;margin-right: 10px!important;\">\r\n            <h6 class=\"text-center font-bold\">PAGARE A LA ORDEN</h6>\r\n            <p class=\"mt-3 letra\">\r\n               POR USD. $ {{ arregloContrato[0].anticipo_aprobado }}\r\n            </p>\r\n            <p class=\"letra\" style=\"margin-top: 30px;\">\r\n                Debo y pagaré incondicionalmente a la orden de\r\n                <b>{{ empresaSelected.descripcion_corta.toUpperCase() }}</b>\r\n                a {{ getDay(arregloContrato[0]) }} días vista, en la ciudad de Quito\r\n                o en el lugar que se me reconvenga, la cantidad\r\n                de $ {{ arregloContrato[0].anticipo_aprobado }}\r\n                ( <span>{{ numeroALetras(arregloContrato[0].anticipo_aprobado).toUpperCase() }}</span> DÓLARES DE LOS ESTADOS UNIDOS DE NORTE AMERICA).\r\n                Al cual se sumarán los intereses sobre la cantidad indicada a\r\n                la tasa del interés fijada por el directorio del Banco Central del Ecuador.\r\n            </p>\r\n            <p class=\"letra\" style=\"margin-top: 15px;\">\r\n                El presente pagaré autoriza al acreedor a que en caso\r\n                de incumplimiento del pago en el plazo acordado,\r\n                el Acreedor podrá declarar vencida la totalidad de\r\n                la obligación y demandar el incumplimiento de\r\n                la totalidad de la misma más el interés legal\r\n                y de mora permitido acorde con las regulaciones establecidas\r\n                por el directorio del Banco Central del Ecuador, más todos\r\n                los gastos judiciales, extrajudiciales, y honorarios profesionales\r\n                que ocasione su cobro, siendo prueba suficiente de ello la simple\r\n                aseveración del acreedor.\r\n            </p>\r\n            <p class=\"letra\" style=\"margin-top: 15px;\">\r\n                Al fiel cumplimiento de lo estipulado me obligo\r\n                con todos mis bienes presentes y futuros.\r\n            </p>\r\n            <p class=\"letra\" style=\"margin-top: 15px;\">\r\n                Renuncio domicilio y me someto a los jueces de lo civil\r\n                que tengan jurisdicción en la ciudad\r\n                de Quito y al trámite ejecutivo conforme la ley.\r\n            </p>\r\n            <p class=\"letra\" style=\"margin-top: 15px;\">\r\n                Expresamente acepto que el acreedor transfiera en cualquier\r\n                momento los derechos que emanan del presente documento,\r\n                sin que sea necesario que se me haga notificación alguna.\r\n            </p>\r\n            <p class=\"letra\" style=\"margin-top: 15px;\">\r\n                Excuso de presentación para el pago, así\r\n                como los avisos por falta de este hecho. Sin protesto.\r\n            </p>\r\n            <p class=\"letra\" style=\"margin-top: 15px;\">\r\n                <!-- Quito, {{ day }} de {{ mes }} del {{ year }} -->\r\n                Quito, {{ getFechaContrato(arregloContrato[0]) }}\r\n            </p>\r\n            <p class=\"letra\" style=\"margin-top: 110px;\">\r\n                FIRMA __________________\r\n            </p>\r\n            <p class=\"letra mt-1\">\r\n                CC.: {{ arregloContrato[0].cedula_beneficiario }}\r\n            </p>\r\n            <p class=\"letra mt-1\">\r\n                Dirección: {{ arregloContrato[0].direccionBenefiario.toUpperCase() }}\r\n            </p>\r\n            <p class=\"letra mt-1\">\r\n                Ciudad: {{ arregloContrato[0].nombre_ciudad.toUpperCase() }}\r\n            </p>\r\n            <p class=\"letra mt-1\">\r\n                {{ arregloContrato[0].beneficiario.toUpperCase() }}\r\n            </p>\r\n            <p class=\"letra mt-1\">\r\n                DEUDOR\r\n            </p>\r\n        </vx-card>\r\n        <div class=\"w-full p-2 bg-gray-400 text-center\">\r\n            <vs-button color=\"primary\" @click=\"imprimirEval()\" type=\"border\">Imprimir</vs-button>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\nimport moment from \"moment\";\r\nimport html2pdf from \"html2pdf.js\"\r\nexport default{\r\n    data(){\r\n        return{\r\n            arregloContrato:[],\r\n            // contrato:'',\r\n            day:'',\r\n            mes:'',\r\n            anio:'',\r\n            fecha:'',\r\n            telefono:'',\r\n            nombrearchivo:'',\r\n            year:'',\r\n            //fecha generar contrato\r\n            yearGenerar:'',\r\n            mesGenerar:'',\r\n            dayGenerar:'',\r\n        }\r\n    },\r\n    props:{\r\n      id_beneficiario_pedido:{\r\n        type:Number,\r\n        default:0\r\n      },\r\n      id_pedido:{\r\n        type:Number,\r\n        default:0\r\n      },\r\n      contrato:{\r\n        type:String,\r\n        default:''\r\n      },\r\n      aniosAnteriorSelect:{\r\n        type:String,\r\n        default:''\r\n      },\r\n      empresaSelected:{\r\n        type:Object,\r\n        default:function(){\r\n          return {}\r\n        }\r\n      }\r\n    },\r\n    created(){\r\n      let me = this;\r\n      moment.lang(\"es\")\r\n      me.day = moment().format('DD');\r\n      me.mes = moment().format('MMMM');\r\n      me.year = moment().format('YYYY')\r\n      me.fecha = me.day+'-'+me.mes.substring(0,3)+'-'+me.year\r\n      me.nombrearchivo = 'Pagare -'+ me.contrato+\".pdf\"\r\n      //me.contrato = me.$route.params.id\r\n    },\r\n    mounted(){\r\n      let me = this\r\n      me.getPedidos()\r\n    },\r\n    methods:{\r\n      getPedidos(){\r\n        let me = this\r\n        me.$vs.loading();\r\n        this.$http.get(this.$server_url+'get_pedidos_periodo_Only_pedido/'+me.id_pedido+'/'+me.id_beneficiario_pedido)\r\n        .then(res => {\r\n            me.$vs.loading.close();\r\n            me.arregloContrato = res.data\r\n            me.$vs.notify({\r\n            text: \"Espere mientras se va generando el archivo...\",\r\n            color: 'primary',\r\n            iconPack: 'feather',\r\n            icon: 'icon-file',\r\n            time:3000\r\n            })\r\n            setTimeout(function() {me.imprimirEval()}, 1000);\r\n        })\r\n      },\r\n      imprimirEval(){\r\n        let me = this\r\n        var element = document.getElementById('seccionImprimir2');\r\n        var opt = {\r\n            margin:       0.5,\r\n            // margin:         [1, 0.5, 0.5, 1],\r\n            filename:     me.nombrearchivo,\r\n            image:        { type: 'jpeg', quality: 0.98 },\r\n            html2canvas:    {scale: 3, letterRendering: true},\r\n            //pagebreak:      {mode: 'avoid-all',before: \"#page2\"},\r\n            jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }\r\n            //jsPDF: {unit: 'pt', format: 'letter', orientation: 'portrait'}\r\n        };\r\n        html2pdf().from(element).set(opt).save();\r\n        me.arregloContrato = []\r\n        me.$vs.notify({\r\n            text: \"Archivo descargado correctamente\",\r\n            color: 'success',\r\n            iconPack: 'feather',\r\n            icon: 'icon-file',\r\n            time:2000\r\n        })\r\n        me.$emit('change',true)\r\n      },\r\n      getDay(item){\r\n          let me = this\r\n          const fechaGenerarC =  item.fecha_generar_contrato.substring(0,10)\r\n          var preFechaLimite = \"\"\r\n          var preyear        = me.aniosAnteriorSelect\r\n            //costa -> hasta 30 de septiembre\r\n            if(item.tregion == 2){\r\n            return me.calculoFechaLimite(preyear,2,fechaGenerarC)\r\n            //preFechaLimite = preyear + \"-\"+ '09'+\"-\"+\"30\"\r\n          }\r\n          //sierra -> hasta 31 de diciembre\r\n          else{\r\n            return me.calculoFechaLimite(preyear,1,fechaGenerarC)\r\n              //preFechaLimite = preyear + \"-\"+ '12'+\"-\"+\"31\"\r\n          }\r\n        },\r\n        calculoFechaLimite(fechaFin,region,fechaGenerarC){\r\n          let me = this;\r\n          //SIERRA\r\n          if(region == 1){\r\n            return me.obtenerDiasXAnio(region,fechaGenerarC,fechaFin)\r\n          }\r\n          //COSTA\r\n          const arrayDeAnios = me.generarArrayDeAnios(me.year, fechaFin);\r\n          var anioUltimo = 0\r\n          if(arrayDeAnios.length > 1){\r\n            anioUltimo = arrayDeAnios.length -1\r\n          }\r\n          let  resultadoDays = 0\r\n          for(let i = 0; i< arrayDeAnios.length; i++){\r\n            let FInicio = \"\"\r\n            let FFin    = \"\"\r\n            var anioEnCurso = arrayDeAnios[i]\r\n            var result      = 0\r\n            if(arrayDeAnios.length == 1){\r\n              if(i == 0){\r\n                //fecha inicio del contrato\r\n                FInicio = fechaGenerarC\r\n                FFin    = arrayDeAnios[i] + \"-\"+ '09'+\"-\"+\"30\"\r\n                // result = me.obtenerDiasXAnio(region,FInicio,arrayDeAnios[i])+1\r\n                result = me.obtenerDiasXAnio(region,FInicio,FFin)+1\r\n              }\r\n            }else{\r\n              if(i == 0){\r\n                //fecha inicio del contrato\r\n                FInicio = fechaGenerarC\r\n                FFin    = arrayDeAnios[i] + \"-\"+ '12'+\"-\"+\"31\"\r\n                // result = me.obtenerDiasXAnio(region,FInicio,arrayDeAnios[i])+1\r\n                result = me.obtenerDiasXAnio(region,FInicio,FFin)+1\r\n              }\r\n              if(i == anioUltimo){\r\n                //fecha inicio del año\r\n                FInicio = anioEnCurso+'/01/01'\r\n                FFin    = arrayDeAnios[i] + \"-\"+ '09'+\"-\"+\"30\"\r\n                result = me.obtenerDiasXAnio(region,FInicio,FFin) +1\r\n              }\r\n              if(i != anioUltimo && i != 0){\r\n                //fecha inicio del año\r\n                FInicio = anioEnCurso+'/01/01'\r\n                FFin    = arrayDeAnios[i] + \"-\"+ '12'+\"-\"+\"31\"\r\n                result = me.obtenerDiasXAnio(region,FInicio,FFin) +1\r\n              }\r\n            }\r\n            console.log(\"ii\",result)\r\n            resultadoDays += result\r\n          }\r\n          if(arrayDeAnios.length == 1){\r\n            resultadoDays = resultadoDays\r\n            return resultadoDays\r\n          }else{\r\n            console.log(\"uno\",resultadoDays)\r\n            resultadoDays = resultadoDays\r\n            console.log(\"dos\",resultadoDays)\r\n            return resultadoDays\r\n          }\r\n        },\r\n        obtenerDiasXAnio(region,FInicio,FFin){\r\n          let me = this;\r\n          var preFechaLimite = \"\"\r\n            //costa -> hasta 30 de septiembre\r\n            if(region == 2){\r\n              // preFechaLimite = FFin + \"-\"+ '09'+\"-\"+\"30\"\r\n              preFechaLimite = FFin\r\n\r\n            }\r\n            //sierra -> hasta 31 de diciembre\r\n            else{\r\n              preFechaLimite = FFin + \"-\"+ '12'+\"-\"+\"31\"\r\n            }\r\n            var fechaInicio = new Date(FInicio);\r\n            var fechaFin = new Date(preFechaLimite);\r\n            //proceso de calcular los dias\r\n            // Calcular la cantidad de tiempo en milisegundos entre las dos fechas\r\n            var tiempoMilisegundos = fechaFin.getTime() - fechaInicio.getTime();\r\n            // Convertir la cantidad de tiempo de milisegundos a días\r\n            var diasEntreFechas = tiempoMilisegundos / (1000 * 3600 * 24);\r\n            // Redondear el resultado a un número entero\r\n            diasEntreFechas = Math.round(diasEntreFechas);\r\n            return diasEntreFechas\r\n        },\r\n        generarArrayDeAnios(inicio, fin) {\r\n            const arrayAnios = [];\r\n            for (let i = inicio; i <= fin; i++) {\r\n              arrayAnios.push(i);\r\n            }\r\n          return arrayAnios;\r\n        },\r\n      getFechaContrato(item){\r\n        let me = this;\r\n        const fechaGenerarC =  item.fecha_generar_contrato.substring(0,10)\r\n        me.dayGenerar       = moment(fechaGenerarC).format('DD');\r\n        me.mesGenerar       = moment(fechaGenerarC).format('MMMM');\r\n        me.yearGenerar      = moment(fechaGenerarC).format('YYYY')\r\n        var resultado       = me.dayGenerar +\" de \"+me.mesGenerar + \" \"+me.yearGenerar\r\n        return resultado\r\n      },\r\n      numeroALetras(numero) {\r\n        let unidades = ['', 'uno', 'dos', 'tres', 'cuatro', 'cinco', 'seis', 'siete', 'ocho', 'nueve'];\r\n        let especiales = ['', 'once', 'doce', 'trece', 'catorce', 'quince', 'dieciséis', 'diecisiete', 'dieciocho', 'diecinueve'];\r\n        let decenas = ['', 'diez', 'veinte', 'treinta', 'cuarenta', 'cincuenta', 'sesenta', 'setenta', 'ochenta', 'noventa'];\r\n        let centenas = ['', 'ciento', 'doscientos', 'trescientos', 'cuatrocientos', 'quinientos', 'seiscientos', 'setecientos', 'ochocientos', 'novecientos'];\r\n        let bloques = ['', 'mil', 'millón', 'mil millones', 'billón', 'mil billones', 'trillón', 'mil trillones'];\r\n\r\n        if (numero === 0) {\r\n            return 'cero';\r\n        }\r\n\r\n        if (numero < 0) {\r\n            return 'menos ' + numeroALetras(Math.abs(numero));\r\n        }\r\n\r\n        let palabras = [];\r\n        let indiceBloque = 0;\r\n\r\n        while (numero > 0) {\r\n            let bloque = numero % 1000;\r\n            if (bloque !== 0) {\r\n            let palabrasBloque = [];\r\n            let centenasBloque = Math.floor(bloque / 100);\r\n            let decenasBloque = bloque % 100;\r\n            let unidadesBloque = bloque % 10;\r\n            if (centenasBloque === 1 && decenasBloque === 0 && unidadesBloque === 0) {\r\n                palabrasBloque.push('cien');\r\n            } else if (centenasBloque !== 0) {\r\n                palabrasBloque.push(centenas[centenasBloque]);\r\n            }\r\n            if (decenasBloque >= 10 && decenasBloque <= 19) {\r\n                palabrasBloque.push(especiales[decenasBloque - 10]);\r\n            } else if (decenasBloque !== 0) {\r\n                palabrasBloque.push(decenas[Math.floor(decenasBloque / 10)]);\r\n            }\r\n            if (decenasBloque !== 1 && unidadesBloque !== 0) {\r\n                palabrasBloque.push(unidades[unidadesBloque]);\r\n            }\r\n            palabrasBloque.push(bloques[indiceBloque]);\r\n            palabras.push(palabrasBloque.join(' '));\r\n            }\r\n            indiceBloque++;\r\n            numero = Math.floor(numero / 1000);\r\n        }\r\n        return palabras.reverse().join(' ');\r\n      },\r\n    },\r\n\r\n}\r\n</script>\r\n<style scoped>\r\n.html2canvas-container { width: 3000px !important; height: 3000px !important; }\r\n*{\r\n    font-family: Arial;\r\n}\r\n.letra{\r\n    padding:0px 60px 0px 0px;\r\n    font-size: 11px;\r\n}\r\ntable {\r\n  table-layout: fixed;\r\n  width: 90%;\r\n  border-collapse: collapse;\r\n  border: none;\r\n}\r\nth{\r\n    text-decoration: underline;\r\n}\r\nthead th:nth-child(1) {\r\n  width: 10%;\r\n}\r\n\r\nthead th:nth-child(2) {\r\n  width: 30%;\r\n}\r\n\r\nthead th:nth-child(3) {\r\n  width: 15%;\r\n}\r\n\r\nthead th:nth-child(4) {\r\n  width: 15%;\r\n}\r\nthead th:nth-child(5) {\r\n  width: 20%;\r\n}\r\n@media print {\r\n    td {page-break-before: always;}\r\n    p  {page-break-before: always;}\r\n}\r\n/* th, td {\r\n  padding: 20px;\r\n} */\r\n</style>\r\n"]}]}