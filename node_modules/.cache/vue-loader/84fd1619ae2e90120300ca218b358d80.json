{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\clases\\libro.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\clases\\libro.vue","mtime":1712682815604},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nimport 'vue-select/dist/vue-select.css';\r\nVue.use(axios)\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            activePrompt: false,\r\n            activePrompt2: false,\r\n            val: '',\r\n            idlibro: '',\r\n            valMultipe: {\r\n                value1: '',\r\n                value2: ''\r\n            },\r\n            select: [],\r\n            libros: [],\r\n        }\r\n    },\r\n    computed: {\r\n        validName() {\r\n            return (this.valMultipe.value1.length > 0 && this.valMultipe.value2.length > 0)\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getLibroSelect()\r\n        this.getLibros()\r\n    },\r\n    methods: {\r\n        acceptAlert() {\r\n            let me = this;\r\n            let formData = new FormData();\r\n            formData.append('idlibro', me.idlibro);\r\n            formData.append('idcurso', 908);\r\n            this.$http.post(this.$server_url+'postLibroCurso', formData)\r\n                .then(function (response) {\r\n                    me.getLibros();\r\n                    me.$vs.notify({\r\n                        color: 'success',\r\n                        title: 'Guardado',\r\n                        text: 'Libro Agregado'\r\n                    })\r\n                })\r\n                .catch(function (error) {})\r\n\r\n        },\r\n        close() {\r\n            this.$vs.notify({\r\n                color: 'danger',\r\n                title: '',\r\n                text: 'Datos no guardados!'\r\n            })\r\n        },\r\n        clearValMultiple() {\r\n            this.valMultipe.value1 = \"\";\r\n            this.valMultipe.value2 = \"\";\r\n        },\r\n        async getLibroSelect() {\r\n            let me = this;\r\n            var url = this.$server_url+\"librosEstudiante?idusuario=5763\";\r\n            this.$http.get(url).then(function (response) {\r\n                    me.select = response.data;\r\n                })\r\n                .catch(function (error) {\r\n\r\n                });\r\n        },\r\n        async getLibros() {\r\n            let me = this;\r\n            me.$vs.loading({\r\n                color: '#046AE7'\r\n            })\r\n            this.$http.get(this.$server_url+'librosCurso?idcurso=908')\r\n                .then(function (response) {\r\n                    me.libros = response.data\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        eliminarLibro(id) {\r\n            let me = this;\r\n            me.$vs.loading({\r\n                color: '#046AE7'\r\n            })\r\n            this.$http.get(this.$server_url+'librosCursoEliminar?id=' + id)\r\n                .then(function (response) {\r\n                    me.$vs.notify({\r\n                        color: 'success',\r\n                        title: '',\r\n                        text: 'Libro eliminado!'\r\n                    })\r\n                    me.$vs.loading.close()\r\n                    me.getLibros();\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        datolibro(url){\r\n            localStorage.url = url;\r\n            this.$router.push('/libro/digital');\r\n\r\n        }\r\n    },\r\n}\r\n",{"version":3,"sources":["libro.vue"],"names":[],"mappings":";AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"libro.vue","sourceRoot":"src/views/clases","sourcesContent":["<template>\r\n<div>\r\n    <div class=\"demo-alignment\">\r\n        <vs-button @click=\"activePrompt = true\" color=\"dark\">Agregar libro</vs-button>\r\n    </div>\r\n    <div class=\"vx-row\">\r\n        <div class=\"vx-col w-1/2 md:w-1/3 xl:w-1/4 mt-3\" v-for=\"(item,$index) in libros\" :key=\"$index\">\r\n            <vx-card class=\"text-center\">\r\n                <div slot=\"no-body\">\r\n                    <img v-if=\"item.weblibro != null \" class=\"responsive card-img-top\" v-bind:src=\"$data_url+'archivos/upload/libro/'+item.weblibro+'/portada.png'\" alt=\"Card image cap\">\r\n                    <img v-else class=\"responsive card-img-top\" v-bind:src=\"$data_url+'archivos/img/'+item.portada\" alt=\"Card image cap\">\r\n                </div>\r\n                <p class=\"font-bold\">\r\n                    {{item.nombrelibro}}\r\n                </p>\r\n                <small>\r\n                    {{item.descripcionlibro}}\r\n                </small>\r\n                <div class=\"flex flex-wrap mt-4\">\r\n                    <div class=\"w-1/3 ml-auto\">\r\n                        <vs-button radius color=\"primary\" type=\"filled\" @click=\"datolibro(item.weblibro)\" icon-pack=\"feather\" icon=\"icon-eye\"></vs-button>\r\n                    </div>\r\n                    <div class=\"w-1/3 ml-auto\">\r\n                        <vs-button radius color=\"danger\" type=\"filled\" @click=\"eliminarLibro(item.id)\" icon-pack=\"feather\" icon=\"icon-trash\"></vs-button>\r\n                    </div>\r\n                </div>\r\n            </vx-card>\r\n        </div>\r\n    </div>\r\n    <vs-prompt title=\"Nuevo libro\" @cancel=\"idlibro=''\" @accept=\"acceptAlert\" @close=\"close\" :active.sync=\"activePrompt\">\r\n        <div class=\"con-exemple-prompt\">\r\n            <span>Selecciona un libro</span>\r\n            <v-select :options=\"select\" :reduce=\"select => select.idlibro\" label=\"nombrelibro\" v-model=\"idlibro\"></v-select>\r\n        </div>\r\n    </vs-prompt>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nimport 'vue-select/dist/vue-select.css';\r\nVue.use(axios)\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            activePrompt: false,\r\n            activePrompt2: false,\r\n            val: '',\r\n            idlibro: '',\r\n            valMultipe: {\r\n                value1: '',\r\n                value2: ''\r\n            },\r\n            select: [],\r\n            libros: [],\r\n        }\r\n    },\r\n    computed: {\r\n        validName() {\r\n            return (this.valMultipe.value1.length > 0 && this.valMultipe.value2.length > 0)\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getLibroSelect()\r\n        this.getLibros()\r\n    },\r\n    methods: {\r\n        acceptAlert() {\r\n            let me = this;\r\n            let formData = new FormData();\r\n            formData.append('idlibro', me.idlibro);\r\n            formData.append('idcurso', 908);\r\n            this.$http.post(this.$server_url+'postLibroCurso', formData)\r\n                .then(function (response) {\r\n                    me.getLibros();\r\n                    me.$vs.notify({\r\n                        color: 'success',\r\n                        title: 'Guardado',\r\n                        text: 'Libro Agregado'\r\n                    })\r\n                })\r\n                .catch(function (error) {})\r\n\r\n        },\r\n        close() {\r\n            this.$vs.notify({\r\n                color: 'danger',\r\n                title: '',\r\n                text: 'Datos no guardados!'\r\n            })\r\n        },\r\n        clearValMultiple() {\r\n            this.valMultipe.value1 = \"\";\r\n            this.valMultipe.value2 = \"\";\r\n        },\r\n        async getLibroSelect() {\r\n            let me = this;\r\n            var url = this.$server_url+\"librosEstudiante?idusuario=5763\";\r\n            this.$http.get(url).then(function (response) {\r\n                    me.select = response.data;\r\n                })\r\n                .catch(function (error) {\r\n\r\n                });\r\n        },\r\n        async getLibros() {\r\n            let me = this;\r\n            me.$vs.loading({\r\n                color: '#046AE7'\r\n            })\r\n            this.$http.get(this.$server_url+'librosCurso?idcurso=908')\r\n                .then(function (response) {\r\n                    me.libros = response.data\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        eliminarLibro(id) {\r\n            let me = this;\r\n            me.$vs.loading({\r\n                color: '#046AE7'\r\n            })\r\n            this.$http.get(this.$server_url+'librosCursoEliminar?id=' + id)\r\n                .then(function (response) {\r\n                    me.$vs.notify({\r\n                        color: 'success',\r\n                        title: '',\r\n                        text: 'Libro eliminado!'\r\n                    })\r\n                    me.$vs.loading.close()\r\n                    me.getLibros();\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        datolibro(url){\r\n            localStorage.url = url;\r\n            this.$router.push('/libro/digital');\r\n\r\n        }\r\n    },\r\n}\r\n</script>\r\n"]}]}