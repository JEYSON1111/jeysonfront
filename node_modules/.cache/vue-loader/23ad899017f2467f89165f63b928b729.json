{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\gestion_matricula\\administrador\\matricula_niveles.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\gestion_matricula\\administrador\\matricula_niveles.vue","mtime":1712682815945},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport flatPickr from 'vue-flatpickr-component';\r\nimport 'flatpickr/dist/flatpickr.css';\r\nimport vSelect from 'vue-select'\r\n\r\nexport default {\r\n    data() {\r\n      return{\r\n        editar:{\r\n            valor:'',\r\n            matricula:'',\r\n            nivelInstitucion_id:0\r\n        },\r\n       \r\n        popupEditvalor:false,\r\n         periodosAll:[],\r\n         datosPeriodo:false,\r\n         editarNiveles:true,\r\n          listadoPeriodos:true,\r\n          colorx:'',\r\n          listadoPensiones:true,\r\n          estudianteSin:false,\r\n          asignarPensiones:false,\r\n          popupAsignarParalelos:false,\r\n          popupGestionEstudiantes:false,\r\n          niveles:[],\r\n          nivel:{\r\n              inicio:'',\r\n              hasta:'',\r\n              periodo_id:'',\r\n              nombreInstitucion:'',\r\n              valor_matricula:'',\r\n            \r\n          },\r\n        nivelesEditar:[],\r\n        popupEditarNiveles:false,\r\n        toDate: null,\r\n        configdateTimePicker: {\r\n                enableTime: true,\r\n                dateFormat: 'Y-m-d'\r\n        },\r\n        item:{\r\n            orden:'',\r\n            \r\n        },\r\n        precio:[],\r\n        //variables para valores de las pensiones\r\n        ver_nivel_inicial:'1',\r\n        ver_nivel_basica:'1',\r\n        ver_nivel_secundaria:'1',\r\n        ver_nivel_superior:'1',\r\n        nivelPrecio:{\r\n            inicial1:'',\r\n            inicial2:'',\r\n            primero:'',\r\n            segundo:'',\r\n            tercero:'',\r\n            cuarto:'',\r\n            quinto:'',\r\n            sexto:'',\r\n            septimo:'',\r\n            octavo:'',\r\n            noveno:'',\r\n            decimo:'',\r\n            primero_bgu:'',\r\n            segundo_bgu:'',\r\n            tercero_bgu:'',\r\n        },\r\n        institucion:[],\r\n        PeriodosInstitucion:[],\r\n        valoresPensiones:[],\r\n        popupValoresPensiones:false,\r\n\r\n        //VARIABLES PARA LOS PARALELOS\r\n        p_a:'1',\r\n        p_b:'1',\r\n        p_c:'1',\r\n        p_d:'0',\r\n        paralelo:{\r\n            nivelInstitucion_id:'',\r\n            nivel_id:'',\r\n            institucion_id:'',\r\n            periodo_id:'',\r\n        },\r\n        arregloParalelos:[],\r\n        arregloParalelosAsignados:[],\r\n        usuario:[],\r\n        nivelesInstitucion:[],\r\n        descripcion_periodo:'',\r\n        institucionAdmin:'',\r\n        matricula_admin:'',\r\n     \r\n\r\n        //FIN VARIABLES PARA LOS PARALELOS  \r\n      }  \r\n    },\r\n    components: {\r\n        'v-select': vSelect,\r\n        flatPickr,\r\n     },\r\n     created(){\r\n         let me = this;\r\n         me.getNivel();\r\n         me.institucion = JSON.parse(localStorage.getItem(\"institucion\"))\r\n          me.usuario = JSON.parse(localStorage.getItem(\"usuario\"))\r\n          me.matricula_admin = localStorage.getItem(\"matricula_admin\")\r\n       \r\n        \r\n     },\r\n     mounted(){\r\n        let me = this;\r\n        me.getPeriodoInstitucion();\r\n        me.nivelPeriodoInstitucion();\r\n        me.getPeriodoInstitucionAll();\r\n        me.getInformacioninstitucion();\r\n        \r\n     },\r\n    methods:{\r\n        VentanaAgregarPension(){\r\n            let me = this;\r\n            me.asignarPensiones = true;\r\n            me.descripcion_periodo = localStorage.getItem(\"descripcion_periodo\")\r\n\r\n        },\r\n         cerrar(){\r\n             let me = this;\r\n             me.popupValoresPensiones = true;\r\n             me.popupAsignarParalelos = false;\r\n         },\r\n\r\n         vistaEditarValores(tr){\r\n             let me = this;\r\n             localStorage.setItem(\"editarPeriodo\",tr.periodoescolar_idperiodoescolar)\r\n             localStorage.setItem(\"editarInstitucion\",tr.institucion_idInstitucion)\r\n             \r\n              localStorage.setItem(\"clave_periodo\",tr.id)\r\n             me.toDate = tr.fecha_inicio_pension\r\n             me.nivel.valor_matricula = tr.valor_matricula\r\n             me.listadoPeriodos = false;\r\n\r\n             me.getNivelesInstitucion();\r\n             \r\n         },\r\n\r\n           getNivelesInstitucion() {\r\n            let me = this;\r\n         \r\n            let institucion = localStorage.getItem(\"editarInstitucion\")\r\n            let periodo = localStorage.getItem(\"editarPeriodo\")\r\n\r\n            this.$http.get(this.$server_url+'nivelesInstitucion?institucion_id='+institucion+'&periodo_id='+periodo)\r\n                .then(function (res) { \r\n                   \r\n                    me.nivelesInstitucion = res.data\r\n                })\r\n                .catch(function (error) {\r\n              \r\n                    console.log(error + ' error');\r\n                })\r\n        },\r\n\r\n          getNivel() {\r\n            let me = this;\r\n           \r\n            this.$http.get(this.$server_url+'estudiante/matricula?todoNiveles=yes')\r\n                .then(function (res) {\r\n                    me.niveles = res.data\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');  \r\n\r\n                })\r\n        },\r\n\r\n        getPeriodoInstitucionAll() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n\r\n            if(me.matricula_admin == \"yes\"){\r\n                    me.institucionAdmin = localStorage.getItem(\"matricula_institucion\")\r\n            }else{\r\n                    me.institucionAdmin = me.usuario.institucion_idInstitucion\r\n            }\r\n            this.$http.get(this.$server_url+'institucionTraerPeriodo?institucion_id='+me.institucionAdmin+'&periodosAll=yes')\r\n                .then(function (res) { \r\n                     me.$vs.loading.close()\r\n                    me.periodosAll = res.data\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                    console.log(error + ' error');\r\n                })\r\n        },\r\n\r\n        getPeriodoInstitucion() {\r\n            let me = this;\r\n           \r\n          \r\n            this.$http.get(this.$server_url+'institucionTraerPeriodo?institucion_id='+me.usuario.institucion_idInstitucion)\r\n                .then(function (res) {\r\n                    me.nivel.periodo_id = res.data[0].periodo\r\n                    localStorage.setItem('periodo_id',res.data[0].periodo)\r\n                  \r\n                \r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                \r\n\r\n                })\r\n        },\r\n\r\n        //para editar cada valor\r\n        editValor(tr){\r\n            let me = this;\r\n            me.popupEditvalor = true;\r\n            me.editar.valor = tr.valor\r\n            me.editar.matricula = tr.matricula\r\n            me.editar.nivelInstitucion_id = tr.nivelInstitucion_id\r\n        },\r\n\r\n          //para guardar las areas\r\n\r\n         guardarDatosNiveles(){\r\n        \r\n            let me = this;\r\n\r\n            let formData = new FormData();\r\n            if(me.datosPeriodo == true){\r\n                formData.append('institucion_id',me.paralelo.institucion_id)\r\n                formData.append('periodo_id',me.paralelo.periodo_id )\r\n                formData.append('fecha_inicio_pension',me.toDate )\r\n                // formData.append('valor_matricula', me.nivel.valor_matricula )\r\n                \r\n             \r\n                formData.append('clave_periodo', localStorage.getItem(\"clave_periodo\"))\r\n\r\n            }else{\r\n                formData.append('valor',me.editar.valor )\r\n                formData.append('matricula',me.editar.matricula )\r\n                formData.append('nivelInstitucion_id', me.editar.nivelInstitucion_id )\r\n              \r\n            }\r\n           \r\n            this.$http.post(this.$server_url+'editarNiveles', formData)\r\n                .then(function (res) {\r\n                    me.$vs.notify({\r\n                        text: res.data.message,\r\n                        color: 'primary',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                  me.getPeriodoInstitucionAll();\r\n                  me.getNivelesInstitucion();\r\n                  me.popupEditvalor = false;\r\n                  \r\n                })\r\n                .catch(function (error) {})\r\n\r\n           \r\n\r\n        },\r\n\r\n         getInformacioninstitucion() {\r\n            let me = this;\r\n           \r\n            if(me.matricula_admin == \"yes\"){\r\n                    me.institucionAdmin = localStorage.getItem(\"matricula_institucion\")\r\n            }else{\r\n                    me.institucionAdmin = me.usuario.institucion_idInstitucion\r\n            }\r\n\r\n            this.$http.get(this.$server_url+'institucionTraerPeriodo?institucion_id='+me.institucionAdmin+'&dataInstitucion=yes')\r\n                .then(function (res) {\r\n                   \r\n                    me.nivel.nombreInstitucion = res.data[0].nombreInstitucion\r\n                    me.nivel.institucion_id = res.data[0].idInstitucion\r\n                })\r\n                .catch(function (error) {\r\n                    \r\n                    console.log(error + ' error');\r\n                \r\n\r\n                })\r\n        },\r\n        //para traer los periodos y niveles\r\n        nivelPeriodoInstitucion() {\r\n            let me = this;\r\n\r\n            if(me.matricula_admin == \"yes\"){\r\n                    me.institucionAdmin = localStorage.getItem(\"matricula_institucion\")\r\n            }else{\r\n                    me.institucionAdmin = me.usuario.institucion_idInstitucion\r\n            }\r\n           \r\n            this.$http.get(this.$server_url+'nivelPeriodoInstitucion?institucion_id='+me.institucionAdmin)\r\n                .then(function (res) {\r\n                    me.PeriodosInstitucion = res.data\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                \r\n\r\n                })\r\n        },\r\n        //para ver los valores de las pensiones del periodo de la institucion\r\n        verValoresPensiones(tr){\r\n            let me = this;\r\n             this.$http.get(this.$server_url+'nivelPeriodoInstitucion?institucion_id='+tr.institucion_id+'&periodo_id='+tr.periodo_id+'&valoresPensiones=yes')\r\n                .then(function (res) {\r\n                    me.valoresPensiones = res.data\r\n                    me.popupValoresPensiones= true;\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                \r\n\r\n                })\r\n        },\r\n\r\n        //traer paralelos \r\n    \r\n        traerParalelos(){\r\n            let me = this;\r\n             this.$http.get(this.$server_url+'nivelPeriodoInstitucion?paralelos=yes')\r\n                .then(function (res) {\r\n                    me.arregloParalelos = res.data\r\n                   \r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                \r\n\r\n                })\r\n        },\r\n\r\n        //traer paralelos  asignados\r\n    \r\n        traerParalelosAsignados(nivelInstitucion_id){\r\n            let me = this;\r\n             this.$http.get(this.$server_url+'nivelPeriodoInstitucion?paraleloAsignado=yes'+'&nivelInstitucion_id='+nivelInstitucion_id)\r\n                .then(function (res) {\r\n                    me.arregloParalelosAsignados = res.data\r\n                   \r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                \r\n\r\n                })\r\n        },\r\n        \r\n\r\n        \r\n\r\n        //para asignar paralelos\r\n        asignarParelos(tr){\r\n            let me = this;\r\n\r\n            me.traerParalelos();\r\n            localStorage.setItem('nivelInstitucion_id',tr.nivelInstitucion_id)\r\n            me.traerParalelosAsignados(tr.nivelInstitucion_id)\r\n            me.popupValoresPensiones = false;\r\n            me.popupAsignarParalelos = true;\r\n\r\n            me.paralelo.nivelInstitucion_id = tr.nivelInstitucion_id\r\n            me.paralelo.nivel_id = tr.nivel_id\r\n            me.paralelo.institucion_id = tr.institucion_id\r\n            me.paralelo.periodo_id = tr.periodo_id\r\n\r\n        },\r\n\r\n        //Gestion de asignacion de paralelos\r\n        GestionarAlumnos(tr){\r\n            let me = this;\r\n            me.estudianteSin  = true;\r\n            me.listadoPensiones = false;\r\n        },\r\n   \r\n\r\n        guardarParalelos(item){\r\n            let me = this;\r\n\r\n            let formData = new FormData();\r\n            formData.append('institucion_id',me.paralelo.institucion_id)\r\n            formData.append('periodo_id',me.paralelo.periodo_id )\r\n            formData.append('nivel_id',me.paralelo.nivel_id)\r\n            formData.append('nivelInstitucion_id',me.paralelo.nivelInstitucion_id)\r\n\r\n            formData.append('paralelo',item.paralelo_id)\r\n        \r\n\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'guardarParalelos', formData)\r\n                .then(function (res) {\r\n                    me.$vs.loading.close() \r\n                    me.$vs.notify({\r\n                        text: res.data.message,\r\n                        color: 'primary',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n\r\n                    me.traerParalelosAsignados(localStorage.getItem(\"nivelInstitucion_id\"))\r\n                    \r\n   \r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n\r\n        eliminarParalelo(item){\r\n             let me = this;\r\n           \r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + \"eliminarParalelo/\" + item.cursos_paralelos_id)\r\n                .then(function (res) {\r\n                    me.$vs.loading.close();\r\n                    me.$vs.notify({\r\n                        text: item.descripcion + ' eliminada',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.traerParalelosAsignados(localStorage.getItem(\"nivelInstitucion_id\"))\r\n                  \r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n\r\n        obtenerNiveles(){\r\n\r\n            let me = this;\r\n           \r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'guardarInformacionNiveles', me.nivel)\r\n                .then(function (res) {\r\n                    me.$vs.loading.close() \r\n                    me.$vs.notify({\r\n                        text: res.data.message,\r\n                        color: 'primary',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.verValoresPensiones()\r\n                    me.nivelesEditar = res.data\r\n                    me.popupEditarNiveles = true\r\n   \r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n\r\n        \r\n        },\r\n\r\n        guardarNiveles(){\r\n            let me = this;\r\n\r\n            if(me.toDate == \"\" || me.toDate == null  ){\r\n                 me.$vs.notify({\r\n                        text: \"Ingrese una fecha de inicio de pension\",\r\n                        color: 'warning',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                return false;\r\n            }\r\n        \r\n            let formData = new FormData();\r\n            formData.append('institucion_id',me.usuario.institucion_idInstitucion)\r\n            formData.append('periodo_id',localStorage.getItem(\"periodo_id\"))\r\n            formData.append('fecha_inicio_pension',me.toDate)\r\n            // formData.append('valor_matricula',me.nivel.valor_matricula)\r\n            //========EDUCACION INICIAL=====\r\n            if(me.ver_nivel_inicial == '1'){\r\n                formData.append('inicial',     \"yes\");\r\n                //inicial1\r\n                formData.append('ordenInicial1',     me.niveles[0].orden);\r\n                formData.append('precio_inicial1', me.nivelPrecio.inicial1);\r\n                formData.append('matricula_inicial1', me.nivelPrecio.m_inicial1);\r\n                //inicial2\r\n                formData.append('ordenInicial2',     me.niveles[1].orden);\r\n                formData.append('precio_inicial2', me.nivelPrecio.inicial2);\r\n                formData.append('matricula_inicial2', me.nivelPrecio.m_inicial2)\r\n                \r\n            }\r\n\r\n            //========EDUCACION BASICA=====\r\n            if(me.ver_nivel_basica == '1'){\r\n                formData.append('basica',     \"yes\");\r\n                 //primero\r\n                formData.append('orden_primero',     me.niveles[2].orden);\r\n                formData.append('precio_primero', me.nivelPrecio.primero);\r\n                formData.append('matricula_primero', me.nivelPrecio.m_primero);\r\n                //segundo\r\n                formData.append('orden_segundo',     me.niveles[3].orden);\r\n                formData.append('precio_segundo', me.nivelPrecio.segundo);\r\n                formData.append('matricula_segundo', me.nivelPrecio.m_segundo);\r\n                //tercero\r\n                formData.append('orden_tercero',     me.niveles[4].orden);\r\n                formData.append('precio_tercero', me.nivelPrecio.tercero);\r\n                formData.append('matricula_tercero', me.nivelPrecio.m_tercero);\r\n                //cuarto\r\n                formData.append('orden_cuarto',     me.niveles[5].orden);\r\n                formData.append('precio_cuarto', me.nivelPrecio.cuarto);\r\n                formData.append('matricula_cuarto', me.nivelPrecio.m_cuarto);\r\n                //quinto\r\n                formData.append('orden_quinto',     me.niveles[6].orden);\r\n                formData.append('precio_quinto', me.nivelPrecio.quinto);\r\n                formData.append('matricula_quinto', me.nivelPrecio.m_quinto);\r\n                //sexto\r\n                formData.append('orden_sexto',     me.niveles[7].orden);\r\n                formData.append('precio_sexto', me.nivelPrecio.sexto);\r\n                formData.append('matricula_sexto', me.nivelPrecio.m_sexto);\r\n                //septimo\r\n                formData.append('orden_septimo',     me.niveles[8].orden);\r\n                formData.append('precio_septimo', me.nivelPrecio.septimo);\r\n                formData.append('matricula_septimo', me.nivelPrecio.m_septimo);\r\n              \r\n            }\r\n\r\n            //========EDUCACION SECUNDARIA=====\r\n            if(me.ver_nivel_secundaria == '1'){\r\n                formData.append('secundaria',     \"yes\");\r\n                 //primero\r\n                formData.append('orden_octavo',     me.niveles[9].orden);\r\n                formData.append('precio_octavo', me.nivelPrecio.octavo);\r\n                formData.append('matricula_octavo', me.nivelPrecio.m_octavo);\r\n                //segundo\r\n                formData.append('orden_noveno',     me.niveles[10].orden);\r\n                formData.append('precio_noveno', me.nivelPrecio.noveno);\r\n                 formData.append('matricula_noveno', me.nivelPrecio.m_noveno);\r\n                //tercero\r\n                formData.append('orden_decimo',     me.niveles[11].orden);\r\n                formData.append('precio_decimo', me.nivelPrecio.decimo);\r\n                formData.append('matricula_decimo', me.nivelPrecio.m_decimo);\r\n        \r\n            }\r\n    \r\n        //========EDUCACION SUPERIOR=====\r\n            if(me.ver_nivel_superior == '1'){\r\n                formData.append('superior',     \"yes\");\r\n                 //primero\r\n                formData.append('orden_primero_bgu',     me.niveles[12].orden);\r\n                formData.append('precio_primero_bgu', me.nivelPrecio.primero_bgu);\r\n                formData.append('matricula_primero_bgu', me.nivelPrecio.m_primero_bgu);\r\n                //segundo\r\n                formData.append('orden_segundo_bgu',     me.niveles[13].orden);\r\n                formData.append('precio_segundo_bgu', me.nivelPrecio.segundo_bgu);\r\n                formData.append('matricula_segundo_bgu', me.nivelPrecio.m_segundo_bgu);\r\n                //tercero\r\n                formData.append('orden_tercero_bgu',     me.niveles[14].orden);\r\n                formData.append('precio_tercero_bgu', me.nivelPrecio.tercero_bgu);\r\n                formData.append('matricula_tercero_bgu', me.nivelPrecio.m_tercero_bgu);\r\n            }\r\n        \r\n            formData.append('guardar', \"yes\");\r\n\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'guardarInformacionNiveles', formData)\r\n                .then(function (res) {\r\n                    me.$vs.loading.close()\r\n                     me.$vs.notify({\r\n                        text: res.data.message,\r\n                        color: 'primary',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    if(res.data.status  == \"1\"){\r\n                        location.reload();\r\n                    }\r\n                    me.nivelPeriodoInstitucion();    \r\n                    me.limpiar();\r\n                    me.asignarPensiones = false;\r\n\r\n                 \r\n                 \r\n                  \r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n\r\n        limpiar(){\r\n            let me = this;\r\n            me.toDate = null;\r\n            me.nivelPrecio.inicial1 = null;\r\n            me.nivelPrecio.inicial2 = null;\r\n            me.nivelPrecio.primero = null;\r\n            me.nivelPrecio.segundo = null;\r\n            me.nivelPrecio.tercero = null;\r\n            me.nivelPrecio.cuarto = null;\r\n            me.nivelPrecio.quinto = null;\r\n            me.nivelPrecio.sexto = null;\r\n            e.nivelPrecio.septimo = null;\r\n            me.nivelPrecio.octavo = null;\r\n            me.nivelPrecio.noveno = null;\r\n            me.nivelPrecio.decimo = null;\r\n            me.nivelPrecio.primero_bgu = null;\r\n            me.nivelPrecio.segundo_bgu = null;\r\n            me.nivelPrecio.tercero_bgu = null;\r\n        },\r\n    }\r\n}\r\n",{"version":3,"sources":["matricula_niveles.vue"],"names":[],"mappings":";AA01BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;;;;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"matricula_niveles.vue","sourceRoot":"src/views/gestion_matricula/administrador","sourcesContent":["<template>\r\n    <div>\r\n        <vs-button type=\"relief\"  @click=\"VentanaAgregarPension()\" icon=\"attach_money\">Asignar Pensiones</vs-button>\r\n        <br/><br/>\r\n         <div v-if=\"asignarPensiones == false\">\r\n\r\n         \r\n            <div v-if=\"listadoPeriodos == true\">\r\n\r\n                <vs-table max-items=\"10\" search pagination :data=\"periodosAll\" style=\"margin-top:-40px\">\r\n                        <template slot=\"thead\">\r\n                            \r\n                            <vs-th>Periodos</vs-th>\r\n                            <vs-th>Fecha inicio pensión</vs-th>\r\n                            <vs-th>Accion</vs-th>\r\n                        </template>\r\n                        <template slot-scope=\"{data}\">\r\n                            <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                                \r\n                                <vs-td>\r\n                                \r\n                                    {{data[indextr].periodoescolar}}<br>\r\n                                    \r\n                                </vs-td>\r\n                                <vs-td>\r\n                                    {{data[indextr].fecha_inicio_pension}}<br>\r\n                                </vs-td>\r\n                              \r\n                                <vs-td>\r\n                                    <vx-tooltip style=\"display: inline-block;\" text=\"Editar valores\" position=\"top\" color=\"warning\">\r\n                                        <vs-button class=\"modal-default-button\" @click=\"vistaEditarValores(tr)\" size=\"small\" color=\"primary\"  type=\"filled\" icon-pack=\"feather\" icon=\"icon-bookmark\"> \r\n                                        </vs-button>\r\n                                    </vx-tooltip> &nbsp;\r\n\r\n                                </vs-td>\r\n                        \r\n                                \r\n                            </vs-tr>\r\n                        </template>\r\n                    </vs-table>  \r\n            </div>\r\n\r\n       \r\n            <div v-if=\"listadoPeriodos == false\">\r\n\r\n                <!--Boton para regresar-->\r\n                <br/>\r\n                <vs-button color=\"primary\" @click=\"listadoPeriodos= true;\" size=\"small\" type=\"filled\" icon=\"arrow_back\">Regresar</vs-button> \r\n                    <br/>\r\n                <!--PARA ASIGNAR O EDITAR LOS VALORES DE LAS PENSIONES  -->\r\n                <div>\r\n                    <vs-alert active=\"true\" color=\"success\">\r\n                    <p style=\"font-weight:400;\"><i class=\"fa fa-exclamation\" aria-hidden=\"true\"></i> Seleccione los niveles que  utiliza su institución</p>\r\n                    </vs-alert>\r\n\r\n                    <br/>\r\n\r\n                    <vs-row>\r\n                        <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                            <div style=\"display:flex;flex-direction:column;width:100%;\">\r\n                                <div style=\"width:100%\">\r\n                                    <p style=\"text-align:left;\">Institución</p>   \r\n                                </div>\r\n\r\n                            <div style=\"width:100%\">\r\n                                    <vs-input  disabled v-model=\"nivel.nombreInstitucion\" style=\"width:95%;\"/>    \r\n                                </div>\r\n                            </div>\r\n                        </vs-col>\r\n\r\n                        <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                            <div style=\"display:flex;flex-direction:column;width:100%;\">\r\n                                <div style=\"width:100%\">\r\n                                    <p style=\"text-align:left;\">Fecha del inicio del pago de la pensión</p>   \r\n                                </div>\r\n\r\n                            <div style=\"width:100%\">\r\n                        \r\n                                    <flat-pickr :config=\"configdateTimePicker\" v-model=\"toDate\" placeholder=\"Fecha inicio pensión\" class=\"m-1\" style=\"width: 95%;margin-top:50px;\" />  \r\n                                </div>\r\n                            </div>\r\n                        </vs-col>\r\n\r\n                      \r\n\r\n                        <div style=\"display:flex;justify-content:center;width:100%;margin-top:20px;\">\r\n                            <vs-button type=\"relief\" @click=\"datosPeriodo = true; guardarDatosNiveles()\">Actualizar datos del período</vs-button>\r\n                        </div>\r\n                    </vs-row>\r\n\r\n                    <br/>\r\n\r\n                    <div v-if=\"editarNiveles == true\">\r\n                        \r\n                        <vs-table max-items=\"10\" search pagination :data=\"nivelesInstitucion\" style=\"margin-top:-40px\">\r\n                            <template slot=\"thead\">\r\n                                \r\n                                <vs-th>Nombre nivel</vs-th>\r\n                                 <vs-th>Matrícula</vs-th>\r\n                                <vs-th>Pensión</vs-th>\r\n                                <vs-th>Acción</vs-th>\r\n                            </template>\r\n                            <template slot-scope=\"{data}\">\r\n                                <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                                    \r\n                                    <vs-td>\r\n                                        \r\n                                        {{data[indextr].nombrenivel}}<br>\r\n                                        \r\n                                    </vs-td>\r\n                                    <vs-td>\r\n                                        {{data[indextr].matricula}}<br>\r\n                                    </vs-td>\r\n                                    <vs-td>\r\n                                        {{data[indextr].valor}}<br>\r\n                                    </vs-td>\r\n                                \r\n                                    <vs-td>\r\n                                        <vx-tooltip style=\"display: inline-block;\" text=\"Editar valor\" position=\"top\" color=\"warning\">\r\n                                            <vs-button class=\"modal-default-button\" @click=\"editValor(tr)\" size=\"small\" color=\"primary\"  type=\"filled\" icon-pack=\"feather\" icon=\"icon-bookmark\"> \r\n                                            </vs-button>\r\n                                        </vx-tooltip> &nbsp;\r\n\r\n                                    </vs-td>\r\n                            \r\n                                    \r\n                                </vs-tr>\r\n                            </template>\r\n                        </vs-table>   \r\n\r\n                    </div>\r\n\r\n                   \r\n                    \r\n\r\n                </div>\r\n            </div>\r\n   \r\n        </div>\r\n\r\n        \r\n                 <!--PARA ASIGNAR O EDITAR LOS VALORES DE LAS PENSIONES  -->\r\n        <div v-if=\"asignarPensiones == true\">\r\n                    <!--Boton para regresar-->\r\n                <vs-button color=\"warning\" @click=\"asignarPensiones = false\"  type=\"filled\" icon=\"arrow_back\"></vs-button>\r\n                \r\n               <br/><br/>\r\n                    <vs-alert active=\"true\" color=\"success\">\r\n                    <p style=\"font-weight:400;\"><i class=\"fa fa-exclamation\" aria-hidden=\"true\"></i>  Seleccione los niveles que  utiliza su institución para el período {{descripcion_periodo}}</p>    \r\n\r\n                    \r\n                    </vs-alert>\r\n\r\n                    <br/>\r\n\r\n                    <vs-row>\r\n                       <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"6\">\r\n                            <div style=\"display:flex;flex-direction:column;width:100%;\">\r\n                                <div style=\"width:100%\">\r\n                                    <p style=\"text-align:left;\">Institución</p>   \r\n                                </div>\r\n\r\n                            <div style=\"width:100%;\">\r\n                                    <vs-input  disabled v-model=\"nivel.nombreInstitucion\" style=\"width:95%;margin-top:20px;\"/>    \r\n                                </div>\r\n                            </div>\r\n                        </vs-col>\r\n\r\n                        <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"6\" >\r\n                            <div style=\"display:flex;flex-direction:column;width:100%;\">\r\n                                <div style=\"width:100%\">\r\n                                    <p style=\"text-align:left;position:relative;top:10px;\">Fecha del inicio del pago de la pensión</p>   \r\n                                </div>\r\n\r\n                            <div style=\"width:100%;margin-top:20px;\">\r\n                        \r\n                                    <flat-pickr :config=\"configdateTimePicker\"  v-model=\"toDate\" placeholder=\"Fecha inicio pensión\" class=\"m-1\" style=\"width: 95%;\" />  \r\n                                </div>\r\n                            </div>\r\n                        </vs-col>\r\n\r\n                    </vs-row>\r\n\r\n                    <br/>\r\n\r\n                    <vs-divider color=\"warning\">Nivel inicial</vs-divider>\r\n                    <br/>\r\n                        <vs-row>\r\n                            <div style=\"display:flex;width:100%;\">\r\n                                <div style=\"width:40%;\">\r\n                                    <p>Nivel inicial</p>\r\n                                </div>\r\n\r\n                                <div style=\"width:60%;\">\r\n                                    <vs-radio v-model=\"ver_nivel_inicial\" vs-name=\"nivelinicial\" vs-value=\"1\" style=\"margin-left:5px;\">Si </vs-radio>\r\n                                    <vs-radio v-model=\"ver_nivel_inicial\" vs-name=\"nivelinicial\" style=\"margin-left:5px\" vs-value=\"0\">No </vs-radio>   \r\n                                </div>\r\n                            </div>\r\n                        </vs-row>\r\n\r\n                        <vs-row  v-if=\"ver_nivel_inicial == '1'\">\r\n                            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                        \r\n                                <vs-collapse style=\"width:100%;\">\r\n                                        <br/>\r\n                                        <vs-collapse-item>\r\n                                            <div slot=\"header\">\r\n                                                <p style=\"color:#2A9FF6;\"><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i> <span>  Valores  de pensiones para Educación Inicial</span> </p>\r\n                                            \r\n                                            </div>\r\n\r\n                                            <div>\r\n                                                <vs-list>\r\n                                                    <vs-list-header></vs-list-header>\r\n                                                    <div>\r\n                                                        <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[0].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.inicial1\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matricula\" v-model=\"nivelPrecio.m_inicial1\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                    </div>   \r\n\r\n                                                    <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[1].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.inicial2\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_inicial2\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div>   \r\n                                                \r\n                                                </vs-list>\r\n                                            </div> \r\n                                        </vs-collapse-item>\r\n                                         <br/>   \r\n                                    </vs-collapse>\r\n                            </vs-col>\r\n                        </vs-row>\r\n                    <vs-divider color=\"primary\">Educación Básica</vs-divider>\r\n                    <br/>\r\n                        <vs-row>\r\n                            <div style=\"display:flex;width:100%;\">\r\n                                <div style=\"width:40%;\">\r\n                                    <p>Educación Básica</p>\r\n                                </div>\r\n\r\n                                <div style=\"width:60%;\">\r\n                                    <vs-radio v-model=\"ver_nivel_basica\" vs-name=\"nivelbasico\" vs-value=\"1\" style=\"margin-left:5px;\">Si </vs-radio>\r\n                                    <vs-radio v-model=\"ver_nivel_basica\" vs-name=\"nivelbasico\" style=\"margin-left:5px\" vs-value=\"0\">No </vs-radio>   \r\n                                </div>\r\n                            </div>\r\n                        </vs-row>\r\n\r\n                        <vs-row  v-if=\"ver_nivel_basica == '1'\">\r\n                            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                        \r\n                                <vs-collapse style=\"width:100%;\">\r\n                                    <br/>\r\n                                    <vs-collapse-item>\r\n                                        <div slot=\"header\">\r\n                                            <p style=\"color:#2A9FF6;\"><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i> <span>  Valores  de pensiones para Educación Básica</span> </p>\r\n                                            \r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <vs-list>\r\n                                                <vs-list-header></vs-list-header>\r\n\r\n                                                   <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[2].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.primero\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_primero\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div>   \r\n\r\n                                                    <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[3].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.segundo\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_segundo\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div>   \r\n                                                \r\n\r\n                                                    <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[4].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.tercero\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_tercero\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div>   \r\n\r\n\r\n\r\n                                                    <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[5].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.cuarto\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_cuarto\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div>   \r\n                                                \r\n\r\n                                                    <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[6].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.quinto\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_quinto\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div>   \r\n\r\n\r\n                                                    <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[7].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.sexto\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_sexto\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div>   \r\n                                                \r\n\r\n                                                    <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[8].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.septimo\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_septimo\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div>   \r\n                                                \r\n\r\n                                            </vs-list>\r\n                                        </div> \r\n                                    </vs-collapse-item>\r\n                                    <br/>\r\n                                        \r\n                                </vs-collapse>\r\n                            </vs-col>\r\n                        </vs-row>\r\n\r\n                    <vs-divider color=\"danger\">Educación Secundaria</vs-divider>\r\n                    <br/>\r\n                        <vs-row>\r\n                            <div style=\"display:flex;width:100%;\">\r\n                                <div style=\"width:40%;\">\r\n                                    <p>Educación Secundaria</p>\r\n                                </div>\r\n\r\n                                <div style=\"width:60%;\">\r\n                                    <vs-radio v-model=\"ver_nivel_secundaria\" vs-name=\"nivelsecundaria\" vs-value=\"1\" style=\"margin-left:5px;\">Si </vs-radio>\r\n                                    <vs-radio v-model=\"ver_nivel_secundaria\" vs-name=\"nivelsecundaria\" style=\"margin-left:5px\" vs-value=\"0\">No </vs-radio>   \r\n                                </div>\r\n                            </div>\r\n                        </vs-row>\r\n\r\n                        <vs-row  v-if=\"ver_nivel_secundaria == '1'\">\r\n                            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                                <br/>\r\n                                <vs-collapse style=\"width:100%;\">\r\n                                    <vs-collapse-item>\r\n                                        <div slot=\"header\">\r\n                                            <p style=\"color:#2A9FF6;\"><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i> <span>  Valores  de pensiones para Educación Secundaria</span> </p>\r\n                                            \r\n                                        </div>\r\n                                        \r\n                                        <div>\r\n                                            <vs-list>\r\n                                                <vs-list-header></vs-list-header>\r\n                                              \r\n                                                   <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[9].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.octavo\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_octavo\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div> \r\n\r\n                                                    <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[10].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.noveno\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_noveno\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div>     \r\n\r\n                                                \r\n                                                \r\n                                                    <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[11].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.decimo\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_decimo\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div>                                      \r\n\r\n                                            </vs-list>\r\n                                        </div> \r\n                                    </vs-collapse-item>\r\n                                        \r\n                                </vs-collapse>\r\n                                <br/>\r\n                            </vs-col>\r\n                        </vs-row>\r\n                        \r\n                    <vs-divider color=\"success\">Educación Superior</vs-divider>\r\n                    <br/>\r\n\r\n                        <vs-row>\r\n                            <div style=\"display:flex;width:100%;\">\r\n                                <div style=\"width:40%;\">\r\n                                    <p>Educación Superior</p>\r\n                                </div>\r\n\r\n                                <div style=\"width:60%;\">\r\n                                    <vs-radio v-model=\"ver_nivel_superior\" vs-name=\"nivelsuperior\" vs-value=\"1\" style=\"margin-left:5px;\">Si </vs-radio>\r\n                                    <vs-radio v-model=\"ver_nivel_superior\" vs-name=\"nivelsuperior\" style=\"margin-left:5px\" vs-value=\"0\">No </vs-radio>   \r\n                                </div>\r\n                            </div>\r\n                        </vs-row>\r\n\r\n                        <vs-row  v-if=\"ver_nivel_superior == '1'\">\r\n                            <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                                \r\n                                <br/>\r\n                                <vs-collapse style=\"width:100%;\">\r\n                                    <vs-collapse-item>\r\n                                        <div slot=\"header\">\r\n                                            <p style=\"color:#2A9FF6;\"><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i> <span>  Valores  de pensiones para Educación Superior</span> </p>\r\n                                            \r\n                                        </div>\r\n                                        \r\n                                        <div>\r\n                                            <vs-list>\r\n                                                <vs-list-header></vs-list-header>\r\n                                                    <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[12].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.primero_bgu\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_primero_bgu\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div>     \r\n\r\n                                                    <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[13].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.segundo_bgu\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_segundo_bgu\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div>   \r\n                                                \r\n                                                    <div>\r\n                                                         <div style=\"display:flex;margin:10px;padding:10px;width: 100%;\">\r\n                                                            <div style=\"width:30%\">\r\n                                                                <vs-list-item :title=\"niveles[14].nombrenivel\"></vs-list-item>\r\n                                                            </div>\r\n\r\n                                                            <div style=\"width:70%;display: flex;flex-wrap: wrap;\">\r\n\r\n                                                                <div style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Pensión\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad pensión\" v-model=\"nivelPrecio.tercero_bgu\" class=\"precios\"/>\r\n                                                                </div>\r\n\r\n                                                                 <div  style=\"width:50%;\">\r\n                                                                      <p style=\"margin-left: 100px;\">\r\n                                                                            Matrícula\r\n                                                                        </p>\r\n                                                                       <vs-input style=\"margin-left: 30px;\" placeholder=\"Cantidad matrícula\" v-model=\"nivelPrecio.m_tercero_bgu\" class=\"precios\"/>\r\n                                                                </div>\r\n                                                              \r\n                                                            </div> \r\n                                                        </div>   \r\n                                                      \r\n                                                    </div>                                       \r\n\r\n                                            </vs-list>\r\n                                        </div> \r\n                                    </vs-collapse-item>\r\n                                        \r\n                                </vs-collapse>\r\n                                <br/>\r\n                            </vs-col>\r\n                        </vs-row>\r\n                        \r\n                        <br/>\r\n                    <vs-row>\r\n                        <vs-col vs-type=\"flex\" vs-justify=\"center\" vs-align=\"center\" vs-w=\"12\">\r\n                            <vs-button @click=\"guardarNiveles()\" type=\"relief\">Generar valores de Pensiones</vs-button>\r\n                        </vs-col>\r\n                    </vs-row>\r\n\r\n                \r\n        </div>\r\n\r\n        <!--MODALES -->\r\n        <!---MODAL PARA VER LOS VALORES DE LAS PENSIONES-->\r\n        <vs-popup class=\"holamundo\" fullscreen  title=\"Valores de pensiones por nivel\" :active.sync=\"popupValoresPensiones\">\r\n               \r\n            <br/>\r\n            <div v-if=\"valoresPensiones.length >0 \">\r\n      \r\n                <vs-table max-items=\"10\" search pagination :data=\"valoresPensiones\" style=\"margin-top:-40px\">\r\n                    <template slot=\"thead\">\r\n                        \r\n                        <vs-th>Periodo</vs-th>\r\n                        <vs-th>Nivel</vs-th>\r\n                        <vs-th>Valor Pensión</vs-th>\r\n                        <vs-th>Accion</vs-th>\r\n                  \r\n                       \r\n                    </template>\r\n                    <template slot-scope=\"{data}\">\r\n                        <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\r\n                            \r\n                            <vs-td>\r\n                                {{data[indextr].periodo}}<br>\r\n                                \r\n                            </vs-td>\r\n                            <vs-td>\r\n                                {{data[indextr].nombrenivel}}<br>\r\n                            </vs-td>\r\n\r\n                            <vs-td>\r\n                                {{data[indextr].valor}}<br>\r\n                            </vs-td>\r\n\r\n                            <vs-td>\r\n                                <vs-button color=\"primary\"  icon=\"add_circle\"  @click=\"asignarParelos(tr)\" type=\"relief\">Asignar Paralelos</vs-button>\r\n                            </vs-td>\r\n                     \r\n                            \r\n                        </vs-tr>\r\n                    </template>\r\n                </vs-table>   \r\n            </div>\r\n            <div v-else class=\"p-3\">\r\n                <p> No existe valores de pensiones asignados</p>\r\n            </div>\r\n\r\n         </vs-popup>\r\n\r\n        <!--MODAL PARA ASIGNAR PARALELOS-->\r\n\r\n\r\n         <vs-popup title=\"Asignar paralelos\" :active.sync=\"popupAsignarParalelos\">\r\n             \r\n            <!--Boton para regresar-->\r\n            <vs-button color=\"warning\" @click=\"popupAsignarParalelos = false;  popupValoresPensiones= true;\"  type=\"filled\" icon=\"arrow_back\"></vs-button>\r\n            <br/>\r\n            <div class=\"vx-row\">\r\n                          \r\n                    <div class=\"vx-col sm:w-full\">\r\n                        <div v-for=\"(item, index) in arregloParalelosAsignados\" :key=\"index\" class=\"m-1 p-1 asig-select text-dark\">\r\n                        \r\n                           Paralelo {{item.descripcion}} &nbsp; &nbsp;\r\n                            \r\n                            <vs-button @click=\"eliminarParalelo(item)\" style=\"display:inline;margin-left:5px;\" size=\"small\" color=\"danger\" radius type=\"border\" icon-pack=\"feather\" icon=\"icon-trash\"></vs-button>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n            <vs-list>\r\n                \r\n                <vs-list-item v-for=\"(item,$index) in arregloParalelos\" :key=\"$index\" :title=\"'Paralelo '+item.descripcion\">\r\n                    <template slot=\"avatar\">\r\n                        <vs-avatar color=\"primary\" icon-pack=\"feather\" icon=\"icon-folder\" />\r\n                    </template>\r\n\r\n                    <vs-button class=\"m-1\" style=\"padding: 7px 5px 7px 5px; font-size: 12px;\" size=\"small\" type=\"filled\" target=\"_blank\" color=\"success\" @click=\"guardarParalelos(item)\">Asignar Paralelo</vs-button>\r\n\r\n                </vs-list-item>\r\n            </vs-list>\r\n        </vs-popup>\r\n\r\n\r\n        \r\n        <!-- Modal Editar cada valor-->\r\n        <div class=\"demo-alignment\">\r\n            <vs-popup classContent=\"popup-example\" title=\"Editar Valores\" :active.sync=\"popupEditvalor\">\r\n                <vs-input class=\"inputx mb-3 w-full\" label=\"Valor Matrícula\" v-model=\"editar.matricula\" />\r\n                <vs-input class=\"inputx mb-3 w-full\" label=\"Valor Pensión\" v-model=\"editar.valor\" />\r\n                \r\n                 <br><br>       \r\n                <vs-button color=\"success\" class=\"w-full mb-3\"  @click=\"datosPeriodo = false; guardarDatosNiveles()\" type=\"gradient\" >Actualizar</vs-button>\r\n            </vs-popup>\r\n        </div>\r\n  \r\n\r\n          \r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport flatPickr from 'vue-flatpickr-component';\r\nimport 'flatpickr/dist/flatpickr.css';\r\nimport vSelect from 'vue-select'\r\n\r\nexport default {\r\n    data() {\r\n      return{\r\n        editar:{\r\n            valor:'',\r\n            matricula:'',\r\n            nivelInstitucion_id:0\r\n        },\r\n       \r\n        popupEditvalor:false,\r\n         periodosAll:[],\r\n         datosPeriodo:false,\r\n         editarNiveles:true,\r\n          listadoPeriodos:true,\r\n          colorx:'',\r\n          listadoPensiones:true,\r\n          estudianteSin:false,\r\n          asignarPensiones:false,\r\n          popupAsignarParalelos:false,\r\n          popupGestionEstudiantes:false,\r\n          niveles:[],\r\n          nivel:{\r\n              inicio:'',\r\n              hasta:'',\r\n              periodo_id:'',\r\n              nombreInstitucion:'',\r\n              valor_matricula:'',\r\n            \r\n          },\r\n        nivelesEditar:[],\r\n        popupEditarNiveles:false,\r\n        toDate: null,\r\n        configdateTimePicker: {\r\n                enableTime: true,\r\n                dateFormat: 'Y-m-d'\r\n        },\r\n        item:{\r\n            orden:'',\r\n            \r\n        },\r\n        precio:[],\r\n        //variables para valores de las pensiones\r\n        ver_nivel_inicial:'1',\r\n        ver_nivel_basica:'1',\r\n        ver_nivel_secundaria:'1',\r\n        ver_nivel_superior:'1',\r\n        nivelPrecio:{\r\n            inicial1:'',\r\n            inicial2:'',\r\n            primero:'',\r\n            segundo:'',\r\n            tercero:'',\r\n            cuarto:'',\r\n            quinto:'',\r\n            sexto:'',\r\n            septimo:'',\r\n            octavo:'',\r\n            noveno:'',\r\n            decimo:'',\r\n            primero_bgu:'',\r\n            segundo_bgu:'',\r\n            tercero_bgu:'',\r\n        },\r\n        institucion:[],\r\n        PeriodosInstitucion:[],\r\n        valoresPensiones:[],\r\n        popupValoresPensiones:false,\r\n\r\n        //VARIABLES PARA LOS PARALELOS\r\n        p_a:'1',\r\n        p_b:'1',\r\n        p_c:'1',\r\n        p_d:'0',\r\n        paralelo:{\r\n            nivelInstitucion_id:'',\r\n            nivel_id:'',\r\n            institucion_id:'',\r\n            periodo_id:'',\r\n        },\r\n        arregloParalelos:[],\r\n        arregloParalelosAsignados:[],\r\n        usuario:[],\r\n        nivelesInstitucion:[],\r\n        descripcion_periodo:'',\r\n        institucionAdmin:'',\r\n        matricula_admin:'',\r\n     \r\n\r\n        //FIN VARIABLES PARA LOS PARALELOS  \r\n      }  \r\n    },\r\n    components: {\r\n        'v-select': vSelect,\r\n        flatPickr,\r\n     },\r\n     created(){\r\n         let me = this;\r\n         me.getNivel();\r\n         me.institucion = JSON.parse(localStorage.getItem(\"institucion\"))\r\n          me.usuario = JSON.parse(localStorage.getItem(\"usuario\"))\r\n          me.matricula_admin = localStorage.getItem(\"matricula_admin\")\r\n       \r\n        \r\n     },\r\n     mounted(){\r\n        let me = this;\r\n        me.getPeriodoInstitucion();\r\n        me.nivelPeriodoInstitucion();\r\n        me.getPeriodoInstitucionAll();\r\n        me.getInformacioninstitucion();\r\n        \r\n     },\r\n    methods:{\r\n        VentanaAgregarPension(){\r\n            let me = this;\r\n            me.asignarPensiones = true;\r\n            me.descripcion_periodo = localStorage.getItem(\"descripcion_periodo\")\r\n\r\n        },\r\n         cerrar(){\r\n             let me = this;\r\n             me.popupValoresPensiones = true;\r\n             me.popupAsignarParalelos = false;\r\n         },\r\n\r\n         vistaEditarValores(tr){\r\n             let me = this;\r\n             localStorage.setItem(\"editarPeriodo\",tr.periodoescolar_idperiodoescolar)\r\n             localStorage.setItem(\"editarInstitucion\",tr.institucion_idInstitucion)\r\n             \r\n              localStorage.setItem(\"clave_periodo\",tr.id)\r\n             me.toDate = tr.fecha_inicio_pension\r\n             me.nivel.valor_matricula = tr.valor_matricula\r\n             me.listadoPeriodos = false;\r\n\r\n             me.getNivelesInstitucion();\r\n             \r\n         },\r\n\r\n           getNivelesInstitucion() {\r\n            let me = this;\r\n         \r\n            let institucion = localStorage.getItem(\"editarInstitucion\")\r\n            let periodo = localStorage.getItem(\"editarPeriodo\")\r\n\r\n            this.$http.get(this.$server_url+'nivelesInstitucion?institucion_id='+institucion+'&periodo_id='+periodo)\r\n                .then(function (res) { \r\n                   \r\n                    me.nivelesInstitucion = res.data\r\n                })\r\n                .catch(function (error) {\r\n              \r\n                    console.log(error + ' error');\r\n                })\r\n        },\r\n\r\n          getNivel() {\r\n            let me = this;\r\n           \r\n            this.$http.get(this.$server_url+'estudiante/matricula?todoNiveles=yes')\r\n                .then(function (res) {\r\n                    me.niveles = res.data\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');  \r\n\r\n                })\r\n        },\r\n\r\n        getPeriodoInstitucionAll() {\r\n            let me = this;\r\n            me.$vs.loading()\r\n\r\n            if(me.matricula_admin == \"yes\"){\r\n                    me.institucionAdmin = localStorage.getItem(\"matricula_institucion\")\r\n            }else{\r\n                    me.institucionAdmin = me.usuario.institucion_idInstitucion\r\n            }\r\n            this.$http.get(this.$server_url+'institucionTraerPeriodo?institucion_id='+me.institucionAdmin+'&periodosAll=yes')\r\n                .then(function (res) { \r\n                     me.$vs.loading.close()\r\n                    me.periodosAll = res.data\r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                    console.log(error + ' error');\r\n                })\r\n        },\r\n\r\n        getPeriodoInstitucion() {\r\n            let me = this;\r\n           \r\n          \r\n            this.$http.get(this.$server_url+'institucionTraerPeriodo?institucion_id='+me.usuario.institucion_idInstitucion)\r\n                .then(function (res) {\r\n                    me.nivel.periodo_id = res.data[0].periodo\r\n                    localStorage.setItem('periodo_id',res.data[0].periodo)\r\n                  \r\n                \r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                \r\n\r\n                })\r\n        },\r\n\r\n        //para editar cada valor\r\n        editValor(tr){\r\n            let me = this;\r\n            me.popupEditvalor = true;\r\n            me.editar.valor = tr.valor\r\n            me.editar.matricula = tr.matricula\r\n            me.editar.nivelInstitucion_id = tr.nivelInstitucion_id\r\n        },\r\n\r\n          //para guardar las areas\r\n\r\n         guardarDatosNiveles(){\r\n        \r\n            let me = this;\r\n\r\n            let formData = new FormData();\r\n            if(me.datosPeriodo == true){\r\n                formData.append('institucion_id',me.paralelo.institucion_id)\r\n                formData.append('periodo_id',me.paralelo.periodo_id )\r\n                formData.append('fecha_inicio_pension',me.toDate )\r\n                // formData.append('valor_matricula', me.nivel.valor_matricula )\r\n                \r\n             \r\n                formData.append('clave_periodo', localStorage.getItem(\"clave_periodo\"))\r\n\r\n            }else{\r\n                formData.append('valor',me.editar.valor )\r\n                formData.append('matricula',me.editar.matricula )\r\n                formData.append('nivelInstitucion_id', me.editar.nivelInstitucion_id )\r\n              \r\n            }\r\n           \r\n            this.$http.post(this.$server_url+'editarNiveles', formData)\r\n                .then(function (res) {\r\n                    me.$vs.notify({\r\n                        text: res.data.message,\r\n                        color: 'primary',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                  me.getPeriodoInstitucionAll();\r\n                  me.getNivelesInstitucion();\r\n                  me.popupEditvalor = false;\r\n                  \r\n                })\r\n                .catch(function (error) {})\r\n\r\n           \r\n\r\n        },\r\n\r\n         getInformacioninstitucion() {\r\n            let me = this;\r\n           \r\n            if(me.matricula_admin == \"yes\"){\r\n                    me.institucionAdmin = localStorage.getItem(\"matricula_institucion\")\r\n            }else{\r\n                    me.institucionAdmin = me.usuario.institucion_idInstitucion\r\n            }\r\n\r\n            this.$http.get(this.$server_url+'institucionTraerPeriodo?institucion_id='+me.institucionAdmin+'&dataInstitucion=yes')\r\n                .then(function (res) {\r\n                   \r\n                    me.nivel.nombreInstitucion = res.data[0].nombreInstitucion\r\n                    me.nivel.institucion_id = res.data[0].idInstitucion\r\n                })\r\n                .catch(function (error) {\r\n                    \r\n                    console.log(error + ' error');\r\n                \r\n\r\n                })\r\n        },\r\n        //para traer los periodos y niveles\r\n        nivelPeriodoInstitucion() {\r\n            let me = this;\r\n\r\n            if(me.matricula_admin == \"yes\"){\r\n                    me.institucionAdmin = localStorage.getItem(\"matricula_institucion\")\r\n            }else{\r\n                    me.institucionAdmin = me.usuario.institucion_idInstitucion\r\n            }\r\n           \r\n            this.$http.get(this.$server_url+'nivelPeriodoInstitucion?institucion_id='+me.institucionAdmin)\r\n                .then(function (res) {\r\n                    me.PeriodosInstitucion = res.data\r\n\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                \r\n\r\n                })\r\n        },\r\n        //para ver los valores de las pensiones del periodo de la institucion\r\n        verValoresPensiones(tr){\r\n            let me = this;\r\n             this.$http.get(this.$server_url+'nivelPeriodoInstitucion?institucion_id='+tr.institucion_id+'&periodo_id='+tr.periodo_id+'&valoresPensiones=yes')\r\n                .then(function (res) {\r\n                    me.valoresPensiones = res.data\r\n                    me.popupValoresPensiones= true;\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                \r\n\r\n                })\r\n        },\r\n\r\n        //traer paralelos \r\n    \r\n        traerParalelos(){\r\n            let me = this;\r\n             this.$http.get(this.$server_url+'nivelPeriodoInstitucion?paralelos=yes')\r\n                .then(function (res) {\r\n                    me.arregloParalelos = res.data\r\n                   \r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                \r\n\r\n                })\r\n        },\r\n\r\n        //traer paralelos  asignados\r\n    \r\n        traerParalelosAsignados(nivelInstitucion_id){\r\n            let me = this;\r\n             this.$http.get(this.$server_url+'nivelPeriodoInstitucion?paraleloAsignado=yes'+'&nivelInstitucion_id='+nivelInstitucion_id)\r\n                .then(function (res) {\r\n                    me.arregloParalelosAsignados = res.data\r\n                   \r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                \r\n\r\n                })\r\n        },\r\n        \r\n\r\n        \r\n\r\n        //para asignar paralelos\r\n        asignarParelos(tr){\r\n            let me = this;\r\n\r\n            me.traerParalelos();\r\n            localStorage.setItem('nivelInstitucion_id',tr.nivelInstitucion_id)\r\n            me.traerParalelosAsignados(tr.nivelInstitucion_id)\r\n            me.popupValoresPensiones = false;\r\n            me.popupAsignarParalelos = true;\r\n\r\n            me.paralelo.nivelInstitucion_id = tr.nivelInstitucion_id\r\n            me.paralelo.nivel_id = tr.nivel_id\r\n            me.paralelo.institucion_id = tr.institucion_id\r\n            me.paralelo.periodo_id = tr.periodo_id\r\n\r\n        },\r\n\r\n        //Gestion de asignacion de paralelos\r\n        GestionarAlumnos(tr){\r\n            let me = this;\r\n            me.estudianteSin  = true;\r\n            me.listadoPensiones = false;\r\n        },\r\n   \r\n\r\n        guardarParalelos(item){\r\n            let me = this;\r\n\r\n            let formData = new FormData();\r\n            formData.append('institucion_id',me.paralelo.institucion_id)\r\n            formData.append('periodo_id',me.paralelo.periodo_id )\r\n            formData.append('nivel_id',me.paralelo.nivel_id)\r\n            formData.append('nivelInstitucion_id',me.paralelo.nivelInstitucion_id)\r\n\r\n            formData.append('paralelo',item.paralelo_id)\r\n        \r\n\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'guardarParalelos', formData)\r\n                .then(function (res) {\r\n                    me.$vs.loading.close() \r\n                    me.$vs.notify({\r\n                        text: res.data.message,\r\n                        color: 'primary',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n\r\n                    me.traerParalelosAsignados(localStorage.getItem(\"nivelInstitucion_id\"))\r\n                    \r\n   \r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n\r\n        eliminarParalelo(item){\r\n             let me = this;\r\n           \r\n            me.$vs.loading();\r\n            this.$http.get(this.$server_url + \"eliminarParalelo/\" + item.cursos_paralelos_id)\r\n                .then(function (res) {\r\n                    me.$vs.loading.close();\r\n                    me.$vs.notify({\r\n                        text: item.descripcion + ' eliminada',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.traerParalelosAsignados(localStorage.getItem(\"nivelInstitucion_id\"))\r\n                  \r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n\r\n        obtenerNiveles(){\r\n\r\n            let me = this;\r\n           \r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'guardarInformacionNiveles', me.nivel)\r\n                .then(function (res) {\r\n                    me.$vs.loading.close() \r\n                    me.$vs.notify({\r\n                        text: res.data.message,\r\n                        color: 'primary',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    me.verValoresPensiones()\r\n                    me.nivelesEditar = res.data\r\n                    me.popupEditarNiveles = true\r\n   \r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n\r\n        \r\n        },\r\n\r\n        guardarNiveles(){\r\n            let me = this;\r\n\r\n            if(me.toDate == \"\" || me.toDate == null  ){\r\n                 me.$vs.notify({\r\n                        text: \"Ingrese una fecha de inicio de pension\",\r\n                        color: 'warning',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                return false;\r\n            }\r\n        \r\n            let formData = new FormData();\r\n            formData.append('institucion_id',me.usuario.institucion_idInstitucion)\r\n            formData.append('periodo_id',localStorage.getItem(\"periodo_id\"))\r\n            formData.append('fecha_inicio_pension',me.toDate)\r\n            // formData.append('valor_matricula',me.nivel.valor_matricula)\r\n            //========EDUCACION INICIAL=====\r\n            if(me.ver_nivel_inicial == '1'){\r\n                formData.append('inicial',     \"yes\");\r\n                //inicial1\r\n                formData.append('ordenInicial1',     me.niveles[0].orden);\r\n                formData.append('precio_inicial1', me.nivelPrecio.inicial1);\r\n                formData.append('matricula_inicial1', me.nivelPrecio.m_inicial1);\r\n                //inicial2\r\n                formData.append('ordenInicial2',     me.niveles[1].orden);\r\n                formData.append('precio_inicial2', me.nivelPrecio.inicial2);\r\n                formData.append('matricula_inicial2', me.nivelPrecio.m_inicial2)\r\n                \r\n            }\r\n\r\n            //========EDUCACION BASICA=====\r\n            if(me.ver_nivel_basica == '1'){\r\n                formData.append('basica',     \"yes\");\r\n                 //primero\r\n                formData.append('orden_primero',     me.niveles[2].orden);\r\n                formData.append('precio_primero', me.nivelPrecio.primero);\r\n                formData.append('matricula_primero', me.nivelPrecio.m_primero);\r\n                //segundo\r\n                formData.append('orden_segundo',     me.niveles[3].orden);\r\n                formData.append('precio_segundo', me.nivelPrecio.segundo);\r\n                formData.append('matricula_segundo', me.nivelPrecio.m_segundo);\r\n                //tercero\r\n                formData.append('orden_tercero',     me.niveles[4].orden);\r\n                formData.append('precio_tercero', me.nivelPrecio.tercero);\r\n                formData.append('matricula_tercero', me.nivelPrecio.m_tercero);\r\n                //cuarto\r\n                formData.append('orden_cuarto',     me.niveles[5].orden);\r\n                formData.append('precio_cuarto', me.nivelPrecio.cuarto);\r\n                formData.append('matricula_cuarto', me.nivelPrecio.m_cuarto);\r\n                //quinto\r\n                formData.append('orden_quinto',     me.niveles[6].orden);\r\n                formData.append('precio_quinto', me.nivelPrecio.quinto);\r\n                formData.append('matricula_quinto', me.nivelPrecio.m_quinto);\r\n                //sexto\r\n                formData.append('orden_sexto',     me.niveles[7].orden);\r\n                formData.append('precio_sexto', me.nivelPrecio.sexto);\r\n                formData.append('matricula_sexto', me.nivelPrecio.m_sexto);\r\n                //septimo\r\n                formData.append('orden_septimo',     me.niveles[8].orden);\r\n                formData.append('precio_septimo', me.nivelPrecio.septimo);\r\n                formData.append('matricula_septimo', me.nivelPrecio.m_septimo);\r\n              \r\n            }\r\n\r\n            //========EDUCACION SECUNDARIA=====\r\n            if(me.ver_nivel_secundaria == '1'){\r\n                formData.append('secundaria',     \"yes\");\r\n                 //primero\r\n                formData.append('orden_octavo',     me.niveles[9].orden);\r\n                formData.append('precio_octavo', me.nivelPrecio.octavo);\r\n                formData.append('matricula_octavo', me.nivelPrecio.m_octavo);\r\n                //segundo\r\n                formData.append('orden_noveno',     me.niveles[10].orden);\r\n                formData.append('precio_noveno', me.nivelPrecio.noveno);\r\n                 formData.append('matricula_noveno', me.nivelPrecio.m_noveno);\r\n                //tercero\r\n                formData.append('orden_decimo',     me.niveles[11].orden);\r\n                formData.append('precio_decimo', me.nivelPrecio.decimo);\r\n                formData.append('matricula_decimo', me.nivelPrecio.m_decimo);\r\n        \r\n            }\r\n    \r\n        //========EDUCACION SUPERIOR=====\r\n            if(me.ver_nivel_superior == '1'){\r\n                formData.append('superior',     \"yes\");\r\n                 //primero\r\n                formData.append('orden_primero_bgu',     me.niveles[12].orden);\r\n                formData.append('precio_primero_bgu', me.nivelPrecio.primero_bgu);\r\n                formData.append('matricula_primero_bgu', me.nivelPrecio.m_primero_bgu);\r\n                //segundo\r\n                formData.append('orden_segundo_bgu',     me.niveles[13].orden);\r\n                formData.append('precio_segundo_bgu', me.nivelPrecio.segundo_bgu);\r\n                formData.append('matricula_segundo_bgu', me.nivelPrecio.m_segundo_bgu);\r\n                //tercero\r\n                formData.append('orden_tercero_bgu',     me.niveles[14].orden);\r\n                formData.append('precio_tercero_bgu', me.nivelPrecio.tercero_bgu);\r\n                formData.append('matricula_tercero_bgu', me.nivelPrecio.m_tercero_bgu);\r\n            }\r\n        \r\n            formData.append('guardar', \"yes\");\r\n\r\n            me.$vs.loading()\r\n            this.$http.post(this.$server_url+'guardarInformacionNiveles', formData)\r\n                .then(function (res) {\r\n                    me.$vs.loading.close()\r\n                     me.$vs.notify({\r\n                        text: res.data.message,\r\n                        color: 'primary',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-alert-triangle'\r\n                    })\r\n                    if(res.data.status  == \"1\"){\r\n                        location.reload();\r\n                    }\r\n                    me.nivelPeriodoInstitucion();    \r\n                    me.limpiar();\r\n                    me.asignarPensiones = false;\r\n\r\n                 \r\n                 \r\n                  \r\n                })\r\n                .catch(function (error) {\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n\r\n        limpiar(){\r\n            let me = this;\r\n            me.toDate = null;\r\n            me.nivelPrecio.inicial1 = null;\r\n            me.nivelPrecio.inicial2 = null;\r\n            me.nivelPrecio.primero = null;\r\n            me.nivelPrecio.segundo = null;\r\n            me.nivelPrecio.tercero = null;\r\n            me.nivelPrecio.cuarto = null;\r\n            me.nivelPrecio.quinto = null;\r\n            me.nivelPrecio.sexto = null;\r\n            e.nivelPrecio.septimo = null;\r\n            me.nivelPrecio.octavo = null;\r\n            me.nivelPrecio.noveno = null;\r\n            me.nivelPrecio.decimo = null;\r\n            me.nivelPrecio.primero_bgu = null;\r\n            me.nivelPrecio.segundo_bgu = null;\r\n            me.nivelPrecio.tercero_bgu = null;\r\n        },\r\n    }\r\n}\r\n</script>"]}]}