{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\estudiantes\\cuadernos.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\estudiantes\\cuadernos.vue","mtime":1712682815820},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport historicoMixin from \"@/mixins/historicomix\";\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nimport 'vue-select/dist/vue-select.css';\r\nVue.use(axios)\r\nexport default {\r\n    mixins: [historicoMixin],\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            activePrompt: false,\r\n            activePrompt2: false,\r\n            val: '',\r\n            idcuaderno: '',\r\n            valMultipe: {\r\n                value1: '',\r\n                value2: ''\r\n            },\r\n            select: [],\r\n            cuadernos: [],\r\n            usuario: [],\r\n            miusuario:[],\r\n            codigo: '',\r\n            isNavOpen: false,\r\n        }\r\n    },\r\n    computed: {\r\n        validName() {\r\n            return (this.valMultipe.value1.length > 0 && this.valMultipe.value2.length > 0)\r\n        }\r\n    },\r\n    created() {\r\n        this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n        this.miusuario = this.usuario;\r\n    },\r\n    mounted() {\r\n        this.wasSidebarOpen = this.$store.state.reduceButton\r\n        this.$store.commit('TOGGLE_REDUCE_BUTTON', false)\r\n        this.getLibros()\r\n    },\r\n    methods: {\r\n        async getLibros() {\r\n            let me = this;\r\n            this.$http.get(this.$server_url+'codigosCuaderno?idusuario=' + me.usuario.idusuario)\r\n                .then(function (response) {\r\n                    me.cuadernos = response.data\r\n                })\r\n                .catch(function (error) {})\r\n        },\r\n        datocuaderno(url) {\r\n            let me = this;\r\n            //GUARDAR EN EL HISTORICO\r\n            let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n            let h_idusuario = me.miusuario.idusuario;\r\n            let h_idgrupo = me.miusuario.id_group;\r\n            let h_idasignatura = url.asignatura_idasignatura\r\n            let h_nombreasignatura = url.descripcioncuaderno\r\n            let h_recursotipo = 3; //1 = libro\r\n            let datoHistorico = {\r\n                'user_nombre': me.miusuario.nombres,\r\n                'user_apellido': me.miusuario.apellidos,\r\n                'user_email': me.miusuario.email,\r\n                'user_cedula': me.miusuario.cedula,\r\n                'recurso_accion': 'ver',\r\n                'recurso_tipo': 'cuaderno',\r\n                'recurso_nombre': url.nombrecuaderno,\r\n                'recurso_detalle': 'cuaderno completo',\r\n            }\r\n            me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico) \r\n            localStorage.url = url.webcuaderno;\r\n            // this.$router.push('/estudiante/cuaderno/digital');\r\n            let route = me.$router.resolve({path: '/estudiante/cuaderno/digital'});\r\n            window.open(route.href, '_blank');\r\n        },\r\n        acceptAlert() {\r\n            let me = this;\r\n            let formData = new FormData();\r\n            if (!me.codigo) {\r\n                me.$vs.notify({\r\n                    color: 'warning',\r\n                    title: 'Ingrese un código',\r\n                })\r\n            } else {\r\n                formData.append('codigo', me.codigo);\r\n                formData.append('idusuario', me.usuario.idusuario);\r\n                this.$http.post(this.$server_url+'codigosCuaderno', formData)\r\n                    .then(function (response) {\r\n                        me.getLibros();\r\n                        me.codigo = ''\r\n                        me.$vs.notify({\r\n                            color: 'success',\r\n                            title: 'Guardado',\r\n                            text: 'Libro Agregado'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {})\r\n            }\r\n\r\n        },\r\n        close() {\r\n            this.$vs.notify({\r\n                color: 'danger',\r\n                title: '',\r\n                text: 'Datos no guardados!'\r\n            })\r\n        },\r\n    },\r\n}\r\n",{"version":3,"sources":["cuadernos.vue"],"names":[],"mappings":";AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cuadernos.vue","sourceRoot":"src/views/estudiantes","sourcesContent":["<template>\r\n<div>\r\n    <div class=\"vx-row\">\r\n        <div class=\"vx-col w-1/2 md:w-1/3 xl:w-1/4 mt-3\" v-for=\"(item,$index) in cuadernos\" :key=\"$index\">\r\n            <vx-card class=\"text-center\">\r\n                <div slot=\"no-body\">\r\n                    <!-- <img v-if=\"item.webcuaderno != null \" class=\"responsive card-img-top\" v-bind:src=\"$data_url+'archivos/upload/cuadernodigital/'+item.webcuaderno+'/portada.png'\" alt=\"Card image cap\">\r\n                    <img v-else class=\"responsive card-img-top\" v-bind:src=\"$data_url+'archivos/img/'+item.portada\" alt=\"Card image cap\"> -->\r\n                    <img v-if=\"item.webcuaderno != '' \" class=\"responsive card-img-top\" v-bind:src=\"$data_url+'archivos/upload/cuadernodigital/'+item.webcuaderno+'/portada.jpg'\" alt=\"Card image cap\">\r\n                    <img v-else class=\"responsive card-img-top\" v-bind:src=\"$data_url+'tareas/img/'+item.portada\" alt=\"Card image cap\">\r\n                </div>\r\n                <p class=\"font-bold\">\r\n                    {{item.nombrecuaderno}}\r\n                </p>\r\n                <small>\r\n                    {{item.descripcioncuaderno}}\r\n                </small>\r\n                <div class=\"w-3/3 ml-auto mt-3\">\r\n                    <vs-button color=\"primary\" class=\"w-full\" type=\"border\" icon-pack=\"feather\" @click=\"datocuaderno(item)\" icon=\"icon-book\">Cuaderno Web</vs-button>\r\n                </div>\r\n            </vx-card>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport historicoMixin from \"@/mixins/historicomix\";\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nimport 'vue-select/dist/vue-select.css';\r\nVue.use(axios)\r\nexport default {\r\n    mixins: [historicoMixin],\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            activePrompt: false,\r\n            activePrompt2: false,\r\n            val: '',\r\n            idcuaderno: '',\r\n            valMultipe: {\r\n                value1: '',\r\n                value2: ''\r\n            },\r\n            select: [],\r\n            cuadernos: [],\r\n            usuario: [],\r\n            miusuario:[],\r\n            codigo: '',\r\n            isNavOpen: false,\r\n        }\r\n    },\r\n    computed: {\r\n        validName() {\r\n            return (this.valMultipe.value1.length > 0 && this.valMultipe.value2.length > 0)\r\n        }\r\n    },\r\n    created() {\r\n        this.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n        this.miusuario = this.usuario;\r\n    },\r\n    mounted() {\r\n        this.wasSidebarOpen = this.$store.state.reduceButton\r\n        this.$store.commit('TOGGLE_REDUCE_BUTTON', false)\r\n        this.getLibros()\r\n    },\r\n    methods: {\r\n        async getLibros() {\r\n            let me = this;\r\n            this.$http.get(this.$server_url+'codigosCuaderno?idusuario=' + me.usuario.idusuario)\r\n                .then(function (response) {\r\n                    me.cuadernos = response.data\r\n                })\r\n                .catch(function (error) {})\r\n        },\r\n        datocuaderno(url) {\r\n            let me = this;\r\n            //GUARDAR EN EL HISTORICO\r\n            let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n            let h_idusuario = me.miusuario.idusuario;\r\n            let h_idgrupo = me.miusuario.id_group;\r\n            let h_idasignatura = url.asignatura_idasignatura\r\n            let h_nombreasignatura = url.descripcioncuaderno\r\n            let h_recursotipo = 3; //1 = libro\r\n            let datoHistorico = {\r\n                'user_nombre': me.miusuario.nombres,\r\n                'user_apellido': me.miusuario.apellidos,\r\n                'user_email': me.miusuario.email,\r\n                'user_cedula': me.miusuario.cedula,\r\n                'recurso_accion': 'ver',\r\n                'recurso_tipo': 'cuaderno',\r\n                'recurso_nombre': url.nombrecuaderno,\r\n                'recurso_detalle': 'cuaderno completo',\r\n            }\r\n            me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico) \r\n            localStorage.url = url.webcuaderno;\r\n            // this.$router.push('/estudiante/cuaderno/digital');\r\n            let route = me.$router.resolve({path: '/estudiante/cuaderno/digital'});\r\n            window.open(route.href, '_blank');\r\n        },\r\n        acceptAlert() {\r\n            let me = this;\r\n            let formData = new FormData();\r\n            if (!me.codigo) {\r\n                me.$vs.notify({\r\n                    color: 'warning',\r\n                    title: 'Ingrese un código',\r\n                })\r\n            } else {\r\n                formData.append('codigo', me.codigo);\r\n                formData.append('idusuario', me.usuario.idusuario);\r\n                this.$http.post(this.$server_url+'codigosCuaderno', formData)\r\n                    .then(function (response) {\r\n                        me.getLibros();\r\n                        me.codigo = ''\r\n                        me.$vs.notify({\r\n                            color: 'success',\r\n                            title: 'Guardado',\r\n                            text: 'Libro Agregado'\r\n                        })\r\n                    })\r\n                    .catch(function (error) {})\r\n            }\r\n\r\n        },\r\n        close() {\r\n            this.$vs.notify({\r\n                color: 'danger',\r\n                title: '',\r\n                text: 'Datos no guardados!'\r\n            })\r\n        },\r\n    },\r\n}\r\n</script>\r\n"]}]}