{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\salle\\administrador\\usuarios\\agregarUsuario.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\salle\\administrador\\usuarios\\agregarUsuario.vue","mtime":1712682816531},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            usuarioSalle: {\r\n                'idusuario': '',\r\n                'cedula': '',\r\n                'nombres': '',\r\n                'apellidos': '',\r\n                'email': '',\r\n                'telefono': '',\r\n                'estado': '1',\r\n            },\r\n            perfil: {\r\n                'id': '',\r\n                'nombre': ''\r\n            },\r\n            institucionSelect: {\r\n                'idInstitucion': '',\r\n                'institucion_ciudad': ''\r\n            },\r\n            selectSalle: [{\r\n                    'id': 12,\r\n                    'nombre': 'Administrador Salle'\r\n                },\r\n                {\r\n                    'id': 13,\r\n                    'nombre': 'Docente Salle'\r\n                },\r\n                {\r\n                    'id': 6,\r\n                    'nombre': 'Docente Prolipa',\r\n                }\r\n            ],\r\n            errors: {\r\n                'email': '',\r\n                'cedula': ''\r\n            },\r\n            instituciones: [],\r\n            titulo: '',\r\n            miusuario: '',\r\n            userEditar: '',\r\n            txt_boton: '',\r\n            mensajeTxt: '',\r\n        }\r\n    },\r\n    props:{\r\n        editar:{\r\n            type:Number,\r\n            default:0\r\n        },\r\n        user:{\r\n            type:Object,\r\n            default:function(){\r\n                return {}\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        me.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n        me.miusuario = me.usuario;\r\n        if (me.editar == 1) {\r\n            me.titulo = 'Editar usuario';\r\n            me.txt_boton = 'Editar';\r\n            me.mensajeTxt = ' editado '\r\n            me.userEditar =  me.user;\r\n            me.usuarioSalle = me.userEditar;\r\n            me.usuarioSalle.estado = me.userEditar.estado_idEstado\r\n            me.perfil.id = me.userEditar.id_group\r\n            if (me.perfil.id == 12) me.perfil.nombre = 'Administrador Salle'\r\n            if (me.perfil.id == 13) me.perfil.nombre = 'Docente Salle'\r\n            if (me.perfil.id == 6) me.perfil.nombre = 'Docente'\r\n            me.institucionSelect.idInstitucion = me.userEditar.institucion_idInstitucion\r\n            me.institucionSelect.institucion_ciudad = me.userEditar.institucion_ciudad\r\n        } else {\r\n            me.titulo = 'Nuevo usuario';\r\n            me.txt_boton = 'Registrar';\r\n            me.mensajeTxt = ' registrado '\r\n        }\r\n\r\n        me.getInstituciones();\r\n    },\r\n    methods: {\r\n        getInstituciones() {\r\n            let me = this;\r\n            this.$http.get(this.$server_url+'institucionesSalle')\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    me.instituciones = res.data\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                })\r\n        },\r\n        volver(tipo) {\r\n            let me = this;\r\n            me.$emit('recharge',tipo)\r\n        },\r\n        registrar() {\r\n            let me = this;\r\n            me.errors = {\r\n                email: '',\r\n                cedula: ''\r\n            }\r\n            if (me.usuarioSalle.nombres == '' || me.usuarioSalle.apellidos == '' || me.usuarioSalle.cedula == '' || me.usuarioSalle.email == '' || me.institucionSelect.idInstitucion == '' || me.perfil.id == '' || me.usuarioSalle.telefono == '' || me.usuarioSalle.nombres == null || me.usuarioSalle.apellidos == null || me.usuarioSalle.cedula == null || me.usuarioSalle.email == null || me.institucionSelect.idInstitucion == null || me.perfil.id == null) {\r\n                me.$vs.notify({\r\n                    text: 'Complete todos los campos',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return;\r\n            }\r\n            me.$vs.loading();\r\n            let datas = new FormData();\r\n            datas.append('idusuario', me.usuarioSalle.idusuario);\r\n            datas.append('cedula', me.usuarioSalle.cedula);\r\n            datas.append('nombre', me.usuarioSalle.nombres);\r\n            datas.append('apellido', me.usuarioSalle.apellidos);\r\n            datas.append('email', me.usuarioSalle.email);\r\n            datas.append('telefono', me.usuarioSalle.telefono);\r\n            datas.append('idInstitucion', me.institucionSelect.idInstitucion);\r\n            datas.append('grupo', me.perfil.id);\r\n            datas.append('estado', me.usuarioSalle.estado);\r\n            datas.append('idcreadorusuario', me.miusuario.idusuario);\r\n            this.$http.post(this.$server_url+'add_edit_user_salle', datas)\r\n                .then(res => {\r\n                    // console.log(res.data)\r\n                    me.$vs.notify({\r\n                        text: 'Docente ' + me.mensajeTxt + ' correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.$vs.loading.close();\r\n                    me.volver(2);\r\n                })\r\n                .catch(err => {\r\n                    if (err.response.status == 422) {\r\n                        try {\r\n                            me.errors.email = err.response.data.errors.email[0]\r\n                        } catch (error) {\r\n                            console.log('email bien')\r\n                        }\r\n                        try {\r\n                            me.errors.cedula = err.response.data.errors.cedula[0]\r\n                        } catch (error) {\r\n                            console.log('cedula bien')\r\n                        }\r\n                    }\r\n                    if (me.errors.email != '' || me.errors.cedula != '') {\r\n                        me.$vs.notify({\r\n                            text: me.errors.email + ' ' + me.errors.cedula,\r\n                            color: 'warning',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-alert-triangle'\r\n                        })\r\n                    }\r\n                    me.$vs.loading.close();\r\n                })\r\n        },\r\n\r\n    }\r\n}\r\n",{"version":3,"sources":["agregarUsuario.vue"],"names":[],"mappings":";AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"agregarUsuario.vue","sourceRoot":"src/views/salle/administrador/usuarios","sourcesContent":["<template>\r\n<div class=\"vx-col md:w-full w-full mb-base\">\r\n    <vx-card>\r\n        <h5 class=\"m-3\"> {{titulo}} </h5>\r\n        <div class=\"vx-row mb-6\">\r\n            <div class=\"vx-col sm:w-1/2 w-full mb-4\">\r\n                <vs-input class=\"w-full\" type=\"text\" label=\"Nombre\" icon-pack=\"feather\" icon=\"icon-user\" maxlength=\"70\" icon-no-border v-model=\"usuarioSalle.nombres\" />\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 w-full mb-4\">\r\n                <vs-input class=\"w-full\" label=\"Apellido\" icon-pack=\"feather\" icon=\"icon-user\" maxlength=\"70\" icon-no-border v-model=\"usuarioSalle.apellidos\" />\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 w-full mb-4\">\r\n                <vs-input class=\"w-full \" type=\"text\" label=\"Cédula / password\" icon-pack=\"feather\" icon=\"icon-code\" maxlength=\"13\" icon-no-border v-model=\"usuarioSalle.cedula\" />\r\n                <span class=\"text-danger text-sm\">{{ errors.cedula }}</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 w-full mb-4\">\r\n                <vs-input class=\"w-full\" type=\"email\" label=\"Email\" icon-pack=\"feather\" icon=\"icon-at-sign\" maxlength=\"70\" icon-no-border v-model=\"usuarioSalle.email\" />\r\n                <span class=\"text-danger text-sm\">{{ errors.email }}</span>\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 w-full mb-4\">\r\n                <vs-input class=\"w-full \" type=\"tel\" label=\"Teléfono\" icon-pack=\"feather\" icon=\"icon-hash\" maxlength=\"20\" icon-no-border v-model=\"usuarioSalle.telefono\" />\r\n            </div>\r\n            <div class=\"vx-col sm:w-1/2 w-full mb-4\">\r\n                <span>Perfil</span>\r\n                <v-select icon-pack=\"feather\" icon=\"icon-home\" :options=\"selectSalle\" :reduce=\"selectSalle => selectSalle\" label=\"nombre\" v-model=\"perfil\" placeholder=\"Seleccione...\"></v-select>\r\n            </div>\r\n            <div class=\"vx-col sm:w-2/3 w-full mb-4\">\r\n                <span>Institución</span>\r\n                <v-select icon-pack=\"feather\" icon=\"icon-home\" :options=\"instituciones\" :reduce=\"instituciones => instituciones\" label=\"institucion_ciudad\" v-model=\"institucionSelect\" placeholder=\"Seleccione...\"></v-select>\r\n            </div>\r\n            <div class=\"vx-col w-full mb-4\">\r\n                <vs-button class=\"m-2\" color=\"primary\" type=\"border\" @click=\"registrar();\">{{txt_boton}}</vs-button>\r\n                <vs-button class=\"m-2\" color=\"danger\" type=\"border\" @click=\"volver(1);\">Cancelar</vs-button>\r\n            </div>\r\n        </div>\r\n    </vx-card>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nexport default {\r\n    components: {\r\n        'v-select': vSelect,\r\n    },\r\n    data() {\r\n        return {\r\n            usuarioSalle: {\r\n                'idusuario': '',\r\n                'cedula': '',\r\n                'nombres': '',\r\n                'apellidos': '',\r\n                'email': '',\r\n                'telefono': '',\r\n                'estado': '1',\r\n            },\r\n            perfil: {\r\n                'id': '',\r\n                'nombre': ''\r\n            },\r\n            institucionSelect: {\r\n                'idInstitucion': '',\r\n                'institucion_ciudad': ''\r\n            },\r\n            selectSalle: [{\r\n                    'id': 12,\r\n                    'nombre': 'Administrador Salle'\r\n                },\r\n                {\r\n                    'id': 13,\r\n                    'nombre': 'Docente Salle'\r\n                },\r\n                {\r\n                    'id': 6,\r\n                    'nombre': 'Docente Prolipa',\r\n                }\r\n            ],\r\n            errors: {\r\n                'email': '',\r\n                'cedula': ''\r\n            },\r\n            instituciones: [],\r\n            titulo: '',\r\n            miusuario: '',\r\n            userEditar: '',\r\n            txt_boton: '',\r\n            mensajeTxt: '',\r\n        }\r\n    },\r\n    props:{\r\n        editar:{\r\n            type:Number,\r\n            default:0\r\n        },\r\n        user:{\r\n            type:Object,\r\n            default:function(){\r\n                return {}\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        let me = this;\r\n        me.usuario = JSON.parse(localStorage.getItem('usuario'));\r\n        me.miusuario = me.usuario;\r\n        if (me.editar == 1) {\r\n            me.titulo = 'Editar usuario';\r\n            me.txt_boton = 'Editar';\r\n            me.mensajeTxt = ' editado '\r\n            me.userEditar =  me.user;\r\n            me.usuarioSalle = me.userEditar;\r\n            me.usuarioSalle.estado = me.userEditar.estado_idEstado\r\n            me.perfil.id = me.userEditar.id_group\r\n            if (me.perfil.id == 12) me.perfil.nombre = 'Administrador Salle'\r\n            if (me.perfil.id == 13) me.perfil.nombre = 'Docente Salle'\r\n            if (me.perfil.id == 6) me.perfil.nombre = 'Docente'\r\n            me.institucionSelect.idInstitucion = me.userEditar.institucion_idInstitucion\r\n            me.institucionSelect.institucion_ciudad = me.userEditar.institucion_ciudad\r\n        } else {\r\n            me.titulo = 'Nuevo usuario';\r\n            me.txt_boton = 'Registrar';\r\n            me.mensajeTxt = ' registrado '\r\n        }\r\n\r\n        me.getInstituciones();\r\n    },\r\n    methods: {\r\n        getInstituciones() {\r\n            let me = this;\r\n            this.$http.get(this.$server_url+'institucionesSalle')\r\n                .then(res => {\r\n                    console.log(res.data)\r\n                    me.instituciones = res.data\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                })\r\n        },\r\n        volver(tipo) {\r\n            let me = this;\r\n            me.$emit('recharge',tipo)\r\n        },\r\n        registrar() {\r\n            let me = this;\r\n            me.errors = {\r\n                email: '',\r\n                cedula: ''\r\n            }\r\n            if (me.usuarioSalle.nombres == '' || me.usuarioSalle.apellidos == '' || me.usuarioSalle.cedula == '' || me.usuarioSalle.email == '' || me.institucionSelect.idInstitucion == '' || me.perfil.id == '' || me.usuarioSalle.telefono == '' || me.usuarioSalle.nombres == null || me.usuarioSalle.apellidos == null || me.usuarioSalle.cedula == null || me.usuarioSalle.email == null || me.institucionSelect.idInstitucion == null || me.perfil.id == null) {\r\n                me.$vs.notify({\r\n                    text: 'Complete todos los campos',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return;\r\n            }\r\n            me.$vs.loading();\r\n            let datas = new FormData();\r\n            datas.append('idusuario', me.usuarioSalle.idusuario);\r\n            datas.append('cedula', me.usuarioSalle.cedula);\r\n            datas.append('nombre', me.usuarioSalle.nombres);\r\n            datas.append('apellido', me.usuarioSalle.apellidos);\r\n            datas.append('email', me.usuarioSalle.email);\r\n            datas.append('telefono', me.usuarioSalle.telefono);\r\n            datas.append('idInstitucion', me.institucionSelect.idInstitucion);\r\n            datas.append('grupo', me.perfil.id);\r\n            datas.append('estado', me.usuarioSalle.estado);\r\n            datas.append('idcreadorusuario', me.miusuario.idusuario);\r\n            this.$http.post(this.$server_url+'add_edit_user_salle', datas)\r\n                .then(res => {\r\n                    // console.log(res.data)\r\n                    me.$vs.notify({\r\n                        text: 'Docente ' + me.mensajeTxt + ' correctamente',\r\n                        color: 'success',\r\n                        iconPack: 'feather',\r\n                        icon: 'icon-check'\r\n                    })\r\n                    me.$vs.loading.close();\r\n                    me.volver(2);\r\n                })\r\n                .catch(err => {\r\n                    if (err.response.status == 422) {\r\n                        try {\r\n                            me.errors.email = err.response.data.errors.email[0]\r\n                        } catch (error) {\r\n                            console.log('email bien')\r\n                        }\r\n                        try {\r\n                            me.errors.cedula = err.response.data.errors.cedula[0]\r\n                        } catch (error) {\r\n                            console.log('cedula bien')\r\n                        }\r\n                    }\r\n                    if (me.errors.email != '' || me.errors.cedula != '') {\r\n                        me.$vs.notify({\r\n                            text: me.errors.email + ' ' + me.errors.cedula,\r\n                            color: 'warning',\r\n                            iconPack: 'feather',\r\n                            icon: 'icon-alert-triangle'\r\n                        })\r\n                    }\r\n                    me.$vs.loading.close();\r\n                })\r\n        },\r\n\r\n    }\r\n}\r\n</script>\r\n"]}]}