{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\admin\\reporteria\\material\\ReporteTareas.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\admin\\reporteria\\material\\ReporteTareas.vue","mtime":1712682815471},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport chart from \"vue-apexcharts\";\r\nimport moment from 'moment'\r\nimport { METHODS } from \"http\";\r\nexport default{\r\n    components: { apexchart: chart },\r\n    data(){\r\n        return{\r\n            anios:[],\r\n            infoAnios:[],\r\n            yactual:null,\r\n            menosUno:null,\r\n            menosDos:null,\r\n            anioSelect:null,\r\n            series: [{\r\n                name: 'Reporte tareas',\r\n                data: []\r\n            }],\r\n            options: {\r\n                chart: {\r\n                height: 350,\r\n                type: 'bar',\r\n                },\r\n                plotOptions: {\r\n                bar: {\r\n                    borderRadius: 10,\r\n                    dataLabels: {\r\n                    position: 'top', // top, center, bottom\r\n                    },\r\n                },\r\n                },\r\n                dataLabels: {\r\n                enabled: true,\r\n                formatter: function (val) {\r\n                    return val + ' env.';\r\n                },\r\n                offsetY: -20,\r\n                style: {\r\n                    fontSize: '12px',\r\n                    colors: ['#304758'],\r\n                },\r\n                },\r\n\r\n                xaxis: {\r\n                categories: [\r\n                    'Ene',\r\n                    'Feb',\r\n                    'Mar',\r\n                    'Abr',\r\n                    'May',\r\n                    'Jun',\r\n                    'Jul',\r\n                    'Ago',\r\n                    'Sep',\r\n                    'Oct',\r\n                    'Nov',\r\n                    'Dec',\r\n                ],\r\n                position: 'top',\r\n                axisBorder: {\r\n                    show: false,\r\n                },\r\n                axisTicks: {\r\n                    show: false,\r\n                },\r\n                crosshairs: {\r\n                    fill: {\r\n                    type: 'gradient',\r\n                    gradient: {\r\n                        colorFrom: '#D8E3F0',\r\n                        colorTo: '#BED1E6',\r\n                        stops: [0, 100],\r\n                        opacityFrom: 0.4,\r\n                        opacityTo: 0.5,\r\n                    },\r\n                    },\r\n                },\r\n                tooltip: {\r\n                    enabled: true,\r\n                },\r\n                },\r\n                yaxis: {\r\n                axisBorder: {\r\n                    show: false,\r\n                },\r\n                axisTicks: {\r\n                    show: false,\r\n                },\r\n                labels: {\r\n                    show: false,\r\n                    formatter: function (val) {\r\n                    return val + '%';\r\n                    },\r\n                },\r\n                },\r\n                title: {\r\n                text: '',\r\n                floating: true,\r\n                offsetY: 330,\r\n                align: 'center',\r\n                style: {\r\n                    color: '#444',\r\n                },\r\n                },\r\n            },\r\n        }\r\n    },\r\n    created(){\r\n        let me = this;\r\n        me.yactual = moment().format('YYYY');\r\n        //restar Anios\r\n        me.menosUno = me.yactual - 1;\r\n        me.menosDos = me.yactual - 2;\r\n        me.anios.push({anio:me.yactual});\r\n        me.anios.push({anio:me.menosUno});\r\n        me.anios.push({anio:me.menosDos});  \r\n        me.anioSelect = this.anios[0].anio\r\n    },\r\n    mounted(){\r\n        let me = this;\r\n        me.getEstastica()\r\n        me.getEstasticaPorAnios()\r\n    },\r\n    methods:{\r\n        getEstastica(){\r\n            let me = this;\r\n            this.series[0].data = []\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url+'reporteMesTareas?anio='+me.anioSelect)\r\n                .then(function (res) {\r\n                  \r\n                    me.pasarInfo(res.data[0]) \r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        getEstasticaPorAnios(){\r\n            let me = this;\r\n            this.$http.get(this.$server_url+'reporteMesTareasAnios?anioActual='+me.yactual+'&anioMenosUno='+me.menosUno+'&anioMenosDos='+me.menosDos)\r\n                .then(function (res) {\r\n                    me.pasarInfo2(res.data)\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                })\r\n        },\r\n        pasarInfo(item){\r\n            let me = this\r\n            let datos = Object.values(item);\r\n            let valores = []\r\n            for(var i = 0; i < datos.length; i++){\r\n                valores[i] = parseInt(datos[i]);\r\n            }\r\n            this.series[0].data = valores;\r\n            setTimeout(function() {me.$vs.loading.close()}, 2000);\r\n        },\r\n        pasarInfo2(item){\r\n            let me = this\r\n            this.infoAnios = item\r\n        },\r\n        //metodo par descargar el excel\r\n        ExportToExcel(type, fn, dl) {\r\n        var elt = document.getElementById('tbl_exporttable_to_xls');\r\n        var wb = XLSX.utils.table_to_book(elt, { sheet: \"sheet1\" });\r\n        return dl ?\r\n            XLSX.write(wb, { bookType: type, bookSST: true, type: 'base64' }):\r\n            XLSX.writeFile(wb, fn || ('ReporteTareas.' + (type || 'xlsx')));\r\n        \r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["ReporteTareas.vue"],"names":[],"mappings":";AAyIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"ReporteTareas.vue","sourceRoot":"src/views/admin/reporteria/material","sourcesContent":["<template>\r\n    <vx-card    \r\n    title=\"Reporte de tareas\"\r\n    title-color=\"primary\"\r\n    subtitle=\"Seleccione el año para ver la estadistica.\">\r\n        <vs-table id=\"tbl_exporttable_to_xls\">\r\n            <template slot=\"header\">\r\n                <div class=\"flex\" style=\"margin-top: -10px;\">\r\n                    <vs-chip color=\"primary\">Reporte por año</vs-chip>\r\n                    <vs-button class=\"ml-3\" @click=\"ExportToExcel('xlsx')\" color=\"success\" type=\"border\">Exportar</vs-button>\r\n                </div>\r\n                <br><br>\r\n            </template>\r\n            <template slot=\"thead\">\r\n                <vs-th>Mes</vs-th>\r\n                <vs-th>{{menosDos}}</vs-th>\r\n                <vs-th>{{ menosUno }}</vs-th>\r\n                <vs-th>{{ yactual }}</vs-th>\r\n            </template>\r\n            <template>\r\n                <vs-tr>\r\n                    <vs-td>\r\n                        <b>Enero</b>\r\n                    </vs-td>\r\n                    <vs-td v-for=\"(tr,index) in infoAnios.datos\" :key=\"index\">\r\n                        {{ tr.Ene }}\r\n                    </vs-td>\r\n                </vs-tr>\r\n                <vs-tr>\r\n                    <vs-td>\r\n                        <b>Febrero</b>\r\n                    </vs-td>\r\n                    <vs-td v-for=\"(tr,index) in infoAnios.datos\" :key=\"index\">\r\n                        {{ tr.Feb }}\r\n                    </vs-td>\r\n                </vs-tr>\r\n                <vs-tr>\r\n                    <vs-td>\r\n                        <b>Marzo</b>\r\n                    </vs-td>\r\n                    <vs-td v-for=\"(tr,index) in infoAnios.datos\" :key=\"index\">\r\n                        {{ tr.Mar }}\r\n                    </vs-td>\r\n                </vs-tr>\r\n                <vs-tr>\r\n                    <vs-td>\r\n                        <b>Abril</b>\r\n                    </vs-td>\r\n                    <vs-td v-for=\"(tr,index) in infoAnios.datos\" :key=\"index\">\r\n                        {{ tr.Abr }}\r\n                    </vs-td>\r\n                </vs-tr>\r\n                <vs-tr>\r\n                    <vs-td>\r\n                        <b>Mayo</b>\r\n                    </vs-td>\r\n                    <vs-td v-for=\"(tr,index) in infoAnios.datos\" :key=\"index\">\r\n                        {{ tr.May }}\r\n                    </vs-td>\r\n                </vs-tr>\r\n                <vs-tr>\r\n                    <vs-td>\r\n                        <b>Junio</b>\r\n                    </vs-td>\r\n                    <vs-td v-for=\"(tr,index) in infoAnios.datos\" :key=\"index\">\r\n                        {{ tr.Jun }}\r\n                    </vs-td>\r\n                </vs-tr>\r\n                <vs-tr>\r\n                    <vs-td>\r\n                        <b>Julio</b>\r\n                    </vs-td>\r\n                    <vs-td v-for=\"(tr,index) in infoAnios.datos\" :key=\"index\">\r\n                        {{ tr.Jul }}\r\n                    </vs-td>\r\n                </vs-tr>\r\n                <vs-tr>\r\n                    <vs-td>\r\n                        <b>Agosto</b>\r\n                    </vs-td>\r\n                    <vs-td v-for=\"(tr,index) in infoAnios.datos\" :key=\"index\">\r\n                        {{ tr.Ago }}\r\n                    </vs-td>\r\n                </vs-tr>\r\n                <vs-tr>\r\n                    <vs-td>\r\n                        <b>Septiembre</b>\r\n                    </vs-td>\r\n                    <vs-td v-for=\"(tr,index) in infoAnios.datos\" :key=\"index\">\r\n                        {{ tr.Sep }}\r\n                    </vs-td>\r\n                </vs-tr>\r\n                <vs-tr>\r\n                    <vs-td>\r\n                        <b>Octubre</b>\r\n                    </vs-td>\r\n                    <vs-td v-for=\"(tr,index) in infoAnios.datos\" :key=\"index\">\r\n                        {{ tr.Oct }}\r\n                    </vs-td>\r\n                </vs-tr>\r\n                <vs-tr>\r\n                    <vs-td>\r\n                        <b>Noviembre</b>\r\n                    </vs-td>\r\n                    <vs-td v-for=\"(tr,index) in infoAnios.datos\" :key=\"index\">\r\n                        {{ tr.Nov }}\r\n                    </vs-td>\r\n                </vs-tr>\r\n                <vs-tr>\r\n                    <vs-td>\r\n                        <b>Diciembre</b>\r\n                    </vs-td>\r\n                    <vs-td v-for=\"(tr,index) in infoAnios.datos\" :key=\"index\">\r\n                        {{ tr.Dic }}\r\n                    </vs-td>\r\n                </vs-tr>\r\n            </template>\r\n        </vs-table>   \r\n        <vs-divider>Estadistica</vs-divider>\r\n        <ul class=\"leftx\">\r\n            <li v-for=\"(tr,index) in anios\" :key=\"index\">\r\n                <vs-radio v-model=\"anioSelect\" @input=\"getEstastica()\" vs-name=\"radios1\" :vs-value=\"tr.anio\">{{ tr.anio }}</vs-radio>\r\n            </li>\r\n        </ul>\r\n        <vs-divider></vs-divider>\r\n        <p style=\"display: none;\">{{ series }}</p>\r\n        <div id=\"chart\">\r\n        <apexchart\r\n          type=\"bar\"\r\n          height=\"350\"\r\n          :options=\"options\"\r\n          :series=\"[series[0]]\"\r\n        ></apexchart>\r\n      </div>\r\n    </vx-card>\r\n</template>\r\n<script>\r\nimport chart from \"vue-apexcharts\";\r\nimport moment from 'moment'\r\nimport { METHODS } from \"http\";\r\nexport default{\r\n    components: { apexchart: chart },\r\n    data(){\r\n        return{\r\n            anios:[],\r\n            infoAnios:[],\r\n            yactual:null,\r\n            menosUno:null,\r\n            menosDos:null,\r\n            anioSelect:null,\r\n            series: [{\r\n                name: 'Reporte tareas',\r\n                data: []\r\n            }],\r\n            options: {\r\n                chart: {\r\n                height: 350,\r\n                type: 'bar',\r\n                },\r\n                plotOptions: {\r\n                bar: {\r\n                    borderRadius: 10,\r\n                    dataLabels: {\r\n                    position: 'top', // top, center, bottom\r\n                    },\r\n                },\r\n                },\r\n                dataLabels: {\r\n                enabled: true,\r\n                formatter: function (val) {\r\n                    return val + ' env.';\r\n                },\r\n                offsetY: -20,\r\n                style: {\r\n                    fontSize: '12px',\r\n                    colors: ['#304758'],\r\n                },\r\n                },\r\n\r\n                xaxis: {\r\n                categories: [\r\n                    'Ene',\r\n                    'Feb',\r\n                    'Mar',\r\n                    'Abr',\r\n                    'May',\r\n                    'Jun',\r\n                    'Jul',\r\n                    'Ago',\r\n                    'Sep',\r\n                    'Oct',\r\n                    'Nov',\r\n                    'Dec',\r\n                ],\r\n                position: 'top',\r\n                axisBorder: {\r\n                    show: false,\r\n                },\r\n                axisTicks: {\r\n                    show: false,\r\n                },\r\n                crosshairs: {\r\n                    fill: {\r\n                    type: 'gradient',\r\n                    gradient: {\r\n                        colorFrom: '#D8E3F0',\r\n                        colorTo: '#BED1E6',\r\n                        stops: [0, 100],\r\n                        opacityFrom: 0.4,\r\n                        opacityTo: 0.5,\r\n                    },\r\n                    },\r\n                },\r\n                tooltip: {\r\n                    enabled: true,\r\n                },\r\n                },\r\n                yaxis: {\r\n                axisBorder: {\r\n                    show: false,\r\n                },\r\n                axisTicks: {\r\n                    show: false,\r\n                },\r\n                labels: {\r\n                    show: false,\r\n                    formatter: function (val) {\r\n                    return val + '%';\r\n                    },\r\n                },\r\n                },\r\n                title: {\r\n                text: '',\r\n                floating: true,\r\n                offsetY: 330,\r\n                align: 'center',\r\n                style: {\r\n                    color: '#444',\r\n                },\r\n                },\r\n            },\r\n        }\r\n    },\r\n    created(){\r\n        let me = this;\r\n        me.yactual = moment().format('YYYY');\r\n        //restar Anios\r\n        me.menosUno = me.yactual - 1;\r\n        me.menosDos = me.yactual - 2;\r\n        me.anios.push({anio:me.yactual});\r\n        me.anios.push({anio:me.menosUno});\r\n        me.anios.push({anio:me.menosDos});  \r\n        me.anioSelect = this.anios[0].anio\r\n    },\r\n    mounted(){\r\n        let me = this;\r\n        me.getEstastica()\r\n        me.getEstasticaPorAnios()\r\n    },\r\n    methods:{\r\n        getEstastica(){\r\n            let me = this;\r\n            this.series[0].data = []\r\n            me.$vs.loading()\r\n            this.$http.get(this.$server_url+'reporteMesTareas?anio='+me.anioSelect)\r\n                .then(function (res) {\r\n                  \r\n                    me.pasarInfo(res.data[0]) \r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n\r\n                })\r\n        },\r\n        getEstasticaPorAnios(){\r\n            let me = this;\r\n            this.$http.get(this.$server_url+'reporteMesTareasAnios?anioActual='+me.yactual+'&anioMenosUno='+me.menosUno+'&anioMenosDos='+me.menosDos)\r\n                .then(function (res) {\r\n                    me.pasarInfo2(res.data)\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                })\r\n        },\r\n        pasarInfo(item){\r\n            let me = this\r\n            let datos = Object.values(item);\r\n            let valores = []\r\n            for(var i = 0; i < datos.length; i++){\r\n                valores[i] = parseInt(datos[i]);\r\n            }\r\n            this.series[0].data = valores;\r\n            setTimeout(function() {me.$vs.loading.close()}, 2000);\r\n        },\r\n        pasarInfo2(item){\r\n            let me = this\r\n            this.infoAnios = item\r\n        },\r\n        //metodo par descargar el excel\r\n        ExportToExcel(type, fn, dl) {\r\n        var elt = document.getElementById('tbl_exporttable_to_xls');\r\n        var wb = XLSX.utils.table_to_book(elt, { sheet: \"sheet1\" });\r\n        return dl ?\r\n            XLSX.write(wb, { bookType: type, bookSST: true, type: 'base64' }):\r\n            XLSX.writeFile(wb, fn || ('ReporteTareas.' + (type || 'xlsx')));\r\n        \r\n        }\r\n    }\r\n}\r\n</script>"]}]}