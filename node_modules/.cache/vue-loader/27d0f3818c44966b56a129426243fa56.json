{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\libros\\desgloseunidad.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\libros\\desgloseunidad.vue","mtime":1712682816111},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\nimport historicoMixin from \"@/mixins/historicomix\";\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nimport 'vue-select/dist/vue-select.css';\r\nimport JuegosProlipaVue from \"./components/Juegos/JuegosProlipa.vue\";\r\nimport {\r\n    getIdFromUrl\r\n} from 'vue-youtube'\r\nimport VueYoutube from 'vue-youtube'\r\nVue.use(VueYoutube)\r\nVue.use(axios)\r\nexport default {\r\n    mixins: [historicoMixin],\r\n    components: {\r\n        'v-select': vSelect,\r\n        JuegosProlipaVue,\r\n    },\r\n    data() {\r\n        return {\r\n            activePrompt: false,\r\n            activePrompt2: false,\r\n            val: '',\r\n            idlibro: '',\r\n            indexUnidad: '',\r\n            valUnidad: '',\r\n            valMultipe: {\r\n                value1: '',\r\n                value2: ''\r\n            },\r\n            select: [],\r\n            libros: [],\r\n            usuario: [],\r\n            miusuario:[],\r\n            librosunidades: [],\r\n            librosunidades_anim: [],\r\n            planificacionesunidades: [],\r\n            teletareasunidades: [],\r\n            cantactividades: 0,\r\n            cantanimaciones: 0,\r\n            cantplanificaciones: 0,\r\n            canteletareas: 0,\r\n            tabMostrar: 0,\r\n            nombrelibroSelec: '',\r\n            idUnidad: '',\r\n            dataLibroSelec: [],\r\n            carpeta: '',\r\n            juegos: [],\r\n            materialapoyo: [],\r\n            temas: [],\r\n            videos: [],\r\n            popupVideoActive: false,\r\n            youtube: '',\r\n            //variavbles para juegos de prolipa\r\n            arregloJuegosProlipa:[],\r\n            cant_juegosprolipa:0,\r\n            //fin variables par juegos de prolipa\r\n        }\r\n    },\r\n    computed: {\r\n        validName() {\r\n            return (this.valMultipe.value1.length > 0 && this.valMultipe.value2.length > 0)\r\n        }\r\n    },\r\n    created() {\r\n        this.usuario = JSON.parse(localStorage.getItem('usuario'))\r\n        this.miusuario = this.usuario\r\n        this.idlibro = localStorage.getItem('idlibro')\r\n        this.indexUnidad = localStorage.getItem('indexUnidad')\r\n        this.valUnidad = localStorage.getItem('valUnidad')\r\n        this.nombrelibroSelec = localStorage.getItem('nombrelibroSelec')\r\n        this.idUnidad = localStorage.getItem('idUnidad')\r\n        this.carpeta = localStorage.getItem('carpetaLibroSelec')\r\n    },\r\n    mounted() {\r\n      let me = this\r\n      me.getTodosJuegosProlipa()\r\n      this.getLibros()\r\n    },\r\n    methods: {\r\n        async getLibros() {\r\n            let me = this\r\n            me.$vs.loading()\r\n\r\n            this.$http.get(this.$server_url+'temasUnidad_id/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.temas = response.data\r\n                })\r\n                .catch(function (error) {}),\r\n\r\n                this.$http.get(this.$server_url+'actividades_libros_unidad/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.librosunidades = response.data\r\n                    me.cantactividades = response.data.length\r\n                })\r\n                .catch(function (error) {}),\r\n\r\n                this.$http.get(this.$server_url+'animaciones_libros_unidad/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.librosunidades_anim = response.data\r\n                    me.cantanimaciones = response.data.length\r\n                })\r\n                .catch(function (error) {})\r\n\r\n            this.$http.get(this.$server_url+'teletareasunidades/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.teletareasunidades = response.data\r\n                    me.canteletareas = response.data.length\r\n                })\r\n                .catch(function (error) {}),\r\n\r\n                this.$http.get(this.$server_url+'juegos_unidad/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.juegos = response.data\r\n                })\r\n                .catch(function (error) {}),\r\n\r\n                this.$http.get(this.$server_url+'materialapoyo_unidad/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.materialapoyo = response.data\r\n                })\r\n                .catch(function (error) {}),\r\n\r\n                this.$http.get(this.$server_url+'videos_libro_unidad/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.videos = response.data\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {})\r\n        },\r\n        getTodosJuegosProlipa(){\r\n          let me = this\r\n          me.cant_juegosprolipa = 0\r\n          const formData = new FormData();\r\n          formData.append('unidad',localStorage.valUnidad)\r\n          formData.append('id_asignatura', localStorage.idasignatura);\r\n          this.$http.post(this.$server_url + 'j_juegos_tipo_prolipaTodos', formData)\r\n              .then(res => {\r\n                if(res.data.length > 0){\r\n                  me.arregloJuegosProlipa = res.data.items;\r\n                  if (res.data.items) {\r\n                    me.cant_juegosprolipa = me.arregloJuegosProlipa.length\r\n                  }\r\n                }\r\n              })\r\n              .catch(function (error) {\r\n                  console.log(error);\r\n              })\r\n        },\r\n        verActividad(item,folder) {\r\n            let me = this;\r\n            let link = item.link\r\n            //guardar en historico las activas\r\n            if(folder == \"actividades\"){\r\n                let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n                let h_idusuario = me.miusuario.idusuario;\r\n                let h_idgrupo = me.miusuario.id_group;\r\n                let h_idasignatura = localStorage.idasignatura\r\n                let h_nombreasignatura = localStorage.nombreasignatura\r\n                let h_recursotipo = 19; //19 = actividades\r\n                let datoHistorico = {\r\n                    'user_nombre': me.miusuario.nombres,\r\n                    'user_apellido': me.miusuario.apellidos,\r\n                    'user_email': me.miusuario.email,\r\n                    'user_cedula': me.miusuario.cedula,\r\n                    'recurso_accion': 'ver',\r\n                    'recurso_tipo': 'actividades',\r\n                    'recurso_nombre': item.nombre_tema,\r\n                    'recurso_detalle': 'clasificacion '+item.clasificacion,\r\n                    'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n                }\r\n                 me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n                 me.saveHistoricoActividades(item.nombre_tema,folder,1,item.page)\r\n            }\r\n            //guardar en historico las animaciones\r\n            else{\r\n                let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n                let h_idusuario = me.miusuario.idusuario;\r\n                let h_idgrupo = me.miusuario.id_group;\r\n                let h_idasignatura = localStorage.idasignatura\r\n                let h_nombreasignatura = localStorage.nombreasignatura\r\n                let h_recursotipo = 20; //20 = animaciones\r\n                let datoHistorico = {\r\n                    'user_nombre': me.miusuario.nombres,\r\n                    'user_apellido': me.miusuario.apellidos,\r\n                    'user_email': me.miusuario.email,\r\n                    'user_cedula': me.miusuario.cedula,\r\n                    'recurso_accion': 'ver',\r\n                    'recurso_tipo': 'animaciones',\r\n                    'recurso_nombre': item.nombre_tema,\r\n                    'recurso_detalle': 'clasificacion '+item.clasificacion,\r\n                    'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n                }\r\n                me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n                me.saveHistoricoActividades(item.nombre_tema,folder,3,item.page)\r\n            }\r\n            localStorage.vistalibro = 'todo'\r\n            localStorage.url_actividad = this.carpeta + '/' + folder + '/' + link + '.html';\r\n            this.$router.push('/docente/libro/digital');\r\n        },\r\n        saveHistoricoActividades(activity,folder,tipo,page){\r\n            let me = this;\r\n            let asignatura_id = localStorage.idasignatura\r\n            let idusuario     = me.usuario.idusuario\r\n            let url           = folder\r\n            let actividad     = activity\r\n            let periodo_id    = localStorage.periodo_id\r\n            this.$http.get(this.$server_url+'conteoActividad?asignatura_id='+asignatura_id+'&idusuario='+idusuario+'&url='+url+'&actividad='+actividad+'&periodo_id='+periodo_id+'&pagina='+page+'&tipo='+tipo)\r\n                .then(function (res) {\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        verPlanificacion(web) {\r\n            window.open(this.$data_url+'tareas/upload/planificacion/' + web, '_blank');\r\n        },\r\n        verTeletarea(item) {\r\n            let me = this\r\n            if (this.usuario.id_group == 9 && item.nombre.substr(-3) == \"pdf\") {\r\n                this.$vs.notify({\r\n                    text: 'El archivo no esta disponible en la version DEMO',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n            let h_idusuario = me.miusuario.idusuario;\r\n            let h_idgrupo = me.miusuario.id_group;\r\n            let h_idasignatura = localStorage.idasignatura\r\n            let h_nombreasignatura = localStorage.nombreasignatura\r\n            let h_recursotipo = 4; //4 = teletarea\r\n            let datoHistorico = {\r\n                'user_nombre': me.miusuario.nombres,\r\n                'user_apellido': me.miusuario.apellidos,\r\n                'user_email': me.miusuario.email,\r\n                'user_cedula': me.miusuario.cedula,\r\n                'recurso_accion': 'ver',\r\n                'recurso_tipo': 'teletarea',\r\n                'recurso_nombre': item.nombre,\r\n                'recurso_detalle': 'nombre del tema '+item.nombre_tema,\r\n                'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n            }\r\n            me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n            me.saveHistoricoActividades(item.nombre,item.url,4,0)\r\n            if (item.nombre.substr(-3) == \"pdf\") {\r\n                window.open(this.$data_url+'tareas/' + item.url, '_blank');\r\n            } else if (item.mime = \"application/pdf\") {\r\n                window.open('https://view.officeapps.live.com/op/embed.aspx?src='+this.$data_url+'tareas/' + item.url, '_blank');\r\n            }\r\n        },\r\n        descargarTeletarea(item) {\r\n            let me = this;\r\n            if (this.usuario.id_group == 9 && item.nombre.substr(-3) == \"pdf\") {\r\n                this.$vs.notify({\r\n                    text: 'El archivo no esta disponible en la version DEMO',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n            let h_idusuario = me.miusuario.idusuario;\r\n            let h_idgrupo = me.miusuario.id_group;\r\n            let h_idasignatura = localStorage.idasignatura\r\n            let h_nombreasignatura = localStorage.nombreasignatura\r\n            let h_recursotipo = 4; //4 = teletarea\r\n            let datoHistorico = {\r\n                'user_nombre': me.miusuario.nombres,\r\n                'user_apellido': me.miusuario.apellidos,\r\n                'user_email': me.miusuario.email,\r\n                'user_cedula': me.miusuario.cedula,\r\n                'recurso_accion': 'descargar',\r\n                'recurso_tipo': 'teletarea',\r\n                'recurso_nombre': item.nombre,\r\n                'recurso_detalle': 'nombre del tema '+item.nombre_tema,\r\n                'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n            }\r\n            me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n            me.saveHistoricoActividades(item.nombre,item.url,4,0)\r\n            window.open(this.$data_url+'tareas/' + item.url, '_blank');\r\n        },\r\n        verJuego(item) {\r\n            let me = this\r\n            let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n            let h_idusuario = me.miusuario.idusuario;\r\n            let h_idgrupo = me.miusuario.id_group;\r\n            let h_idasignatura = localStorage.idasignatura\r\n            let h_nombreasignatura = localStorage.nombreasignatura\r\n            let h_recursotipo = 8; //8 = juego\r\n            let datoHistorico = {\r\n                'user_nombre': me.miusuario.nombres,\r\n                'user_apellido': me.miusuario.apellidos,\r\n                'user_email': me.miusuario.email,\r\n                'user_cedula': me.miusuario.cedula,\r\n                'recurso_accion': 'ver',\r\n                'recurso_tipo': 'juego',\r\n                'recurso_nombre': item.nombre,\r\n                'recurso_detalle': '',\r\n                'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n            }\r\n            me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n            me.saveHistoricoActividades(item.nombre,item.carpeta,5,0)\r\n            localStorage.url_juego = item.carpeta;\r\n            this.$router.push('/docente/juego/digital');\r\n            // window.open('/docente/juego/digital', '_blank');\r\n        },\r\n        verMaterial(item) {\r\n            let me = this\r\n            let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n            let h_idusuario = me.miusuario.idusuario;\r\n            let h_idgrupo = me.miusuario.id_group;\r\n            let h_idasignatura = localStorage.idasignatura\r\n            let h_nombreasignatura = localStorage.nombreasignatura\r\n            let h_recursotipo = 9; //9 = material\r\n            let datoHistorico = {\r\n                'user_nombre': me.miusuario.nombres,\r\n                'user_apellido': me.miusuario.apellidos,\r\n                'user_email': me.miusuario.email,\r\n                'user_cedula': me.miusuario.cedula,\r\n                'recurso_accion': 'ver',\r\n                'recurso_tipo': 'material',\r\n                'recurso_nombre': item.nombrematerial,\r\n                'recurso_detalle': '',\r\n                'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n            }\r\n            me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n            me.saveHistoricoActividades(item.nombrematerial,item.webmaterial,2,0)\r\n            localStorage.url_material = item.webmaterial\r\n            this.$router.push('/docente/material/digital');\r\n            // window.open('/docente/material/digital', '_blank');\r\n        },\r\n        irdesgloseTema(item) {\r\n            localStorage.idtemaSelec = item.id\r\n            localStorage.nombre_tema = item.nombre_tema\r\n            this.$router.push('/docente/libro/desglosetema');\r\n        },\r\n        verVideo(item) {\r\n            let me = this\r\n            let url = item.webvideo\r\n            //guardar historico\r\n            let h_idinstitucion     = me.miusuario.institucion_idInstitucion;\r\n            let h_idusuario         = me.miusuario.idusuario;\r\n            let h_idgrupo           = me.miusuario.id_group;\r\n            let h_idasignatura      = localStorage.idasignatura\r\n            let h_nombreasignatura  = localStorage.nombreasignatura\r\n            let h_recursotipo = 18; //18 = videos tema\r\n            let datoHistorico = {\r\n                'user_nombre':      me.miusuario.nombres,\r\n                'user_apellido':    me.miusuario.apellidos,\r\n                'user_email':       me.miusuario.email,\r\n                'user_cedula':      me.miusuario.cedula,\r\n                'recurso_accion':   'abrir',\r\n                'recurso_tipo':     'videos tema',\r\n                'recurso_nombre':   item.nombrevideo,\r\n                'recurso_detalle':  '',\r\n                'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n            }\r\n            me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n            me.saveHistoricoActividades(item.nombrevideo,item.webvideo,6,0)\r\n            //proceso\r\n            me.popupVideoActive = true\r\n            const youtubeId = getIdFromUrl(url)\r\n            me.youtube = youtubeId;\r\n            console.log('url ' + url, 'id yout '+ youtubeId)\r\n        },\r\n        libroWebUnidad() {\r\n            localStorage.vistalibro = 'por_unidad'\r\n            this.$router.push('/docente/libro/digital');\r\n        },\r\n    },\r\n}\r\n",{"version":3,"sources":["desgloseunidad.vue"],"names":[],"mappings":";AAyHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"desgloseunidad.vue","sourceRoot":"src/views/libros","sourcesContent":["<template>\r\n<div>\r\n    <vs-popup title=\"Ver video\" :active.sync=\"popupVideoActive\">\r\n        <div class=\"text-center\" id=\"video\">\r\n            <youtube class=\"float-center\" :video-id=\"youtube\"></youtube>\r\n        </div>\r\n    </vs-popup>\r\n    <div class=\"vx-row\">\r\n        <div class=\"vx-col w-full\">\r\n            <vx-card class=\"text-center mb-4\">\r\n                <h3><b>{{nombrelibroSelec+' - UNIDAD '+ valUnidad}}</b></h3>\r\n                <div class=\"vx-row mb-6 mt-6\">\r\n                    <div class=\"vx-col sm:w-1/5 w-full\" align=\"left\" style=\"border-right: 1px solid #EAEAEA;\">\r\n                        <vs-button color=\"primary\" type=\"border\" class=\"m-1 w-full\" @click=\"libroWebUnidad()\">Libro Web - Unidad {{valUnidad}}</vs-button>\r\n                        <vs-button color=\"success\" type=\"border\" class=\"m-1 w-full\" @click=\"tabMostrar=0\">Temas ({{temas.length}})</vs-button>\r\n                        <vs-button color=\"dark\" type=\"line\" class=\"m-1 w-full\" @click=\"tabMostrar=1\">Actividades ({{cantactividades}})</vs-button>\r\n                        <vs-button color=\"dark\" type=\"line\" class=\"m-1 w-full\" @click=\"tabMostrar=2\">Animaciones ({{cantanimaciones}})</vs-button>\r\n                        <!--<vs-button color=\"dark\" type=\"line\" class=\"m-1 w-full\"  @click=\"tabMostrar=3\">Planificaciones ({{cantplanificaciones}})</vs-button>-->\r\n                        <vs-button color=\"dark\" type=\"line\" class=\"m-1 w-full\" @click=\"tabMostrar=4\">Teletareas ({{canteletareas}})</vs-button>\r\n                        <vs-button color=\"dark\" type=\"line\" class=\"m-1 w-full\" @click=\"tabMostrar=5\">Juegos ({{juegos.length + arregloJuegosProlipa.length }})</vs-button>\r\n                        <vs-button color=\"dark\" type=\"line\" class=\"m-1 w-full\" @click=\"tabMostrar=6\">Material apoyo ({{materialapoyo.length}})</vs-button>\r\n                        <vs-button color=\"dark\" type=\"line\" class=\"m-1 w-full\" @click=\"tabMostrar=7\">Videos ({{videos.length}})</vs-button>\r\n                    </div>\r\n\r\n                    <div class=\"vx-col sm:w-4/5 w-full text-left\">\r\n                        <vs-list v-if=\"tabMostrar===0\">\r\n                            <vs-list-header title=\"Temas\" color=\"warning\"></vs-list-header>\r\n                            <vs-list-item v-for=\"(item,$index) in temas\" :key=\"$index\" v-bind:title=\"item.nombre_tema\">\r\n                                <template slot=\"avatar\" v-if=\"item.tipo_tema===1\">\r\n                                    <vs-avatar color=\"primary\" icon-pack=\"feather\" icon=\"icon-file\" />\r\n                                </template>\r\n                                <template slot=\"avatar\" v-if=\"item.tipo_tema===0\">\r\n                                    <vs-avatar color=\"warning\" icon-pack=\"feather\" icon=\"icon-file\" />\r\n                                </template>\r\n                                <vs-button v-if=\"item.tipo_tema===1\" color=\"dark\" type=\"border\" class=\"btn_ver\" @click=\"irdesgloseTema(item)\" icon-pack=\"feather\" icon=\"icon-eye\">Visualizar</vs-button>\r\n                                <vs-button v-if=\"item.tipo_tema===0\" color=\"primary\" class=\"btn_ver\" @click=\"irdesgloseTema(item)\" icon-pack=\"feather\" icon=\"icon-eye\">Visualizar</vs-button>\r\n                            </vs-list-item>\r\n                        </vs-list>\r\n\r\n                        <vs-list v-if=\"tabMostrar===1\">\r\n                            <vs-list-header title=\"Actividades\" color=\"warning\"></vs-list-header>\r\n                            <vs-list-item v-for=\"(item,$index) in librosunidades\" :key=\"$index\" v-bind:title=\"item.nombre_tema +' - pág. '+ item.page\">\r\n                                <template slot=\"avatar\">\r\n                                    <vs-avatar color=\"warning\" icon-pack=\"feather\" icon=\"icon-file\" />\r\n                                </template>\r\n                                <vs-button color=\"primary\" class=\"btn_ver\" @click=\"verActividad(item, 'actividades')\">Ver</vs-button>\r\n                            </vs-list-item>\r\n                        </vs-list>\r\n                        <vs-list v-if=\"tabMostrar===2\">\r\n                            <vs-list-header title=\"Animaciones\" color=\"warning\"></vs-list-header>\r\n                            <vs-list-item v-for=\"(item,$index) in librosunidades_anim\" :key=\"$index\" v-bind:title=\"item.nombre_tema +' - pág. '+ item.page\">\r\n                                <template slot=\"avatar\">\r\n                                    <vs-avatar color=\"warning\" icon-pack=\"feather\" icon=\"icon-play\" />\r\n                                </template>\r\n                                <vs-button color=\"primary\" class=\"btn_ver\" @click=\"verActividad(item, 'animaciones')\">Ver</vs-button>\r\n                            </vs-list-item>\r\n                        </vs-list>\r\n\r\n                        <!-- <vs-list v-if=\"tabMostrar===3\">\r\n                <vs-list-header title=\"Planificaciones\" color=\"warning\"></vs-list-header>\r\n                <vs-list-item v-for=\"(item,$index) in planificacionesunidades\" :key=\"$index\" v-bind:title=\"item.nombreplanificacion\" subtitle=\"\">\r\n                    <template slot=\"avatar\">\r\n                    <vs-avatar color=\"warning\" icon-pack=\"feather\" icon=\"icon-file\" />\r\n                    </template>\r\n                    <vs-button color=\"primary\" class=\"btn_ver\" @click=\"verPlanificacion(item.webplanificacion)\">Ver</vs-button>\r\n                </vs-list-item>\r\n                </vs-list> -->\r\n\r\n                        <vs-list v-if=\"tabMostrar===4\">\r\n                            <vs-list-header title=\"Teletareas\" color=\"warning\"></vs-list-header>\r\n                            <vs-list-item v-for=\"(item,$index) in teletareasunidades\" :key=\"$index\" v-bind:title=\"item.nombre\" subtitle=\"\">\r\n                                <template slot=\"avatar\">\r\n                                    <vs-avatar color=\"warning\" icon-pack=\"feather\" icon=\"icon-file\" />\r\n                                </template>\r\n                                <vs-button color=\"primary\" class=\"btn_ver\" @click=\"verTeletarea(item)\">Ver</vs-button>\r\n                                <vs-button color=\"primary\" type=\"border\" class=\"btn_ver ml-1\" @click=\"descargarTeletarea(item)\">Descargar</vs-button>\r\n                            </vs-list-item>\r\n                        </vs-list>\r\n\r\n                        <vs-list v-if=\"tabMostrar===5\">\r\n                            <vs-list-header title=\"Juegos\" color=\"warning\"></vs-list-header>\r\n                            <vs-list-item v-for=\"(item,$index) in juegos\" :key=\"$index\" v-bind:title=\"item.nombre\" subtitle=\"\">\r\n                                <template slot=\"avatar\">\r\n                                    <vs-avatar color=\"warning\" icon-pack=\"feather\" icon=\"icon-award\" />\r\n                                </template>\r\n                                <vs-button color=\"primary\" class=\"btn_ver\" @click=\"verJuego(item)\">Ver</vs-button>\r\n                            </vs-list-item>\r\n                            <!--JUEGOS PROLIPA-->\r\n                            <JuegosProlipaVue :arregloJuegosProlipa=\"arregloJuegosProlipa\"/>\r\n                            <!--FIN JUEGOS DE PROLIPA-->\r\n                        </vs-list>\r\n\r\n                        <vs-list v-if=\"tabMostrar===6\">\r\n                            <vs-list-header title=\"Material de apoyo\" color=\"warning\"></vs-list-header>\r\n                            <vs-list-item v-for=\"(item,$index) in materialapoyo\" :key=\"$index\" v-bind:title=\"item.nombrematerial\" subtitle=\"\">\r\n                                <template slot=\"avatar\">\r\n                                    <vs-avatar color=\"warning\" icon-pack=\"feather\" icon=\"icon-folder\" />\r\n                                </template>\r\n                                <vs-button color=\"primary\" class=\"btn_ver\" @click=\"verMaterial(item)\">Ver</vs-button>\r\n                            </vs-list-item>\r\n                        </vs-list>\r\n\r\n                        <vs-list v-if=\"tabMostrar===7\">\r\n                            <vs-list-header title=\"Videos\" color=\"warning\"></vs-list-header>\r\n                            <vs-list-item v-for=\"(item,$index) in videos\" :key=\"$index\" v-bind:title=\"item.nombrevideo\" subtitle=\"\">\r\n                                <template slot=\"avatar\">\r\n                                    <vs-avatar color=\"warning\" icon-pack=\"feather\" icon=\"icon-video\" />\r\n                                </template>\r\n                                <vs-button color=\"primary\" class=\"btn_ver\" @click=\"verVideo(item)\">Ver2</vs-button>\r\n                            </vs-list-item>\r\n                        </vs-list>\r\n                    </div>\r\n                </div>\r\n            </vx-card>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport historicoMixin from \"@/mixins/historicomix\";\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport vSelect from 'vue-select'\r\nimport 'vue-select/dist/vue-select.css';\r\nimport JuegosProlipaVue from \"./components/Juegos/JuegosProlipa.vue\";\r\nimport {\r\n    getIdFromUrl\r\n} from 'vue-youtube'\r\nimport VueYoutube from 'vue-youtube'\r\nVue.use(VueYoutube)\r\nVue.use(axios)\r\nexport default {\r\n    mixins: [historicoMixin],\r\n    components: {\r\n        'v-select': vSelect,\r\n        JuegosProlipaVue,\r\n    },\r\n    data() {\r\n        return {\r\n            activePrompt: false,\r\n            activePrompt2: false,\r\n            val: '',\r\n            idlibro: '',\r\n            indexUnidad: '',\r\n            valUnidad: '',\r\n            valMultipe: {\r\n                value1: '',\r\n                value2: ''\r\n            },\r\n            select: [],\r\n            libros: [],\r\n            usuario: [],\r\n            miusuario:[],\r\n            librosunidades: [],\r\n            librosunidades_anim: [],\r\n            planificacionesunidades: [],\r\n            teletareasunidades: [],\r\n            cantactividades: 0,\r\n            cantanimaciones: 0,\r\n            cantplanificaciones: 0,\r\n            canteletareas: 0,\r\n            tabMostrar: 0,\r\n            nombrelibroSelec: '',\r\n            idUnidad: '',\r\n            dataLibroSelec: [],\r\n            carpeta: '',\r\n            juegos: [],\r\n            materialapoyo: [],\r\n            temas: [],\r\n            videos: [],\r\n            popupVideoActive: false,\r\n            youtube: '',\r\n            //variavbles para juegos de prolipa\r\n            arregloJuegosProlipa:[],\r\n            cant_juegosprolipa:0,\r\n            //fin variables par juegos de prolipa\r\n        }\r\n    },\r\n    computed: {\r\n        validName() {\r\n            return (this.valMultipe.value1.length > 0 && this.valMultipe.value2.length > 0)\r\n        }\r\n    },\r\n    created() {\r\n        this.usuario = JSON.parse(localStorage.getItem('usuario'))\r\n        this.miusuario = this.usuario\r\n        this.idlibro = localStorage.getItem('idlibro')\r\n        this.indexUnidad = localStorage.getItem('indexUnidad')\r\n        this.valUnidad = localStorage.getItem('valUnidad')\r\n        this.nombrelibroSelec = localStorage.getItem('nombrelibroSelec')\r\n        this.idUnidad = localStorage.getItem('idUnidad')\r\n        this.carpeta = localStorage.getItem('carpetaLibroSelec')\r\n    },\r\n    mounted() {\r\n      let me = this\r\n      me.getTodosJuegosProlipa()\r\n      this.getLibros()\r\n    },\r\n    methods: {\r\n        async getLibros() {\r\n            let me = this\r\n            me.$vs.loading()\r\n\r\n            this.$http.get(this.$server_url+'temasUnidad_id/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.temas = response.data\r\n                })\r\n                .catch(function (error) {}),\r\n\r\n                this.$http.get(this.$server_url+'actividades_libros_unidad/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.librosunidades = response.data\r\n                    me.cantactividades = response.data.length\r\n                })\r\n                .catch(function (error) {}),\r\n\r\n                this.$http.get(this.$server_url+'animaciones_libros_unidad/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.librosunidades_anim = response.data\r\n                    me.cantanimaciones = response.data.length\r\n                })\r\n                .catch(function (error) {})\r\n\r\n            this.$http.get(this.$server_url+'teletareasunidades/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.teletareasunidades = response.data\r\n                    me.canteletareas = response.data.length\r\n                })\r\n                .catch(function (error) {}),\r\n\r\n                this.$http.get(this.$server_url+'juegos_unidad/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.juegos = response.data\r\n                })\r\n                .catch(function (error) {}),\r\n\r\n                this.$http.get(this.$server_url+'materialapoyo_unidad/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.materialapoyo = response.data\r\n                })\r\n                .catch(function (error) {}),\r\n\r\n                this.$http.get(this.$server_url+'videos_libro_unidad/' + me.idUnidad)\r\n                .then(function (response) {\r\n                    me.videos = response.data\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {})\r\n        },\r\n        getTodosJuegosProlipa(){\r\n          let me = this\r\n          me.cant_juegosprolipa = 0\r\n          const formData = new FormData();\r\n          formData.append('unidad',localStorage.valUnidad)\r\n          formData.append('id_asignatura', localStorage.idasignatura);\r\n          this.$http.post(this.$server_url + 'j_juegos_tipo_prolipaTodos', formData)\r\n              .then(res => {\r\n                if(res.data.length > 0){\r\n                  me.arregloJuegosProlipa = res.data.items;\r\n                  if (res.data.items) {\r\n                    me.cant_juegosprolipa = me.arregloJuegosProlipa.length\r\n                  }\r\n                }\r\n              })\r\n              .catch(function (error) {\r\n                  console.log(error);\r\n              })\r\n        },\r\n        verActividad(item,folder) {\r\n            let me = this;\r\n            let link = item.link\r\n            //guardar en historico las activas\r\n            if(folder == \"actividades\"){\r\n                let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n                let h_idusuario = me.miusuario.idusuario;\r\n                let h_idgrupo = me.miusuario.id_group;\r\n                let h_idasignatura = localStorage.idasignatura\r\n                let h_nombreasignatura = localStorage.nombreasignatura\r\n                let h_recursotipo = 19; //19 = actividades\r\n                let datoHistorico = {\r\n                    'user_nombre': me.miusuario.nombres,\r\n                    'user_apellido': me.miusuario.apellidos,\r\n                    'user_email': me.miusuario.email,\r\n                    'user_cedula': me.miusuario.cedula,\r\n                    'recurso_accion': 'ver',\r\n                    'recurso_tipo': 'actividades',\r\n                    'recurso_nombre': item.nombre_tema,\r\n                    'recurso_detalle': 'clasificacion '+item.clasificacion,\r\n                    'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n                }\r\n                 me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n                 me.saveHistoricoActividades(item.nombre_tema,folder,1,item.page)\r\n            }\r\n            //guardar en historico las animaciones\r\n            else{\r\n                let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n                let h_idusuario = me.miusuario.idusuario;\r\n                let h_idgrupo = me.miusuario.id_group;\r\n                let h_idasignatura = localStorage.idasignatura\r\n                let h_nombreasignatura = localStorage.nombreasignatura\r\n                let h_recursotipo = 20; //20 = animaciones\r\n                let datoHistorico = {\r\n                    'user_nombre': me.miusuario.nombres,\r\n                    'user_apellido': me.miusuario.apellidos,\r\n                    'user_email': me.miusuario.email,\r\n                    'user_cedula': me.miusuario.cedula,\r\n                    'recurso_accion': 'ver',\r\n                    'recurso_tipo': 'animaciones',\r\n                    'recurso_nombre': item.nombre_tema,\r\n                    'recurso_detalle': 'clasificacion '+item.clasificacion,\r\n                    'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n                }\r\n                me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n                me.saveHistoricoActividades(item.nombre_tema,folder,3,item.page)\r\n            }\r\n            localStorage.vistalibro = 'todo'\r\n            localStorage.url_actividad = this.carpeta + '/' + folder + '/' + link + '.html';\r\n            this.$router.push('/docente/libro/digital');\r\n        },\r\n        saveHistoricoActividades(activity,folder,tipo,page){\r\n            let me = this;\r\n            let asignatura_id = localStorage.idasignatura\r\n            let idusuario     = me.usuario.idusuario\r\n            let url           = folder\r\n            let actividad     = activity\r\n            let periodo_id    = localStorage.periodo_id\r\n            this.$http.get(this.$server_url+'conteoActividad?asignatura_id='+asignatura_id+'&idusuario='+idusuario+'&url='+url+'&actividad='+actividad+'&periodo_id='+periodo_id+'&pagina='+page+'&tipo='+tipo)\r\n                .then(function (res) {\r\n                    me.$vs.loading.close()\r\n                })\r\n                .catch(function (error) {\r\n                    console.log(error + ' error');\r\n                    me.$vs.loading.close()\r\n                })\r\n        },\r\n        verPlanificacion(web) {\r\n            window.open(this.$data_url+'tareas/upload/planificacion/' + web, '_blank');\r\n        },\r\n        verTeletarea(item) {\r\n            let me = this\r\n            if (this.usuario.id_group == 9 && item.nombre.substr(-3) == \"pdf\") {\r\n                this.$vs.notify({\r\n                    text: 'El archivo no esta disponible en la version DEMO',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n            let h_idusuario = me.miusuario.idusuario;\r\n            let h_idgrupo = me.miusuario.id_group;\r\n            let h_idasignatura = localStorage.idasignatura\r\n            let h_nombreasignatura = localStorage.nombreasignatura\r\n            let h_recursotipo = 4; //4 = teletarea\r\n            let datoHistorico = {\r\n                'user_nombre': me.miusuario.nombres,\r\n                'user_apellido': me.miusuario.apellidos,\r\n                'user_email': me.miusuario.email,\r\n                'user_cedula': me.miusuario.cedula,\r\n                'recurso_accion': 'ver',\r\n                'recurso_tipo': 'teletarea',\r\n                'recurso_nombre': item.nombre,\r\n                'recurso_detalle': 'nombre del tema '+item.nombre_tema,\r\n                'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n            }\r\n            me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n            me.saveHistoricoActividades(item.nombre,item.url,4,0)\r\n            if (item.nombre.substr(-3) == \"pdf\") {\r\n                window.open(this.$data_url+'tareas/' + item.url, '_blank');\r\n            } else if (item.mime = \"application/pdf\") {\r\n                window.open('https://view.officeapps.live.com/op/embed.aspx?src='+this.$data_url+'tareas/' + item.url, '_blank');\r\n            }\r\n        },\r\n        descargarTeletarea(item) {\r\n            let me = this;\r\n            if (this.usuario.id_group == 9 && item.nombre.substr(-3) == \"pdf\") {\r\n                this.$vs.notify({\r\n                    text: 'El archivo no esta disponible en la version DEMO',\r\n                    color: 'warning',\r\n                    iconPack: 'feather',\r\n                    icon: 'icon-alert-triangle'\r\n                })\r\n                return\r\n            }\r\n            let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n            let h_idusuario = me.miusuario.idusuario;\r\n            let h_idgrupo = me.miusuario.id_group;\r\n            let h_idasignatura = localStorage.idasignatura\r\n            let h_nombreasignatura = localStorage.nombreasignatura\r\n            let h_recursotipo = 4; //4 = teletarea\r\n            let datoHistorico = {\r\n                'user_nombre': me.miusuario.nombres,\r\n                'user_apellido': me.miusuario.apellidos,\r\n                'user_email': me.miusuario.email,\r\n                'user_cedula': me.miusuario.cedula,\r\n                'recurso_accion': 'descargar',\r\n                'recurso_tipo': 'teletarea',\r\n                'recurso_nombre': item.nombre,\r\n                'recurso_detalle': 'nombre del tema '+item.nombre_tema,\r\n                'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n            }\r\n            me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n            me.saveHistoricoActividades(item.nombre,item.url,4,0)\r\n            window.open(this.$data_url+'tareas/' + item.url, '_blank');\r\n        },\r\n        verJuego(item) {\r\n            let me = this\r\n            let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n            let h_idusuario = me.miusuario.idusuario;\r\n            let h_idgrupo = me.miusuario.id_group;\r\n            let h_idasignatura = localStorage.idasignatura\r\n            let h_nombreasignatura = localStorage.nombreasignatura\r\n            let h_recursotipo = 8; //8 = juego\r\n            let datoHistorico = {\r\n                'user_nombre': me.miusuario.nombres,\r\n                'user_apellido': me.miusuario.apellidos,\r\n                'user_email': me.miusuario.email,\r\n                'user_cedula': me.miusuario.cedula,\r\n                'recurso_accion': 'ver',\r\n                'recurso_tipo': 'juego',\r\n                'recurso_nombre': item.nombre,\r\n                'recurso_detalle': '',\r\n                'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n            }\r\n            me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n            me.saveHistoricoActividades(item.nombre,item.carpeta,5,0)\r\n            localStorage.url_juego = item.carpeta;\r\n            this.$router.push('/docente/juego/digital');\r\n            // window.open('/docente/juego/digital', '_blank');\r\n        },\r\n        verMaterial(item) {\r\n            let me = this\r\n            let h_idinstitucion = me.miusuario.institucion_idInstitucion;\r\n            let h_idusuario = me.miusuario.idusuario;\r\n            let h_idgrupo = me.miusuario.id_group;\r\n            let h_idasignatura = localStorage.idasignatura\r\n            let h_nombreasignatura = localStorage.nombreasignatura\r\n            let h_recursotipo = 9; //9 = material\r\n            let datoHistorico = {\r\n                'user_nombre': me.miusuario.nombres,\r\n                'user_apellido': me.miusuario.apellidos,\r\n                'user_email': me.miusuario.email,\r\n                'user_cedula': me.miusuario.cedula,\r\n                'recurso_accion': 'ver',\r\n                'recurso_tipo': 'material',\r\n                'recurso_nombre': item.nombrematerial,\r\n                'recurso_detalle': '',\r\n                'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n            }\r\n            me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n            me.saveHistoricoActividades(item.nombrematerial,item.webmaterial,2,0)\r\n            localStorage.url_material = item.webmaterial\r\n            this.$router.push('/docente/material/digital');\r\n            // window.open('/docente/material/digital', '_blank');\r\n        },\r\n        irdesgloseTema(item) {\r\n            localStorage.idtemaSelec = item.id\r\n            localStorage.nombre_tema = item.nombre_tema\r\n            this.$router.push('/docente/libro/desglosetema');\r\n        },\r\n        verVideo(item) {\r\n            let me = this\r\n            let url = item.webvideo\r\n            //guardar historico\r\n            let h_idinstitucion     = me.miusuario.institucion_idInstitucion;\r\n            let h_idusuario         = me.miusuario.idusuario;\r\n            let h_idgrupo           = me.miusuario.id_group;\r\n            let h_idasignatura      = localStorage.idasignatura\r\n            let h_nombreasignatura  = localStorage.nombreasignatura\r\n            let h_recursotipo = 18; //18 = videos tema\r\n            let datoHistorico = {\r\n                'user_nombre':      me.miusuario.nombres,\r\n                'user_apellido':    me.miusuario.apellidos,\r\n                'user_email':       me.miusuario.email,\r\n                'user_cedula':      me.miusuario.cedula,\r\n                'recurso_accion':   'abrir',\r\n                'recurso_tipo':     'videos tema',\r\n                'recurso_nombre':   item.nombrevideo,\r\n                'recurso_detalle':  '',\r\n                'recurso_detalle2': 'abierto desde la unidad '+localStorage.valUnidad,\r\n            }\r\n            me.saveHistoricoVisitas(h_idinstitucion, h_idusuario, h_idgrupo, h_idasignatura,h_nombreasignatura,  h_recursotipo,datoHistorico)\r\n            me.saveHistoricoActividades(item.nombrevideo,item.webvideo,6,0)\r\n            //proceso\r\n            me.popupVideoActive = true\r\n            const youtubeId = getIdFromUrl(url)\r\n            me.youtube = youtubeId;\r\n            console.log('url ' + url, 'id yout '+ youtubeId)\r\n        },\r\n        libroWebUnidad() {\r\n            localStorage.vistalibro = 'por_unidad'\r\n            this.$router.push('/docente/libro/digital');\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n.tabVertical {\r\n    cursor: pointer;\r\n\r\n}\r\n\r\n.tabVertical:hover {\r\n    color: #1373FF;\r\n}\r\n\r\n.btn_ver {\r\n    font-size: 14px;\r\n    padding: 5px 15px 5px 15px !important;\r\n}\r\n</style>\r\n"]}]}