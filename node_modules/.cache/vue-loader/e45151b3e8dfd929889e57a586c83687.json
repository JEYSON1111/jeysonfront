{"remainingRequest":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos2\\pedidos\\libros\\ScreenLibros.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\src\\views\\pedidos2\\pedidos\\libros\\ScreenLibros.vue","mtime":1712682816410},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\PRY_NEW_JEYSON\\LOCAL\\plataformaprolipa_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\n  import {\r\n    mapState\r\n} from \"vuex\";\r\nconst form_librosVue = () => import('../../../pedidos/form_libros.vue')\r\nexport default{\r\n    components:{\r\n        form_librosVue,\r\n    },\r\n    data(){\r\n        return{\r\n            sendPedido:'',\r\n            usuario:[],\r\n        }\r\n    },\r\n    watch:{\r\n        ObjectPedido(results){\r\n            this.sendPedido = results\r\n        }\r\n    },\r\n    computed:{\r\n    ...mapState([\"auth\",'userRoot','susuario','ObjectPedido','groupFacturador']),\r\n    },\r\n    mounted(){\r\n        let me = this;\r\n        me.sendPedido = me.ObjectPedido\r\n        me.usuario    = me.susuario\r\n    },\r\n    methods:{\r\n        generarContrato(){\r\n        this.$vs.dialog({\r\n          type: 'confirm',\r\n          color: 'warning',\r\n          title: `Confirmar`,\r\n          acceptText:'Si, deseo generar el contrato',\r\n          cancelText:'Cancelar',\r\n          text: '¿Está seguro de guardar el contrato para este pedido?',\r\n          accept: this.confirmGenerarContrato\r\n        })\r\n      },\r\n      async confirmGenerarContrato(){\r\n        let me = this\r\n        const { contrato_generado } = me.sendPedido\r\n        if(contrato_generado == null || contrato_generado == \"\" || contrato_generado == \"null\") {}\r\n        else{\r\n            me.$vs.notify({ time: 8000, text: 'Este pedido ya tiene un contrato generado: ' + me.sendPedido.contrato_generado , color: 'warning', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n            return\r\n        }\r\n        me.$vs.loading()\r\n        await me.$http.get(me.$server_url+'generar_contrato_pedido/'+me.sendPedido.id_pedido+'/'+me.usuario.idusuario)\r\n        .then(res => {\r\n          me.$vs.loading.close()\r\n          if(res.data.status == 0){\r\n            me.$vs.notify({ time: 8000, text: res.data.message , color: 'danger', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n            return\r\n          }\r\n          if( res.data.error ){\r\n            me.$vs.notify({ time: 8000, text: res.data.error , color: 'danger', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n            return\r\n          }\r\n          me.$vs.notify({ time: 8000, text: 'Se creo correctamente el contrato: ' + res.data , color: 'success', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n\r\n          me.$emit('rechargePedido',true)\r\n        })\r\n        .catch(err => {\r\n          me.$vs.notify({ time: 4000, text: 'Error al generar el contrato.' , color: 'danger', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n          console.log(err);\r\n          me.$vs.loading.close();\r\n        })\r\n      },\r\n    }\r\n}\r\n",{"version":3,"sources":["ScreenLibros.vue"],"names":[],"mappings":";AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ScreenLibros.vue","sourceRoot":"src/views/pedidos2/pedidos/libros","sourcesContent":["<template>\r\n    <div>\r\n        <div v-if=\"sendPedido.id_pedido > 0\">\r\n            <form_librosVue\r\n              @rechargePedido=\"$emit('rechargePedido',true)\"\r\n              :tmpPedidos=\"sendPedido\"\r\n              :selectifanticipo=\"Boolean(sendPedido.ifanticipo)\"\r\n              :anticipoAprobado=\"(sendPedido.anticipo_aprobado == sendPedido.deuda) ? sendPedido.anticipo_aprobado : sendPedido.anticipo_aprobado - sendPedido.deuda\"\r\n                />\r\n            <br><br><br>\r\n        </div>\r\n        <!--GENERAR CONTRATO-->\r\n        <div class=\"flex justify-center\">\r\n            <vs-button type=\"relief\" v-if=\"groupFacturador && (sendPedido.contrato_generado == 'null' || sendPedido.contrato_generado == null)\" @click=\"generarContrato()\">Generar Contrato</vs-button>\r\n        </div>\r\n        <br><br><br><br><br><br><br><br><br><br>\r\n    </div>\r\n</template>\r\n<script>\r\n  import {\r\n    mapState\r\n} from \"vuex\";\r\nconst form_librosVue = () => import('../../../pedidos/form_libros.vue')\r\nexport default{\r\n    components:{\r\n        form_librosVue,\r\n    },\r\n    data(){\r\n        return{\r\n            sendPedido:'',\r\n            usuario:[],\r\n        }\r\n    },\r\n    watch:{\r\n        ObjectPedido(results){\r\n            this.sendPedido = results\r\n        }\r\n    },\r\n    computed:{\r\n    ...mapState([\"auth\",'userRoot','susuario','ObjectPedido','groupFacturador']),\r\n    },\r\n    mounted(){\r\n        let me = this;\r\n        me.sendPedido = me.ObjectPedido\r\n        me.usuario    = me.susuario\r\n    },\r\n    methods:{\r\n        generarContrato(){\r\n        this.$vs.dialog({\r\n          type: 'confirm',\r\n          color: 'warning',\r\n          title: `Confirmar`,\r\n          acceptText:'Si, deseo generar el contrato',\r\n          cancelText:'Cancelar',\r\n          text: '¿Está seguro de guardar el contrato para este pedido?',\r\n          accept: this.confirmGenerarContrato\r\n        })\r\n      },\r\n      async confirmGenerarContrato(){\r\n        let me = this\r\n        const { contrato_generado } = me.sendPedido\r\n        if(contrato_generado == null || contrato_generado == \"\" || contrato_generado == \"null\") {}\r\n        else{\r\n            me.$vs.notify({ time: 8000, text: 'Este pedido ya tiene un contrato generado: ' + me.sendPedido.contrato_generado , color: 'warning', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n            return\r\n        }\r\n        me.$vs.loading()\r\n        await me.$http.get(me.$server_url+'generar_contrato_pedido/'+me.sendPedido.id_pedido+'/'+me.usuario.idusuario)\r\n        .then(res => {\r\n          me.$vs.loading.close()\r\n          if(res.data.status == 0){\r\n            me.$vs.notify({ time: 8000, text: res.data.message , color: 'danger', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n            return\r\n          }\r\n          if( res.data.error ){\r\n            me.$vs.notify({ time: 8000, text: res.data.error , color: 'danger', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n            return\r\n          }\r\n          me.$vs.notify({ time: 8000, text: 'Se creo correctamente el contrato: ' + res.data , color: 'success', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n\r\n          me.$emit('rechargePedido',true)\r\n        })\r\n        .catch(err => {\r\n          me.$vs.notify({ time: 4000, text: 'Error al generar el contrato.' , color: 'danger', iconPack: 'feather', icon: 'icon-alert-triangle' })\r\n          console.log(err);\r\n          me.$vs.loading.close();\r\n        })\r\n      },\r\n    }\r\n}\r\n</script>\r\n"]}]}